/*! For license information please see main.8b7dbb75.js.LICENSE.txt */
!function(){var e={3361:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function f(e){return e.length}function h(e){return e.length}function p(e,t){return t.push(e),e}var g=1,m=1,x=0,v=0,S=0,y="";function b(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:g,column:m,length:a,return:""}}function C(e,t){return a(b("",null,null,"",null,null,0),e,{length:-e.length},t)}function w(){return S=v>0?c(y,--v):0,m--,10===S&&(m=1,g--),S}function D(){return S=v<x?c(y,v++):0,m++,10===S&&(m=1,g++),S}function T(){return c(y,v)}function P(){return v}function L(e,t){return d(y,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function k(e){return g=m=1,x=f(y=e),v=0,[]}function A(e){return y="",e}function R(e){return s(L(v-1,F(91===e?e+2:40===e?e+1:e)))}function E(e){for(;(S=T())&&S<33;)D();return I(e)>2||I(S)>3?"":" "}function O(e,t){for(;--t&&D()&&!(S<48||S>102||S>57&&S<65||S>70&&S<97););return L(e,P()+(t<6&&32==T()&&32==D()))}function F(e){for(;D();)switch(S){case e:return v;case 34:case 39:34!==e&&39!==e&&F(S);break;case 40:41===e&&F(e);break;case 92:D()}return v}function _(e,t){for(;D()&&e+S!==57&&(e+S!==84||47!==T()););return"/*"+L(t,v-1)+"*"+o(47===e?e:D())}function M(e){for(;!I(T());)D();return L(e,v)}var q="-ms-",N="-moz-",U="-webkit-",B="comm",Z="rule",Q="decl",z="@keyframes";function G(e,t){for(var n="",r=h(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function V(e,t,n,r){switch(e.type){case"@import":case Q:return e.return=e.return||e.value;case B:return"";case z:return e.return=e.value+"{"+G(e.children,r)+"}";case Z:e.value=e.props.join(",")}return f(n=G(e.children,r))?e.return=e.value+"{"+n+"}":""}function W(e){return A(j("",null,null,null,[""],e=k(e),0,[0],e))}function j(e,t,n,r,i,a,s,d,h){for(var g=0,m=0,x=s,v=0,S=0,y=0,b=1,C=1,L=1,I=0,k="",A=i,F=a,q=r,N=k;C;)switch(y=I,I=D()){case 40:if(108!=y&&58==c(N,x-1)){-1!=u(N+=l(R(I),"&","&\f"),"&\f")&&(L=-1);break}case 34:case 39:case 91:N+=R(I);break;case 9:case 10:case 13:case 32:N+=E(y);break;case 92:N+=O(P()-1,7);continue;case 47:switch(T()){case 42:case 47:p(X(_(D(),P()),t,n),h);break;default:N+="/"}break;case 123*b:d[g++]=f(N)*L;case 125*b:case 59:case 0:switch(I){case 0:case 125:C=0;case 59+m:S>0&&f(N)-x&&p(S>32?Y(N+";",r,n,x-1):Y(l(N," ","")+";",r,n,x-2),h);break;case 59:N+=";";default:if(p(q=H(N,t,n,g,m,i,d,k,A=[],F=[],x),a),123===I)if(0===m)j(N,t,q,q,A,a,x,d,F);else switch(99===v&&110===c(N,3)?100:v){case 100:case 109:case 115:j(e,q,q,r&&p(H(e,q,q,0,0,i,d,k,i,A=[],x),F),i,F,x,d,r?A:F);break;default:j(N,q,q,q,[""],F,0,d,F)}}g=m=S=0,b=L=1,k=N="",x=s;break;case 58:x=1+f(N),S=y;default:if(b<1)if(123==I)--b;else if(125==I&&0==b++&&125==w())continue;switch(N+=o(I),I*b){case 38:L=m>0?1:(N+="\f",-1);break;case 44:d[g++]=(f(N)-1)*L,L=1;break;case 64:45===T()&&(N+=R(D())),v=T(),m=x=f(k=N+=M(P())),I++;break;case 45:45===y&&2==f(N)&&(b=0)}}return a}function H(e,t,n,r,o,a,u,c,f,p,g){for(var m=o-1,x=0===o?a:[""],v=h(x),S=0,y=0,C=0;S<r;++S)for(var w=0,D=d(e,m+1,m=i(y=u[S])),T=e;w<v;++w)(T=s(y>0?x[w]+" "+D:l(D,/&\f/g,x[w])))&&(f[C++]=T);return b(e,t,n,0===o?Z:c,f,p,g)}function X(e,t,n){return b(e,t,n,B,o(S),d(e,2,-2),0)}function Y(e,t,n,r){return b(e,t,n,Q,d(e,0,r),d(e,r+1,-1),r)}var K=function(e,t,n){for(var r=0,i=0;r=i,i=T(),38===r&&12===i&&(t[n]=1),!I(i);)D();return L(e,v)},$=function(e,t){return A(function(e,t){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===T()&&(t[n]=1),e[n]+=K(v-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===T()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=D());return e}(k(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],o=$(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+N+e+q+e+e;case 6828:case 4268:return U+e+q+e+e;case 6165:return U+e+q+"flex-"+e+e;case 5187:return U+e+l(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return U+e+q+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return U+e+q+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+q+l(e,"shrink","negative")+e;case 5292:return U+e+q+l(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+l(e,"-grow","")+U+e+q+l(e,"grow","positive")+e;case 4554:return U+l(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(f(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,f(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":-webkit-")+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===c(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return U+e+q+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+q+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+q+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+q+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Q:e.return=ne(e.value,e.length);break;case z:return G([C(e,{value:l(e.value,"@","@-webkit-")})],r);case Z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return G([C(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return G([C(e,{props:[l(t,/:(plac\w+)/,":-webkit-input-$1")]}),C(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),C(e,{props:[l(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,a,s={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var u,c,d=[V,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=h(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([ee,te].concat(i,d));a=function(e,t,n,r){u=n,G(W(e?e+"{"+t.styles+"}":t.styles),f),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(l),p}},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},9886:function(e,t,n){"use strict";n.d(t,{T:function(){return s},w:function(){return a}});var r=n(2791),i=n(3361),o=(n(9140),n(2561),(0,r.createContext)("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null));o.Provider;var a=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(o);return e(t,i,n)}))},s=(0,r.createContext)({})},9140:function(e,t,n){"use strict";n.d(t,{O:function(){return g}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(9797),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=(0,o.Z)((function(e){return l(e)?e:e.replace(a,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===i[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"};function f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":u(a)&&(r+=c(o)+":"+d(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=f(e,t,a);switch(o){case"animation":case"animationName":r+=c(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)u(a[l])&&(r+=c(o)+":"+d(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,f(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var g=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";h=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=f(n,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=f(n,t,e[s]),i&&(o+=a[s]);p.lastIndex=0;for(var l,u="";null!==(l=p.exec(o));)u+="-"+l[1];return{name:r(o)+u,styles:o,next:h}}},2561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return a},j:function(){return s}});var i=n(2791),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,a=o||function(e){return e()},s=o||i.useLayoutEffect},5438:function(e,t,n){"use strict";n.d(t,{My:function(){return o},fp:function(){return r},hC:function(){return i}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0);o=o.next}while(void 0!==o)}}},9823:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=a},7491:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10zm1-17.93c3.94.49 7 3.85 7 7.93s-3.05 7.44-7 7.93V4.07z"}),"Contrast");t.Z=a},1788:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"}),"LibraryBooks");t.Z=a},8008:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=a},3950:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.Z=a},5403:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=a},2960:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z"}),"Straighten");t.Z=a},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4421)},7107:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(7462),i=n(3366),o=n(6189),a=n(2466),s=n(5080),l=n(7416),u=n(104),c=n(4942);function d(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,c.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,c.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var f=n(2065),h={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},g={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},x={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},S={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],C={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.white,default:h.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:h.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:h.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function D(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,f.$n)(e.main,i):"dark"===t&&(e.dark=(0,f._j)(e.main,o)))}function T(e){var t=e.mode,n=void 0===t?"light":t,s=e.contrastThreshold,l=void 0===s?3:s,u=e.tonalOffset,c=void 0===u?.2:u,d=(0,i.Z)(e,b),T=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[700],light:v[400],dark:v[800]}}(n),P=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[500],light:g[300],dark:g[700]}}(n),L=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[500],light:m[300],dark:m[700]}:{main:m[700],light:m[400],dark:m[800]}}(n),I=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:S[400],light:S[300],dark:S[700]}:{main:S[700],light:S[500],dark:S[900]}}(n),k=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(n),A=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:x[400],light:x[300],dark:x[700]}:{main:"#ed6c02",light:x[500],dark:x[900]}}(n);function R(e){return(0,f.mi)(e,w.text.primary)>=l?w.text.primary:C.text.primary}var E=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,s=e.lightShade,l=void 0===s?300:s,u=e.darkShade,d=void 0===u?700:u;if(!(t=(0,r.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,o.Z)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error((0,o.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return D(t,"light",l,c),D(t,"dark",d,c),t.contrastText||(t.contrastText=R(t.main)),t},O={dark:w,light:C};return(0,a.Z)((0,r.Z)({common:(0,r.Z)({},h),mode:n,primary:E({color:T,name:"primary"}),secondary:E({color:P,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:E({color:L,name:"error"}),warning:E({color:A,name:"warning"}),info:E({color:I,name:"info"}),success:E({color:k,name:"success"}),grey:p,contrastThreshold:l,getContrastText:R,augmentColor:E,tonalOffset:c},O[n]),d)}var P=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var L={textTransform:"uppercase"},I='"Roboto", "Helvetica", "Arial", sans-serif';function k(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,s=void 0===o?I:o,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,d=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,p=n.fontWeightMedium,g=void 0===p?500:p,m=n.fontWeightBold,x=void 0===m?700:m,v=n.htmlFontSize,S=void 0===v?16:v,y=n.allVariants,b=n.pxToRem,C=(0,i.Z)(n,P);var w=u/14,D=b||function(e){return"".concat(e/S*w,"rem")},T=function(e,t,n,i,o){return(0,r.Z)({fontFamily:s,fontWeight:e,fontSize:D(t),lineHeight:n},s===I?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},o,y);var a},k={h1:T(d,96,1.167,-1.5),h2:T(d,60,1.2,-.5),h3:T(h,48,1.167,0),h4:T(h,34,1.235,.25),h5:T(h,24,1.334,0),h6:T(g,20,1.6,.15),subtitle1:T(h,16,1.75,.15),subtitle2:T(g,14,1.57,.1),body1:T(h,16,1.5,.15),body2:T(h,14,1.43,.15),button:T(g,14,1.75,.4,L),caption:T(h,12,1.66,.4),overline:T(h,12,2.66,1,L)};return(0,a.Z)((0,r.Z)({htmlFontSize:S,pxToRem:D,fontFamily:s,fontSize:u,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:g,fontWeightBold:x},k),C,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var R=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],E=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},F={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _(e){return"".concat(Math.round(e),"ms")}function M(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function q(e){var t=(0,r.Z)({},O,e.easing),n=(0,r.Z)({},F,e.duration);return(0,r.Z)({getAutoHeightDuration:M,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.duration,a=void 0===o?n.standard:o,s=r.easing,l=void 0===s?t.easeInOut:s,u=r.delay,c=void 0===u?0:u;(0,i.Z)(r,E);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:_(a)," ").concat(l," ").concat("string"===typeof c?c:_(c))})).join(",")}},e,{easing:t,duration:n})}var N={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},U=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,c=e.palette,f=void 0===c?{}:c,h=e.transitions,p=void 0===h?{}:h,g=e.typography,m=void 0===g?{}:g,x=(0,i.Z)(e,U);if(e.vars)throw new Error((0,o.Z)(18));var v=T(f),S=(0,s.Z)(e),y=(0,a.Z)(S,{mixins:d(S.breakpoints,n),palette:v,shadows:R.slice(),typography:k(v,m),transitions:q(p),zIndex:(0,r.Z)({},N)});y=(0,a.Z)(y,x);for(var b=arguments.length,C=new Array(b>1?b-1:0),w=1;w<b;w++)C[w-1]=arguments[w];return(y=C.reduce((function(e,t){return(0,a.Z)(e,t)}),y)).unstable_sxConfig=(0,r.Z)({},l.Z,null==x?void 0:x.unstable_sxConfig),y.unstable_sx=function(e){return(0,u.Z)({sx:e,theme:this})},y}var Z=B},6482:function(e,t,n){"use strict";var r=(0,n(7107).Z)();t.Z=r},4923:function(e,t,n){"use strict";n.d(t,{ZP:function(){return V},FO:function(){return Q},Dz:function(){return z}});var r=n(3433),i=n(9439),o=n(3366),a=n(7462),s=n(2791),l=n(9797),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=(0,l.Z)((function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),d=n(9886),f=n(5438),h=n(9140),p=n(2561),g=c,m=function(e){return"theme"!==e},x=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?g:m},v=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},S=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,f.hC)(t,n,r);(0,p.L)((function(){return(0,f.My)(t,n,r)}));return null},y=function e(t,n){var r,i,o=t.__emotion_real===t,l=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=v(t,n,o),c=u||x(l),p=!c("as");return function(){var g=arguments,m=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&m.push("label:"+r+";"),null==g[0]||void 0===g[0].raw)m.push.apply(m,g);else{0,m.push(g[0][0]);for(var y=g.length,b=1;b<y;b++)m.push(g[b],g[0][b])}var C=(0,d.w)((function(e,t,n){var r=p&&e.as||l,o="",a=[],g=e;if(null==e.theme){for(var v in g={},e)g[v]=e[v];g.theme=(0,s.useContext)(d.T)}"string"===typeof e.className?o=(0,f.fp)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var y=(0,h.O)(m.concat(a),t.registered,g);o+=t.key+"-"+y.name,void 0!==i&&(o+=" "+i);var b=p&&void 0===u?x(r):c,C={};for(var w in e)p&&"as"===w||b(w)&&(C[w]=e[w]);return C.className=o,C.ref=n,(0,s.createElement)(s.Fragment,null,(0,s.createElement)(S,{cache:t,serialized:y,isStringTag:"string"===typeof r}),(0,s.createElement)(r,C))}));return C.displayName=void 0!==r?r:"Styled("+("string"===typeof l?l:l.displayName||l.name||"Component")+")",C.defaultProps=t.defaultProps,C.__emotion_real=C,C.__emotion_base=l,C.__emotion_styles=m,C.__emotion_forwardProp=u,Object.defineProperty(C,"toString",{value:function(){return"."+i}}),C.withComponent=function(t,r){return e(t,(0,a.Z)({},n,r,{shouldForwardProp:v(C,r,!0)})).apply(void 0,m)},C}},b=y.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){b[e]=b(e)}));var C=b;function w(e,t){return C(e,t)}var D=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},T=n(5080),P=n(7312),L=["variant"];function I(e){return 0===e.length}function k(e){var t=e.variant,n=(0,o.Z)(e,L),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?I(r)?e[t]:(0,P.Z)(e[t]):"".concat(I(r)?t:(0,P.Z)(t)).concat((0,P.Z)(e[t].toString()))})),r}var A=n(104),R=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],E=["theme"],O=["theme"];function F(e){return 0===Object.keys(e).length}function _(e){return"string"===typeof e&&e.charCodeAt(0)>96}var M=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},q=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=k(e.props);r[t]=e.style})),r},N=function(e,t,n,r){var i,o,a=e.ownerState,s=void 0===a?{}:a,l=[],u=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return u&&u.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&l.push(t[k(n.props)])})),l};function U(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var B=(0,T.Z)();var Z=n(6482),Q=function(e){return U(e)&&"classes"!==e},z=U,G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?B:t,s=e.rootShouldForwardProp,l=void 0===s?U:s,u=e.slotShouldForwardProp,c=void 0===u?U:u,d=function(e){var t=F(e.theme)?n:e.theme;return(0,A.Z)((0,a.Z)({},e,{theme:t}))};return d.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var s,u=t.name,f=t.slot,h=t.skipVariantsResolver,p=t.skipSx,g=t.overridesResolver,m=(0,o.Z)(t,R),x=void 0!==h?h:f&&"Root"!==f||!1,v=p||!1;var S=U;"Root"===f?S=l:f?S=c:_(e)&&(S=void 0);var y=w(e,(0,a.Z)({shouldForwardProp:S,label:s},m)),b=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),l=1;l<t;l++)s[l-1]=arguments[l];var c=s?s.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,o.Z)(t,E);return e((0,a.Z)({theme:F(r)?n:r},i))}:e})):[],f=e;u&&g&&c.push((function(e){var t=F(e.theme)?n:e.theme,r=M(u,t);if(r){var o={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),s=r[0],l=r[1];o[s]="function"===typeof l?l((0,a.Z)({},e,{theme:t})):l})),g(e,o)}return null})),u&&!x&&c.push((function(e){var t=F(e.theme)?n:e.theme;return N(e,q(u,t),t,u)})),v||c.push(d);var h=c.length-s.length;if(Array.isArray(e)&&h>0){var p=new Array(h).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=(0,o.Z)(t,O);return e((0,a.Z)({theme:F(r)?n:r},i))});var m=y.apply(void 0,[f].concat((0,r.Z)(c)));return m};return y.withConfig&&(b.withConfig=y.withConfig),b}}({defaultTheme:Z.Z,rootShouldForwardProp:Q}),V=G},3736:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1537),i=n(418);var o=n(6482);function a(e){return function(e){var t=e.props,n=e.name,o=e.defaultTheme,a=(0,i.Z)(o);return(0,r.Z)({theme:a,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:o.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(7462),i=n(2791),o=n(3366),a=n(8182),s=n(4419),l=n(4036),u=n(3736),c=n(4923),d=n(5878),f=n(1217);function h(e){return(0,f.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184),g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.Z)(n.color))],t["fontSize".concat((0,l.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,x,v=e.theme,S=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=v.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=v.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=v.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(s=v.typography)||null==(l=s.pxToRem)?void 0:l.call(s,24))||"1.5rem",large:(null==(u=v.typography)||null==(c=u.pxToRem)?void 0:c.call(u,35))||"2.1875rem"}[S.fontSize],color:null!=(d=null==(f=(v.vars||v).palette)||null==(h=f[S.color])?void 0:h.main)?d:{action:null==(p=(v.vars||v).palette)||null==(g=p.action)?void 0:g.active,disabled:null==(m=(v.vars||v).palette)||null==(x=m.action)?void 0:x.disabled,inherit:void 0}[S.color]}})),x=i.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,c=n.className,d=n.color,f=void 0===d?"inherit":d,x=n.component,v=void 0===x?"svg":x,S=n.fontSize,y=void 0===S?"medium":S,b=n.htmlColor,C=n.inheritViewBox,w=void 0!==C&&C,D=n.titleAccess,T=n.viewBox,P=void 0===T?"0 0 24 24":T,L=(0,o.Z)(n,g),I=(0,r.Z)({},n,{color:f,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:P}),k={};w||(k.viewBox=P);var A=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,l.Z)(t)),"fontSize".concat((0,l.Z)(n))]};return(0,s.Z)(i,h,r)}(I);return(0,p.jsxs)(m,(0,r.Z)({as:v,className:(0,a.Z)(A.root,c),focusable:"false",color:b,"aria-hidden":!D||void 0,role:D?"img":void 0,ref:t},k,L,{ownerState:I,children:[i,D?(0,p.jsx)("title",{children:D}):null]}))}));x.muiName="SvgIcon";var v=x;function S(e,t){function n(n,i){return(0,p.jsx)(v,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=v.muiName,i.memo(i.forwardRef(n))}},3199:function(e,t,n){"use strict";var r=n(3981);t.Z=r.Z},4421:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return a.Z},debounce:function(){return s.Z},deprecatedPropType:function(){return l},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return h},unstable_ClassNameGenerator:function(){return b},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return m},useControlled:function(){return x.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return S.Z},useIsFocusVisible:function(){return y.Z}});var r=n(5902),i=n(4036),o=n(8949).Z,a=n(9201),s=n(3199);var l=function(e,t){return function(){return null}},u=n(9103),c=n(8301),d=n(7602);n(7462);var f=function(e,t){return function(){return null}},h=n(2971).Z,p=n(162),g=n(7384);var m=function(e,t,n,r,i){return null},x=n(8744),v=n(9683),S=n(2071),y=n(3031),b={configure:function(e){r.Z.configure(e)}}},9103:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);var i=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},8301:function(e,t,n){"use strict";var r=n(9723);t.Z=r.Z},7602:function(e,t,n){"use strict";var r=n(7979);t.Z=r.Z},8744:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9439),i=n(2791);var o=function(e){var t=e.controlled,n=e.default,o=(e.name,e.state,i.useRef(void 0!==t).current),a=i.useState(n),s=(0,r.Z)(a,2),l=s[0],u=s[1];return[o?t:l,i.useCallback((function(e){o||u(e)}),[])]}},162:function(e,t,n){"use strict";var r=n(5721);t.Z=r.Z},9683:function(e,t,n){"use strict";var r=n(8956);t.Z=r.Z},2071:function(e,t,n){"use strict";var r=n(7563);t.Z=r.Z},7384:function(e,t,n){"use strict";var r=n(6248);t.Z=r.Z},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r,i=n(2791),o=!0,a=!1,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function u(){o=!1}function c(){"hidden"===this.visibilityState&&a&&(o=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var f=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",c,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,window.clearTimeout(r),r=window.setTimeout((function(){a=!1}),100),t.current=!1,!0)},ref:e}}},8023:function(e,t,n){"use strict";var r=n(2791).createContext(null);t.Z=r},9598:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i=n(8023);function o(){return r.useContext(i.Z)}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return l},P$:function(){return c},VO:function(){return i},W8:function(){return s},dt:function(){return u},k9:function(){return a}});var r=n(2466),i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function a(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var a=r.breakpoints||o;return t.reduce((function(e,r,i){return e[a.up(a.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var s=r.breakpoints||o;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(s.values||i).indexOf(r)){e[s.up(r)]=n(t[r],r)}else{var o=r;e[o]=t[o]}return e}),{})}return n(t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function l(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function u(e){for(var t=s(e),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=[t].concat(i).reduce((function(e,t){return(0,r.Z)(e,t)}),{});return l(Object.keys(t),a)}function c(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),o=Object.keys(i);return 0===o.length?n:o.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return d},Fq:function(){return u},_j:function(){return c},mi:function(){return l}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,a=e.substring(t+1,e.length-1);if("color"===n){if(i=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else a=a.split(",");return{type:n,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:i}}function a(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){var t="hsl"===(e=o(e)).type||"hsla"===e.type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),a({type:u,values:c})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,a(e)}function c(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return a(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(7462),i=n(3366),o=n(2466),a=n(4942),s=["values","unit","step"];function l(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,o=e.unit,l=void 0===o?"px":o,u=e.step,c=void 0===u?5:u,d=(0,i.Z)(e,s),f=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,a.Z)({},t.key,t.val))}),{})}(n),h=Object.keys(f);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(l,")")}function g(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(l,")")}function m(e,t){var r=h.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(l,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[h[r]]?n[h[r]]:t)-c/100).concat(l,")")}return(0,r.Z)({keys:h,values:f,up:p,down:g,between:m,only:function(e){return h.indexOf(e)+1<h.length?m(e,h[h.indexOf(e)+1]):p(e)},not:function(e){var t=h.indexOf(e);return 0===t?p(h[1]):t===h.length-1?g(h[t]):m(e,h[h.indexOf(e)+1]).replace("@media","@media not all and")},unit:l},d)}var u={borderRadius:4},c=n(5682);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var f=n(104),h=n(7416),p=["breakpoints","palette","spacing","shape"];var g=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.palette,s=void 0===a?{}:a,c=e.spacing,g=e.shape,m=void 0===g?{}:g,x=(0,i.Z)(e,p),v=l(n),S=d(c),y=(0,o.Z)({breakpoints:v,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},s),spacing:S,shape:(0,r.Z)({},u,m)},x),b=arguments.length,C=new Array(b>1?b-1:0),w=1;w<b;w++)C[w-1]=arguments[w];return(y=C.reduce((function(e,t){return(0,o.Z)(e,t)}),y)).unstable_sxConfig=(0,r.Z)({},h.Z,null==x?void 0:x.unstable_sxConfig),y.unstable_sx=function(e){return(0,f.Z)({sx:e,theme:this})},y}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return g},eI:function(){return p},NA:function(){return m},e6:function(){return S},o3:function(){return y}});var r=n(9439),i=n(1184),o=n(8529),a=n(8247);var s={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],o=n[1],a=s[i],c=l[o]||"";return Array.isArray(c)?c.map((function(e){return a+e})):[a+c]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[].concat(d,f);function p(e,t,n,r){var i,a=null!=(i=(0,o.DW)(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function g(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function x(e,t,n,r){if(-1===t.indexOf(n))return null;var o=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(c(n),r),a=e[n];return(0,i.k9)(e,a,o)}function v(e,t){var n=g(e.theme);return Object.keys(e).map((function(r){return x(e,t,r,n)})).reduce(a.Z,{})}function S(e){return v(e,d)}function y(e){return v(e,f)}function b(e){return v(e,h)}S.propTypes={},S.filterProps=d,y.propTypes={},y.filterProps=f,b.propTypes={},b.filterProps=h},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return a},Jq:function(){return s}});var r=n(4942),i=n(7312),o=n(1184);function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function s(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:a(e,n)||i,t&&(r=t(r,i,e)),r}t.ZP=function(e){var t=e.prop,n=e.cssProperty,l=void 0===n?e.prop:n,u=e.themeKey,c=e.transform,d=function(e){if(null==e[t])return null;var n=e[t],d=a(e.theme,u)||{};return(0,o.k9)(e,n,(function(e){var n=s(d,c,e);return e===n&&"string"===typeof e&&(n=s(d,c,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===l?n:(0,r.Z)({},l,n)}))};return d.propTypes={},d.filterProps=[t],d}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(5682),i=n(8529),o=n(8247);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,o.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},s=n(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var u=(0,i.ZP)({prop:"border",themeKey:"borders",transform:l}),c=(0,i.ZP)({prop:"borderTop",themeKey:"borders",transform:l}),d=(0,i.ZP)({prop:"borderRight",themeKey:"borders",transform:l}),f=(0,i.ZP)({prop:"borderBottom",themeKey:"borders",transform:l}),h=(0,i.ZP)({prop:"borderLeft",themeKey:"borders",transform:l}),p=(0,i.ZP)({prop:"borderColor",themeKey:"palette"}),g=(0,i.ZP)({prop:"borderTopColor",themeKey:"palette"}),m=(0,i.ZP)({prop:"borderRightColor",themeKey:"palette"}),x=(0,i.ZP)({prop:"borderBottomColor",themeKey:"palette"}),v=(0,i.ZP)({prop:"borderLeftColor",themeKey:"palette"}),S=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,r.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["borderRadius"];a(u,c,d,f,h,p,g,m,x,v,S);var y=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,r.eI)(e.theme,"spacing",8,"gap");return(0,s.k9)(e,e.gap,(function(e){return{gap:(0,r.NA)(t,e)}}))}return null};y.propTypes={},y.filterProps=["gap"];var b=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,r.eI)(e.theme,"spacing",8,"columnGap");return(0,s.k9)(e,e.columnGap,(function(e){return{columnGap:(0,r.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["columnGap"];var C=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,r.eI)(e.theme,"spacing",8,"rowGap");return(0,s.k9)(e,e.rowGap,(function(e){return{rowGap:(0,r.NA)(t,e)}}))}return null};C.propTypes={},C.filterProps=["rowGap"];a(y,b,C,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function w(e,t){return"grey"===t?t:e}a((0,i.ZP)({prop:"color",themeKey:"palette",transform:w}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:w}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:w}));function D(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var T=(0,i.ZP)({prop:"width",transform:D}),P=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,s.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||s.VO[t]||D(t)}}))}return null};P.filterProps=["maxWidth"];var L=(0,i.ZP)({prop:"minWidth",transform:D}),I=(0,i.ZP)({prop:"height",transform:D}),k=(0,i.ZP)({prop:"maxHeight",transform:D}),A=(0,i.ZP)({prop:"minHeight",transform:D}),R=((0,i.ZP)({prop:"size",cssProperty:"width",transform:D}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:D}),a(T,P,L,I,k,A,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:w},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:w},backgroundColor:{themeKey:"palette",transform:w},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:y},rowGap:{style:C},columnGap:{style:b},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:D},maxWidth:{style:P},minWidth:{transform:D},height:{transform:D},maxHeight:{transform:D},minHeight:{transform:D},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:function(e,t,n){"use strict";var r=n(4942),i=n(7312),o=n(8247),a=n(8529),s=n(1184),l=n(7416);var u=function(){function e(e,t,n,o){var l,u=(l={},(0,r.Z)(l,e,t),(0,r.Z)(l,"theme",n),l),c=o[e];if(!c)return(0,r.Z)({},e,t);var d=c.cssProperty,f=void 0===d?e:d,h=c.themeKey,p=c.transform,g=c.style;if(null==t)return null;var m=(0,a.DW)(n,h)||{};if(g)return g(u);return(0,s.k9)(u,t,(function(t){var n=(0,a.Jq)(m,p,t);return t===n&&"string"===typeof t&&(n=(0,a.Jq)(m,p,"".concat(e).concat("default"===t?"":(0,i.Z)(t)),t)),!1===f?n:(0,r.Z)({},f,n)}))}return function t(n){var i,a=n||{},u=a.sx,c=a.theme,d=void 0===c?{}:c;if(!u)return null;var f=null!=(i=d.unstable_sxConfig)?i:l.Z;function h(n){var i=n;if("function"===typeof n)i=n(d);else if("object"!==typeof n)return n;if(!i)return null;var a=(0,s.W8)(d.breakpoints),l=Object.keys(a),u=a;return Object.keys(i).forEach((function(n){var a,l,c=(a=i[n],l=d,"function"===typeof a?a(l):a);if(null!==c&&void 0!==c)if("object"===typeof c)if(f[n])u=(0,o.Z)(u,e(n,c,d,f));else{var h=(0,s.k9)({theme:d},c,(function(e){return(0,r.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(h,c)?u=(0,o.Z)(u,h):u[n]=t({sx:c,theme:d})}else u=(0,o.Z)(u,e(n,c,d,f))})),(0,s.L7)(l,u)}return Array.isArray(u)?u.map(h):h(u)}}();u.filterProps=["sx"],t.Z=u},418:function(e,t,n){"use strict";var r=n(5080),i=n(9120),o=(0,r.Z)();t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,i.Z)(e)}},1537:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(o){if(o.toString().match(/^(components|slots)$/))n[o]=(0,r.Z)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){var a=e[o]||{},s=t[o];n[o]={},s&&Object.keys(s)?a&&Object.keys(a)?(n[o]=(0,r.Z)({},s),Object.keys(a).forEach((function(e){n[o][e]=i(a[e],s[e])}))):n[o]=s:n[o]=a}else void 0===n[o]&&(n[o]=e[o])})),n}function o(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?i(t.components[n].defaultProps,r):r}},9120:function(e,t,n){"use strict";var r=n(9598);function i(e){return 0===Object.keys(e).length}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,r.Z)();return!t||i(t)?e:t}},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},8949:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},3981:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return a}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=o(e[n])})),t}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},s=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?s[r]=a(e[r],t[r],n):n.clone?s[r]=i(t[r])?o(t[r]):t[r]:s[r]=t[r])})),s}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",o=i[t];return o?"".concat(n,"-").concat(o):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},9723:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7979:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9723);function i(e){return(0,r.Z)(e).defaultView||window}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},8956:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i=n(5721);function o(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},7563:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i=n(2971);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,i.Z)(t,e)}))}}),t)}},6248:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return l}});var i=n(9439),o=n(2791),a=0;var s=(r||(r=n.t(o,2))).useId;function l(e){if(void 0!==s){var t=s();return null!=e?e:t}return function(e){var t=o.useState(e),n=(0,i.Z)(t,2),r=n[0],s=n[1],l=e||r;return o.useEffect((function(){null==r&&s("mui-".concat(a+=1))}),[r]),l}(e)}},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},8108:function(e,t,n){var r,i,o;i=[n(5587),n(5119),n(7665)],r=function(e,t,r){var i,o=void 0!==o?o:"undefined"!=typeof self?self:"undefined"!=typeof n.g?n.g:{},a=((void 0!==(i=t)&&void 0!==i.default&&(t=t.default),a=a||{}).App=function(){var e=this,t=null,n=null,r=null,i=null,o=null,s=null,l=new a.gui.Style,u=new a.utils.ListenerHandler;function c(e){if(null===t.dataViewConfigs||void 0===t.dataViewConfigs)throw new Error("No available data view configuration");var n=[];return void 0!==t.dataViewConfigs["*"]?n=t.dataViewConfigs["*"]:void 0!==t.dataViewConfigs[e]&&(n=t.dataViewConfigs[e]),n}function d(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;++i)for(var s=e[t[i]],l=0;l<s.length;++l){var u=s[l];if(!n.includes(u.divId)){var c=document.getElementById(u.divId),d=(h=d=void 0,c=o.addLayerGroup(c));d.addEventListener("zoomchange",f),d.addEventListener("offsetchange",f),d.addEventListener("renderstart",f),d.addEventListener("renderend",f);for(var h=0;h<a.image.viewEventNames.length;++h)d.addEventListener(a.image.viewEventNames[h],f);r&&r.hasTool("Draw")&&(d.addEventListener("drawcreate",f),d.addEventListener("drawdelete",f)),void 0!==u.orientation&&c.setTargetOrientation(a.math.getMatrixFromName(u.orientation)),n.push(u.divId)}}}function f(e){u.fireEvent(e)}function h(e){e.type="loadstart",f(e)}function p(e){e.type="loadprogress",f(e)}function g(r){void 0===r.data&&a.logger.error("Missing loaditem event data."),void 0===r.loadtype&&a.logger.error("Missing loaditem event load type.");var i,o=r.isfirstitem,s=null;"image"===r.loadtype?(o?n.addNew(r.loadid,r.data.image,r.data.info):n.update(r.loadid,r.data.image,r.data.info),s=r.data.info):"state"===r.loadtype&&((i=new a.io.State).apply(e,i.fromJSON(r.data)),s="state"),f({type:"loaditem",data:s,source:r.source,loadtype:r.loadtype,loadid:r.loadid,isfirstitem:r.isfirstitem}),"image"===r.loadtype&&0!==c(r.loadid).length&&o&&t.viewOnFirstLoadItem&&e.render(r.loadid)}function m(e){e.type="load",f(e)}function x(e){e.type="loadend",f(e)}function v(e){e.type="loaderror",f(e)}function S(e){e.type="loadabort",f(e)}function y(t,i){if(!(m=n.get(t)))throw new Error("Cannot initialise layer with data id: "+t);var s=o.getLayerGroupByDivId(i.divId);if(!s)throw new Error("Cannot initialise layer with group id: "+i.divId);var l=m.image.getGeometry();o.unbindLayerGroups();var u,c=(new a.ViewFactory).create(m.meta,m.image),d=a.gui.getViewOrientation(l.getOrientation(),s.getTargetOrientation()),h=(c.setOrientation(d),"SEG"===m.image.getMeta().Modality&&c.setAlphaFunction((function(e){return 0===e[0]&&0===e[1]&&0===e[2]?0:255})),void 0!==i.colourMap&&c.setColourMap(i.colourMap),0===s.getNumberOfLayers()),p=1,g=(h||(p=.5,void 0===i.colourMap&&c.setColourMap(a.image.lut.rainbow)),s.addViewLayer()),m=(g.setView(c,t),c=l.getSize(d).get2D(),d=l.getSpacing(d).get2D(),g.initialise(c,d,p),p=g.getViewController(),"SEG"===m.image.getMeta().Modality&&(p.addEventListener("masksegmentdelete",f),p.addEventListener("masksegmentredraw",f)),n.addEventListener("imageset",g.onimageset),n.addEventListener("imagechange",(function(t){g.onimagechange(t),e.render(t.dataid)})),o.bindLayerGroups(),r&&r.bindLayer(g,s.getDivId()),r&&r.hasTool("Draw")&&((u=s.addDrawLayer()).initialise(c,d,t),u.setPlaneHelper(g.getViewController().getPlaneHelper())),[p.getCurrentIndex().getValues(),p.getCurrentPosition().getValues()]);s.updateLayersToPositionChange({value:m,srclayerid:g.getId()}),o.syncLayerGroupScale(),c=l.getOrientation().getThirdColMajorDirection(),g.setOffset(s.getOffset()),void 0!==i.orientation&&(2===c?"axial"!==i.orientation&&(g.addFlipOffsetY(),void 0!==u&&u.addFlipOffsetY()):0===c&&"sagittal"!==i.orientation&&(g.addFlipOffsetX(),void 0!==u&&u.addFlipOffsetX())),h?void 0!==i.orientation?0===c||2===c?s.flipScaleZ():(g.setScale(s.getScale()),void 0!==u&&u.setScale(s.getScale())):0===c?s.flipScaleZ():(g.setScale(s.getScale()),void 0!==u&&u.setScale(s.getScale())):(g.setScale(s.getScale()),void 0!==u&&u.setScale(s.getScale()))}this.getImage=function(e){return n.get(e).image},this.getLastImage=function(){return n.get(n.length()-1).image},this.setImage=function(e,t){n.setImage(e,t)},this.setLastImage=function(e){n.setImage(n.length()-1,e)},this.addNewImage=function(e,r){var i=n.length();return f({type:"loadstart",loadtype:"image",source:"internal",loadid:i}),n.addNew(i,e,r),f({type:"loaditem",loadtype:"image",data:r,source:"internal",loadid:i,isfirstitem:!0}),t.viewOnFirstLoadItem&&this.render(i),f({type:"load",loadtype:"image",source:"internal",loadid:i}),f({type:"loadend",loadtype:"image",source:"internal",loadid:i}),i},this.getMetaData=function(e){return n.get(e).meta},this.getNumberOfLoadedData=function(){return n.length()},this.canScroll=function(){return o.getActiveLayerGroup().getActiveViewLayer().getViewController().canScroll()},this.canWindowLevel=function(){return o.getActiveLayerGroup().getActiveViewLayer().getViewController().canWindowLevel()},this.getAddedScale=function(){return o.getActiveLayerGroup().getAddedScale()},this.getBaseScale=function(){return o.getActiveLayerGroup().getBaseScale()},this.getOffset=function(){return o.getActiveLayerGroup().getOffset()},this.getToolboxController=function(){return r},this.getActiveLayerGroup=function(){return o.getActiveLayerGroup()},this.getViewLayersByDataIndex=function(e){return o.getViewLayersByDataIndex(e)},this.getDrawLayersByDataIndex=function(e){return o.getDrawLayersByDataIndex(e)},this.getLayerGroupByDivId=function(e){return o.getLayerGroupByDivId(e)},this.getNumberOfLayerGroups=function(){return o.getNumberOfLayerGroups()},this.getStyle=function(){return l},this.addToUndoStack=function(e){null!==s&&s.add(e)},this.init=function(e){if(void 0===(t=e).viewOnFirstLoadItem&&(t.viewOnFirstLoadItem=!0),(s=new a.tool.UndoStack).addEventListener("undoadd",f),s.addEventListener("undo",f),s.addEventListener("redo",f),t.tools&&0!==t.tools.length){for(var l={},u=Object.keys(t.tools),c=0;c<u.length;++c){var d=u[c],y=t.tools[d];if(void 0!==a.tool[d]){if(l[d]=new a.tool[d](this),void 0!==l[d].addEventListener)for(var b=l[d].getEventNames(),C=0;C<b.length;++C)l[d].addEventListener(b[C],f);if(void 0!==y.options){var w="raw",D=(void 0!==l[d].getOptionsType&&(w=l[d].getOptionsType()),y.options);if("instance"===w||"factory"===w){D={};for(var T=0;T<y.options.length;++T){var P=y.options[T],L=P,I=("factory"===w&&(L+="Factory"),d.charAt(0).toLowerCase()+d.slice(1));void 0!==a.tool[I][L]?D[P]=a.tool[I][L]:a.logger.warn("Could not find option class for: "+P)}}l[d].setOptions(D)}}else a.logger.warn("Could not initialise unknown tool: "+d)}r=new a.ctrl.ToolboxController(l)}(i=new a.ctrl.LoadController(t.defaultCharacterSet)).onloadstart=h,i.onprogress=p,i.onloaditem=g,i.onload=m,i.onloadend=x,i.onerror=v,i.onabort=S,n=new a.ctrl.DataController,o=new a.gui.Stage,void 0!==t.binders&&o.setBinders(t.binders)},this.getElement=function(e){return null},this.reset=function(){n.reset(),o.empty(),s&&((s=new a.tool.UndoStack).addEventListener("undoadd",f),s.addEventListener("undo",f),s.addEventListener("redo",f))},this.resetLayout=function(){o.reset(),o.draw()},this.addEventListener=function(e,t){u.add(e,t)},this.removeEventListener=function(e,t){u.remove(e,t)},this.loadFiles=function(e){0===e.length?a.logger.warn("Ignoring empty input file list."):i.loadFiles(e)},this.loadURLs=function(e,t){0===e.length?a.logger.warn("Ignoring empty input url list."):i.loadURLs(e,t)},this.loadImageObject=function(e){i.loadImageObject(e)},this.abortLoad=function(){i.abort()},this.fitToContainer=function(){o.syncLayerGroupScale()},this.initWLDisplay=function(){o.getActiveLayerGroup().getActiveViewLayer().getViewController().initialise()},this.getDataViewConfig=function(){return t.dataViewConfigs},this.setDataViewConfig=function(e){o.empty(),d(t.dataViewConfigs=e)},this.setLayerGroupsBinders=function(e){o.setBinders(e)},this.render=function(e){if(null==e)throw new Error("Cannot render without data index");0===o.getNumberOfLayerGroups()&&d(t.dataViewConfigs);var n=c(e);if(0===n.length)a.logger.info("Not rendering data: "+e+" (no data view config)");else for(var i=0;i<n.length;++i){var s=n[i],l=o.getLayerGroupByDivId(s.divId);if(!l)throw new Error("No layer group for "+s.divId);0===l.getViewLayersByDataIndex(e).length&&(0===l.getNumberOfLayers()?(y(e,s),r&&r.init()):y(e,s)),l.draw()}},this.zoom=function(e,t,n){var r=o.getActiveLayerGroup(),i=r.getActiveViewLayer().getViewController().getCurrentScrollPosition();t=new a.math.Point3D(t,n,i),r.addScale(e,t),r.draw()},this.translate=function(e,t){var n=o.getActiveLayerGroup();n.addTranslation({x:e,y:t}),n.draw()},this.setOpacity=function(e){var t=o.getActiveLayerGroup().getActiveViewLayer();t.setOpacity(e),t.draw()},this.setDrawings=function(e,t){var n,r=(n=o.getActiveLayerGroup()).getActiveViewLayer().getViewController();(n=n.getActiveDrawLayer().getDrawController()).setDrawings(e,t,f,this.addToUndoStack),n.activateDrawLayer(r.getCurrentOrientedIndex(),r.getScrollIndex())},this.getState=function(){return(new a.io.State).toJSON(e)},this.onResize=function(t){e.fitToContainer()},this.onKeydown=function(e){f(e)},this.defaultOnKeydown=function(e){if(e.ctrlKey)if(e.shiftKey){var t=o.getActiveLayerGroup().getActiveViewLayer().getViewController(),n=t.getImageSize();"ArrowLeft"===e.key?n.moreThanOne(3)&&t.decrementIndex(3):"ArrowUp"===e.key?t.canScroll()&&t.incrementScrollIndex():"ArrowRight"===e.key?n.moreThanOne(3)&&t.incrementIndex(3):"ArrowDown"===e.key&&t.canScroll()&&t.decrementScrollIndex()}else if("y"===e.key)s.redo();else if("z"===e.key)s.undo();else if(" "===e.key)for(var r=0;r<o.getNumberOfLayerGroups();++r)o.getLayerGroup(r).setShowCrosshair(!o.getLayerGroup(r).getShowCrosshair())},this.resetDisplay=function(){e.resetLayout(),e.initWLDisplay()},this.resetZoom=function(){e.resetLayout()},this.setColourMap=function(e){o.getActiveLayerGroup().getActiveViewLayer().getViewController().setColourMapFromName(e)},this.setWindowLevelPreset=function(e){o.getActiveLayerGroup().getActiveViewLayer().getViewController().setWindowLevelPreset(e)},this.setTool=function(e){for(var t=0;t<o.getNumberOfLayerGroups();++t){var n=o.getLayerGroup(t),i=null;(i="Draw"===e||"Livewire"===e||"Floodfill"===e?n.getActiveDrawLayer():n.getActiveViewLayer())&&r.bindLayer(i,n.getDivId())}r.setSelectedTool(e)},this.setToolFeatures=function(e){r.setToolFeatures(e)},this.undo=function(){s.undo()},this.redo=function(){s.redo()},this.getStackSize=function(){return s.getStackSize()},this.getCurrentStackIndex=function(){return s.getCurrentStackIndex()}},a||{}),s=(a.ctrl=a.ctrl||{},a.ctrl.DataController=function(){var e={},t=new a.utils.ListenerHandler;function n(e){t.fireEvent(e)}function r(e){return function(t){t.dataid=e,n(t)}}function i(e){return void 0!==e.x00020010?new a.dicom.DicomElementsWrapper(e).dumpToObject():e}this.length=function(){return Object.keys(e).length},this.reset=function(){e=[]},this.get=function(t){return e[t]},this.setImage=function(t,i){n({type:"imageset",value:[e[t].image=i],dataid:t}),i.addEventListener("imagechange",r(t))},this.addNew=function(t,n,o){if(void 0!==e[t])throw new Error("Index already used in storage: "+t);e[t]={image:n,meta:i(o)},n.addEventListener("imagechange",r(t))},this.update=function(t,n,r){(t=e[t]).image.appendSlice(n),n="",n=void 0!==r.x00020010?"InstanceNumber":"imageUid",t.meta=a.utils.mergeObjects(t.meta,i(r),n,"value")},this.addEventListener=function(e,n){t.add(e,n)},this.removeEventListener=function(e,n){t.remove(e,n)}},(a=a||{}).draw=a.draw||{},a.ctrl=a.ctrl||{},t=t||{},a.draw.getDrawPositionGroupId=function(e){return"slice-"+e.get(2)+"_frame-"+(4===e.length()?e.get(3):0)},a.draw.getPositionFromGroupId=function(e){var t=e.indexOf("_");return-1===t&&a.logger.warn("Badly formed PositionGroupId: "+e),{sliceNumber:e.substring(6,t),frameNumber:e.substring(t+7)}},a.draw.isNodeNameShape=function(e){return"shape"===e.name()},a.draw.isNodeNameShapeExtra=function(e){return e.name().startsWith("shape-")},a.draw.isNodeNameLabel=function(e){return"label"===e.name()},a.draw.isPositionNode=function(e){return"position-group"===e.name()},a.draw.isNodeWithId=function(e){return function(t){return t.id()===e}},a.draw.canNodeChangeColour=function(e){return"anchor"!==e.name()&&"label"!==e.name()},a.draw.getHierarchyLog=function(e,t){void 0===t&&(t="");for(var n=e.getChildren(),r=t+"|__ "+e.name()+": "+e.id()+"\n",i=0;i<n.length;++i)r+=a.draw.getHierarchyLog(n[i],t+"    ");return r},a.ctrl.DrawController=function(e){var n=null;this.getCurrentPosGroup=function(){var r=e.getChildren((function(e){return e.id()===n})),i=null;return 1===r.length?i=r[0]:0===r.length?((i=new t.Group).name("position-group"),i.id(n),i.visible(!0),e.add(i)):a.logger.warn("Unexpected number of draw position groups."),i},this.reset=function(){e=null},this.getGroup=function(t){var n=e.findOne("#"+t);return void 0===n&&a.logger.warn("Cannot find node with id: "+t),n},this.activateDrawLayer=function(t,r){for(var i=[r],o=3;o<t.length();++o)i.push(o);n=t.toStringId(i);for(var s,l=e.getChildren(a.draw.isPositionNode),u=0,c=l.length;u<c;++u)s=!1,l[u].id()===n&&(s=!0),l[u].visible(s);e.draw()},this.getDrawDisplayDetails=function(){for(var t=[],n=e.getChildren(),r=0,i=n.length;r<i;++r)for(var o=a.math.getIndexFromStringId(n[r].id()),s=n[r].getChildren(),l=0,u=s.length;l<u;++l){var c,d=s[l].getChildren(a.draw.isNodeNameShape)[0],f=s[l].getChildren(a.draw.isNodeNameLabel)[0].getChildren()[0],h=d.className;"Line"===h&&(c=s[l].getChildren(a.draw.isNodeNameShapeExtra),d.closed()?h="Roi":0!==c.length&&(h=-1!==(c=c[0].name()).indexOf("triangle")?"Arrow":-1!==c.indexOf("arc")?"Protractor":"Ruler")),"Rect"===h&&(h="Rectangle"),t.push({id:s[l].id(),position:o.toString(),type:h,color:d.stroke(),meta:f.meta})}return t},this.getDrawStoreDetails=function(){for(var t={},n=e.getChildren(a.draw.isPositionNode),r=0,i=n.length;r<i;++r)for(var o,s=0,l=(o=n[r].getChildren()).length;s<l;++s){for(var u,c=(u=o[s]).find(".anchor"),d=0;d<c.length;++d)c[d].remove();var f=u.find(".text");1!==f.length&&a.logger.warn("There should not be more than one text per shape."),t[u.id()]={meta:f[0].meta}}return t},this.setDrawings=function(n,r,i,o){for(var s=t.Node.create(n).getChildren(a.draw.isPositionNode),l=0,u=s.length;l<u;++l)for(var c=s[l],d=e.getChildren(a.draw.isNodeWithId(c.id()))[0],f=(void 0===d&&(d=new t.Group({id:c.id(),name:"position-group",visible:!1}),e.add(d)),c.getChildren()),h=0,p=f.length;h<p;++h){var g,m=f[0],x=(d.add(m),m.getChildren(a.draw.isNodeNameShape)[0]);(x=new a.tool.DrawGroupCommand(m,x.className,e)).onExecute=i,x.onUndo=i,r&&(g=r[m.id()],(m=m.getChildren(a.draw.isNodeNameLabel)[0].getText()).meta=g.meta,m.setText(a.utils.replaceFlags(m.meta.textExpr,m.meta.quantification))),x.execute(),o(x)}},this.updateDraw=function(t){var n=e.findOne("#"+t.id);if(void 0===n)a.logger.warn("[updateDraw] Cannot find group with id: "+t.id);else{for(var r=n.getChildren(a.draw.isNodeNameShape),i=0;i<r.length;++i)r[i].stroke(t.color);for(var o=n.getChildren(a.draw.isNodeNameShapeExtra),s=0;s<o.length;++s)void 0!==o[s].stroke()?o[s].stroke(t.color):void 0!==o[s].fill()&&o[s].fill(t.color);for(var l,u=n.getChildren(a.draw.isNodeNameLabel)[0],c=a.utils.getShadowColour(t.color),d=u.getChildren(),f=0;f<d.length;++f)d[f].fill(t.color),"Text"===d[f].className&&((l=d[f]).shadowColor(c),void 0!==t.meta&&(l.meta=t.meta,l.setText(a.utils.replaceFlags(l.meta.textExpr,l.meta.quantification)),u.setVisible(0!==l.meta.textExpr.length)));e.draw()}},this.deleteDrawGroup=function(t,n,r){var i=t.getChildren(a.draw.isNodeNameShape)[0];i=a.tool.GetShapeDisplayName(i),(t=new a.tool.DeleteGroupCommand(t,i,e)).onExecute=n,t.onUndo=n,t.execute(),r(t)},this.deleteDraw=function(e,t,n){return void 0!==(e=this.getGroup(e))&&(this.deleteDrawGroup(e,t,n),!0)},this.deleteDraws=function(t,n){for(var r=e.getChildren();r.length;)this.deleteDrawGroup(r[0],t,n)}},(a=a||{}).ctrl=a.ctrl||{},a.ctrl.LoadController=function(e){var t=this,n={},r=-1;function i(e,i,a,s){var l={loadtype:a},u=++r;l.loadid=u,i.onloadstart=function(e){n[u]={loader:i,isFirstItem:!0},o(t.onloadstart,l)(e)},i.onprogress=o(t.onprogress,l),i.onloaditem=function(e){var r={loadtype:a,loadid:u};void 0!==n[u]&&(r.isfirstitem=n[u].isFirstItem),o(t.onloaditem,r)(e),void 0!==n[u]&&n[u].isFirstItem&&(n[u].isFirstItem=!1)},i.onload=o(t.onload,l),i.onloadend=function(e){delete n[u],o(t.onloadend,l)(e)},i.onerror=o(t.onerror,l),i.onabort=o(t.onabort,l);try{i.load(e,s)}catch(e){return t.onerror({error:e,loadid:u}),void t.onloadend({loadid:u})}}function o(e,t){return function(n){for(var r=Object.keys(t),i=0;i<r.length;++i){var o=r[i];n[o]=t[o]}e(n)}}this.loadFiles=function(t){var n,r;"json"===t[0].name.split(".").pop().toLowerCase()?i([n=t[0]],r=new a.io.FilesLoader,"state"):(n=t,(r=new a.io.FilesLoader).setDefaultCharacterSet(e),i(n,r,"image"))},this.loadURLs=function(t,n){var r,o,s;"json"===t[0].split(".").pop().toLowerCase()?(o=n,i([r=t[0]],s=new a.io.UrlsLoader,"state",o)):(r=t,s=n,(o=new a.io.UrlsLoader).setDefaultCharacterSet(e),i(r,o,"image",s))},this.loadImageObject=function(e){i(e,new a.io.MemoryLoader,"image")},this.abort=function(){for(var e=Object.keys(n),t=0;t<e.length;++t)n[t].loader.abort(),delete n[t]}},a.ctrl.LoadController.prototype.onloadstart=function(e){},a.ctrl.LoadController.prototype.onprogress=function(e){},a.ctrl.LoadController.prototype.onload=function(e){},a.ctrl.LoadController.prototype.onloadend=function(e){},a.ctrl.LoadController.prototype.onerror=function(e){},a.ctrl.LoadController.prototype.onabort=function(e){},(a=a||{}).ctrl=a.ctrl||{},a.ctrl.ToolboxController=function(e){var t=null,n=[],r={};function i(e,r){function i(e){var n;t&&(n=t[e.type])&&n(e)}return void 0===n[e]&&(n[e]=[]),void 0===n[e][r]&&(n[e][r]="keydown"===r||"touchend"===r?function(e){i(e)}:function(e){var t,n;t=e,n=a.gui.getEventOffset(t),t._x=n[0].x,t._y=n[0].y,2===n.length&&(t._x1=n[1].x,t._y1=n[1].y),i(e)}),n[e][r]}this.init=function(){for(var t in e)e[t].init();o.addEventListener("keydown",i("window","keydown"),!0)},this.getToolList=function(){return e},this.hasTool=function(e){return void 0!==this.getToolList()[e]},this.getSelectedTool=function(){return t},this.getSelectedToolEventHandler=function(e){return this.getSelectedTool()[e]},this.setSelectedTool=function(n){if(!this.hasTool(n))throw new Error("Unknown tool: '"+n+"'");t&&t.activate(!1),(t=e[n]).activate(!0)},this.setToolFeatures=function(e){this.getSelectedTool()&&this.getSelectedTool().setFeatures(e)},this.bindLayer=function(e,t){if(void 0!==r[t]){var n=r[t];n.unbindInteraction();for(var o=a.gui.interactionEventNames,s=0;s<o.length;++s)n.removeEventListener(o[s],i(n.getId(),o[s]))}e.bindInteraction();for(var l=a.gui.interactionEventNames,u=0;u<l.length;++u)e.addEventListener(l[u],i(e.getId(),l[u]));r[t]=e}},(a=a||{}).ctrl=a.ctrl||{},a.ctrl.ViewController=function(e,t){var n=this,r=null,i=t;if(void 0===e.getImage())throw new Error("View does not have an image, cannot setup controller");var o,s=new a.image.PlaneHelper(e.getImage().getGeometry().getRealSpacing(),e.getImage().getGeometry().getOrientation(),e.getOrientation()),l=("SEG"===e.getImage().getMeta().Modality&&(o=new a.image.MaskSegmentHelper(e.getImage())),new a.utils.ListenerHandler);function u(e){e.dataid=i,l.fireEvent(e)}this.getPlaneHelper=function(){return s},this.isMask=function(){return void 0!==o},this.getMaskSegmentHelper=function(){return o},this.applyHiddenSegments=function(){this.isMask&&this.setViewAlphaFunction(o.getAlphaFunc())},this.deleteSegment=function(e,t){this.isMask&&o.deleteSegment(e,u,t)},this.initialise=function(){this.setWindowLevelPresetById(0),this.setCurrentPosition(this.getPositionFromPlanePoint(0,0))},this.getWindowLevelPresetsNames=function(){return e.getWindowPresetsNames()},this.addWindowLevelPresets=function(t){return e.addWindowPresets(t)},this.setWindowLevelPreset=function(t){e.setWindowLevelPreset(t)},this.setWindowLevelPresetById=function(t){e.setWindowLevelPresetById(t)},this.isPlaying=function(){return null!==r},this.getCurrentPosition=function(){return e.getCurrentPosition()},this.getCurrentIndex=function(){return e.getCurrentIndex()},this.getCurrentOrientedIndex=function(){var t,n=e.getCurrentIndex();return void 0!==e.getOrientation()&&(t=s.getImageDeOrientedVector3D(new a.math.Vector3D(n.get(0),n.get(1),n.get(2))),n=new a.math.Index([t.getX(),t.getY(),t.getZ()])),n},this.getScrollIndex=function(){return e.getScrollIndex()},this.getCurrentScrollIndexValue=function(){return e.getCurrentIndex().get(e.getScrollIndex())},this.getOrigin=function(t){return e.getOrigin(t)},this.getCurrentScrollPosition=function(){var t=e.getScrollIndex();return e.getCurrentPosition().get(t)},this.generateImageData=function(t,n){e.generateImageData(t,n)},this.setImage=function(t,n){e.setImage(t),i=n},this.get2DSpacing=function(){var t=e.getImage().getGeometry().getSpacing();return[t.get(0),t.get(1)]},this.getRescaledImageValue=function(t){var n,r,i=e.getImage();if(i.canQuantify())return t=(n=i.getGeometry()).worldToIndex(t),n.isIndexInBounds(t)?i.getRescaledValueAtIndex(t):r},this.getPixelUnit=function(){return e.getImage().getMeta().pixelUnit},this.getImageRegionValues=function(t,n){var r,i,o=e.getImage(),s=e.getOrientation(),l=this.getCurrentIndex(),u=!0,c=(a.math.isIdentityMat33(s)||(r=a.image.getSliceIterator(o,l,u,s),r=a.image.getIteratorValues(r),(c=o.getGeometry().getSize(s).getValues())[2]=1,c=new a.image.Size(c),(s=o.getGeometry().getSpacing(s).getValues())[2]=1,s=new a.image.Spacing(s),i=new a.math.Point3D(0,0,0),i=new a.image.Geometry(i,c,s),o=new a.image.Image(i,r),l=new a.math.Index([0,0,0]),u=!1),a.image.getRegionSliceIterator(o,l,u,t,n));return s=[],c?a.image.getIteratorValues(c):s},this.getImageVariableRegionValues=function(t){var n=[];return(t=a.image.getVariableRegionSliceIterator(e.getImage(),this.getCurrentIndex(),!0,t))?a.image.getIteratorValues(t):n},this.canQuantifyImage=function(){return e.getImage().canQuantify()},this.canWindowLevel=function(){return e.getImage().canWindowLevel()},this.canScroll=function(){return e.getImage().canScroll(e.getOrientation())},this.getImageSize=function(){return e.getImage().getGeometry().getSize(e.getOrientation())},this.getImageWorldSize=function(){var t=(n=e.getImage().getGeometry()).getSize(e.getOrientation()).get2D(),n=n.getSpacing(e.getOrientation()).get2D();return{x:t.x*n.x,y:t.y*n.y}},this.getImageRescaledDataRange=function(){return e.getImage().getRescaledDataRange()},this.equalImageMeta=function(t){for(var n=e.getImage().getMeta(),r=Object.keys(t),i=0;i<r.length;++i){var o=r[i];if(void 0===n[o])return!1;if(n[o]!==t[o])return!1}return!0},this.canSetPosition=function(t){return e.canSetPosition(t)},this.setCurrentPosition=function(t,n){return e.setCurrentPosition(t,n)},this.getPositionFromPlanePoint=function(t,n){var r=this.getCurrentScrollIndexValue();return t=new a.math.Point3D(t,n,r),n=s.getImageOrientedVector3D(t),r=e.getImage().getGeometry().pointToWorld(n),this.getCurrentPosition().mergeWith3D(r)},this.getPlanePositionFromPosition=function(t){return t=e.getImage().getGeometry().worldToPoint(t),{x:(t=s.getImageDeOrientedVector3D(t)).getX(),y:t.getY()}},this.setCurrentIndex=function(t,n){return e.setCurrentIndex(t,n)},this.getPlanePositionFromPlanePoint=function(t){var n=this.getCurrentScrollIndexValue();return t=new a.math.Point3D(t.x,t.y,n),n=s.getTargetDeOrientedVector3D(t),t=e.getImage().getGeometry().getRealSpacing(),new a.math.Point3D(n.getX()*t.get(0),n.getY()*t.get(1),n.getZ()*t.get(2))},this.getOffset3DFromPlaneOffset=function(e){return s.getOffset3DFromPlaneOffset(e)},this.incrementIndex=function(t,n){return e.incrementIndex(t,n)},this.decrementIndex=function(t,n){return e.decrementIndex(t,n)},this.decrementScrollIndex=function(t){return e.decrementScrollIndex(t)},this.incrementScrollIndex=function(t){return e.incrementScrollIndex(t)},this.play=function(){var t,i,o;this.canScroll()&&(null===r?(i=(t=e.getImage()).getMeta().RecommendedDisplayFrameRate,i=e.getPlaybackMilliseconds(i),o=t.getGeometry().getSize().canScroll3D(),r=setInterval((function(){var t,r;(o?n.incrementScrollIndex():n.incrementIndex(3))||(r=n.getCurrentIndex().getValues(),t=e.getOrientation(),o?r[t.getThirdColMajorDirection()]=0:r[3]=0,t=new a.math.Index(r),r=e.getImage().getGeometry(),n.setCurrentPosition(r.indexToWorld(t)))}),i)):this.stop())},this.stop=function(){null!==r&&(clearInterval(r),r=null)},this.getWindowLevel=function(){return{width:e.getCurrentWindowLut().getWindowLevel().getWidth(),center:e.getCurrentWindowLut().getWindowLevel().getCenter()}},this.setWindowLevel=function(t,n){e.setWindowLevel(t,n)},this.getColourMap=function(){return e.getColourMap()},this.setColourMap=function(t){e.setColourMap(t)},this.setViewAlphaFunction=function(t){e.setAlphaFunction(t)},this.setColourMapFromName=function(e){if(!a.tool.colourMaps[e])throw new Error("Unknown colour map: '"+e+"'");this.setColourMap(a.tool.colourMaps[e])},this.addEventListener=function(e,t){l.add(e,t)},this.removeEventListener=function(e,t){l.remove(e,t)}},(a=a||{}).dicom=a.dicom||{},a.dicom.isNativeLittleEndian=function(){return 0<new Int8Array(new Int16Array([1]).buffer)[0]},a.dicom.flipArrayEndianness=function(e){for(var t,n=e.byteLength,r=new Uint8Array(e.buffer,e.byteOffset,n),i=e.BYTES_PER_ELEMENT,o=0;o<n;o+=i)for(var a=o+i-1,s=o;s<a;a--,s++)t=r[s],r[s]=r[a],r[a]=t},a.dicom.DataReader=function(e,t){void 0===t&&(t=!0);var n=a.dicom.isNativeLittleEndian(),r=t!==n,i=new DataView(e);this.readUint16=function(e){return i.getUint16(e,t)},this.readInt16=function(e){return i.getInt16(e,t)},this.readUint32=function(e){return i.getUint32(e,t)},this.readBigUint64=function(e){return i.getBigUint64(e,t)},this.readInt32=function(e){return i.getInt32(e,t)},this.readBigInt64=function(e){return i.getBigInt64(e,t)},this.readFloat32=function(e){return i.getFloat32(e,t)},this.readFloat64=function(e){return i.getFloat64(e,t)},this.readBinaryArray=function(t,n){for(var r,i,o=new Uint8Array(e,t,n),a=8*o.length,s=new Uint8Array(a),l=0;l<a;++l)r=l%8,i=Math.floor(l/8),s[l]=255*(0!=(o[i]&1<<r));return s},this.readUint8Array=function(t,n){return new Uint8Array(e,t,n)},this.readInt8Array=function(t,n){return new Int8Array(e,t,n)},this.readUint16Array=function(t,n){var i=Uint16Array.BYTES_PER_ELEMENT,o=n/i,s=null;if(t%i==0)s=new Uint16Array(e,t,o),r&&a.dicom.flipArrayEndianness(s);else{s=new Uint16Array(o);for(var l=0;l<o;++l)s[l]=this.readUint16(t+i*l)}return s},this.readInt16Array=function(t,n){var i=Int16Array.BYTES_PER_ELEMENT,o=n/i,s=null;if(t%i==0)s=new Int16Array(e,t,o),r&&a.dicom.flipArrayEndianness(s);else{s=new Int16Array(o);for(var l=0;l<o;++l)s[l]=this.readInt16(t+i*l)}return s},this.readUint32Array=function(t,n){var i=Uint32Array.BYTES_PER_ELEMENT,o=n/i,s=null;if(t%i==0)s=new Uint32Array(e,t,o),r&&a.dicom.flipArrayEndianness(s);else{s=new Uint32Array(o);for(var l=0;l<o;++l)s[l]=this.readUint32(t+i*l)}return s},this.readUint64Array=function(t,n){var i=BigUint64Array.BYTES_PER_ELEMENT,o=n/i,s=null;if(t%i==0)s=new BigUint64Array(e,t,o),r&&a.dicom.flipArrayEndianness(s);else{s=new BigUint64Array(o);for(var l=0;l<o;++l)s[l]=this.readBigUint64(t+i*l)}return s},this.readInt32Array=function(t,n){var i=Int32Array.BYTES_PER_ELEMENT,o=n/i,s=null;if(t%i==0)s=new Int32Array(e,t,o),r&&a.dicom.flipArrayEndianness(s);else{s=new Int32Array(o);for(var l=0;l<o;++l)s[l]=this.readInt32(t+i*l)}return s},this.readInt64Array=function(t,n){var i=BigInt64Array.BYTES_PER_ELEMENT,o=n/i,s=null;if(t%i==0)s=new BigInt64Array(e,t,o),r&&a.dicom.flipArrayEndianness(s);else{s=new BigInt64Array(o);for(var l=0;l<o;++l)s[l]=this.readBigInt64(t+i*l)}return s},this.readFloat32Array=function(t,n){var i=Float32Array.BYTES_PER_ELEMENT,o=n/i,s=null;if(t%i==0)s=new Float32Array(e,t,o),r&&a.dicom.flipArrayEndianness(s);else{s=new Float32Array(o);for(var l=0;l<o;++l)s[l]=this.readFloat32(t+i*l)}return s},this.readFloat64Array=function(t,n){var i=Float64Array.BYTES_PER_ELEMENT,o=n/i,s=null;if(t%i==0)s=new Float64Array(e,t,o),r&&a.dicom.flipArrayEndianness(s);else{s=new Float64Array(o);for(var l=0;l<o;++l)s[l]=this.readFloat64(t+i*l)}return s}},a.dicom.DataReader.prototype.readHex=function(e){return e=this.readUint16(e).toString(16),"0x0000".substring(0,6-e.length)+e.toUpperCase()},(a=a||{}).dicom=a.dicom||{},a.dicom.DataWriter=function(e,t){void 0===t&&(t=!0);var n=new DataView(e);this.useUnVrForPrivateSq=!1,this.writeUint8=function(e,t){return n.setUint8(e,t),e+Uint8Array.BYTES_PER_ELEMENT},this.writeInt8=function(e,t){return n.setInt8(e,t),e+Int8Array.BYTES_PER_ELEMENT},this.writeUint16=function(e,r){return n.setUint16(e,r,t),e+Uint16Array.BYTES_PER_ELEMENT},this.writeInt16=function(e,r){return n.setInt16(e,r,t),e+Int16Array.BYTES_PER_ELEMENT},this.writeUint32=function(e,r){return n.setUint32(e,r,t),e+Uint32Array.BYTES_PER_ELEMENT},this.writeUint64=function(e,r){return n.setBigUint64(e,r,t),e+BigUint64Array.BYTES_PER_ELEMENT},this.writeInt32=function(e,r){return n.setInt32(e,r,t),e+Int32Array.BYTES_PER_ELEMENT},this.writeInt64=function(e,r){return n.setBigInt64(e,r,t),e+BigInt64Array.BYTES_PER_ELEMENT},this.writeFloat32=function(e,r){return n.setFloat32(e,r,t),e+Float32Array.BYTES_PER_ELEMENT},this.writeFloat64=function(e,r){return n.setFloat64(e,r,t),e+Float64Array.BYTES_PER_ELEMENT},this.writeHex=function(e,r){return r=parseInt(r.substring(2),16),n.setUint16(e,r,t),e+Uint16Array.BYTES_PER_ELEMENT}},a.dicom.DataWriter.prototype.writeBinaryArray=function(e,t){if(t.length%8!=0)throw new Error("Cannot write boolean array as binary.");for(var n=null,r=0,i=t.length;r<i;r+=8){n=0;for(var o=0;o<8;++o)n+=(0===t[r+o]?0:1)<<o;e=this.writeUint8(e,n)}return e},a.dicom.DataWriter.prototype.writeUint8Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeUint8(e,t[n]);return e},a.dicom.DataWriter.prototype.writeInt8Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeInt8(e,t[n]);return e},a.dicom.DataWriter.prototype.writeUint16Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeUint16(e,t[n]);return e},a.dicom.DataWriter.prototype.writeInt16Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeInt16(e,t[n]);return e},a.dicom.DataWriter.prototype.writeUint32Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeUint32(e,t[n]);return e},a.dicom.DataWriter.prototype.writeUint64Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeUint64(e,t[n]);return e},a.dicom.DataWriter.prototype.writeInt32Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeInt32(e,t[n]);return e},a.dicom.DataWriter.prototype.writeInt64Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeInt64(e,t[n]);return e},a.dicom.DataWriter.prototype.writeFloat32Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeFloat32(e,t[n]);return e},a.dicom.DataWriter.prototype.writeFloat64Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeFloat64(e,t[n]);return e},(a=a||{}).dicom=a.dicom||{},a.dicom.DicomElementsWrapper=function(e){this.getDEFromKey=function(t){return e[t]},this.getFromKey=function(t,n){void 0===n&&(n=!1);var r=null;return void 0!==(t=e[t])?1===t.value.length&&!1===n?t.value[0]:t.value:r},this.dumpToObject=function(){for(var t,n=Object.keys(e),r={},i=0,o=n.length;i<o;++i)t=e[n[i]],r[this.getTagName(t.tag)]=this.getElementAsObject(t);return r},this.getTagName=function(e){var t=e.getNameFromDictionary();return null===t?e.getKey2():t},this.getElementAsObject=function(e){var t=null,n=a.dicom.isPixelDataTag(e.tag),r=e.vr;if("SQ"!==r||void 0===e.value||n)t=this.getElementValueAsString(e);else{t=[];for(var i=e.value,o=null,s=0;s<i.length;++s){o={};for(var l=Object.keys(i[s]),u=0;u<l.length;++u){var c=i[s][l[u]],d=this.getTagName(c.tag);"Item"!==d&&(o[d]=this.getElementAsObject(c))}t.push(o)}}return{value:t,group:e.tag.getGroup(),element:e.tag.getElement(),vr:r,vl:e.vl}},this.dump=function(){for(var t=Object.keys(e),n=(s=(s=(s="\n")+"# Dicom-File-Format\n\n")+"# Dicom-Meta-Information-Header\n# Used TransferSyntax: ",a.dicom.isNativeLittleEndian()?s+="Little Endian Explicit\n":s+="NOT Little Endian Explicit\n",null),r=!0,i=0,o=t.length;i<o;++i){var s,l;n=e[t[i]],r&&"0x0002"!==n.tag.getGroup()&&(s+="\n# Dicom-Data-Set\n# Used TransferSyntax: ",l=a.dicom.cleanString(e.x00020010.value[0]),s=s+a.dicom.getTransferSyntaxName(l)+"\n",r=!1),s+=this.getElementAsString(n)+"\n"}return s}},a.dicom.DicomElementsWrapper.prototype.getElementValueAsString=function(e,t){var n="";if(void 0===t&&(t=!0),null==e)return n;var r=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};if("SQ"!==e.vr&&1===e.value.length&&""===e.value[0])n+="(no value available)";else if(a.dicom.isPixelDataTag(e.tag)&&e.undefinedLength)n="(PixelSequence)";else if("DA"===e.vr&&t){var i=e.value[0],o=4,s=6;8!==i.length&&(o=5,s=8),n=new Date(parseInt(i.substring(0,4),10),parseInt(i.substring(o,o+2),10)-1,parseInt(i.substring(s,s+2),10)).toLocaleDateString()}else if("TM"===e.vr&&t)n=(o=e.value[0]).substring(0,2)+":"+(4<=o.length?o.substring(2,4):"00")+":"+(6<=o.length?o.substring(4,6):"00");else for(var l=!1,u=(0!==e.vr.length&&(l="O"===e.vr[0].toUpperCase()),"FL"===e.vr||"FD"===e.vr||"DS"===e.vr),c="",d=0,f=e.value.length;d<f;++d){var h;if(c="",0!==d&&(c+="\\"),u?("string"==typeof(h=e.value[d])&&(h=a.dicom.cleanString(h)),!r(h=Number(h))&&t?c+=h.toPrecision(4):c+=h.toString()):l?(h=e.value[d].toString(16),c+=h="OB"===e.vr?"00".substring(0,2-h.length)+h:"0000".substring(0,4-h.length)+h):"string"==typeof e.value[d]?c+=a.dicom.cleanString(e.value[d]):c+=e.value[d],!(n.length+c.length<=65)){n+="...";break}n+=c}return n},a.dicom.DicomElementsWrapper.prototype.getElementValueAsStringFromKey=function(e){return this.getElementValueAsString(this.getDEFromKey(e))},a.dicom.DicomElementsWrapper.prototype.getElementAsString=function(e,t){t=t||"";var n=e.tag.getNameFromDictionary(),r=e.value.length,i=!1,o=(0!==e.vr.length&&(i="O"===e.vr[0].toUpperCase()),a.dicom.isItemDelimitationItemTag(e.tag)||a.dicom.isSequenceDelimitationItemTag(e.tag)?r=0:i&&(r=1),a.dicom.isPixelDataTag(e.tag)&&e.undefinedLength),s=null,l=(s=(s=(s=(s="(")+e.tag.getGroup().substring(2).toLowerCase()+",")+e.tag.getElement().substring(2).toLowerCase())+") "+e.vr,"SQ"!==e.vr&&1===e.value.length&&""===e.value[0]?(s+=" (no value available)",r=0):"na"===e.vr?s=s+" "+e.value[0]:o?s+=" (PixelSequence #="+r+")":s="SQ"===e.vr?(s+=" (Sequence with",e.undefinedLength?s+=" undefined":s+=" explicit",(s+=" length #=")+e.value.length+")"):i||"pi"===e.vr||"UL"===e.vr||"US"===e.vr||"SL"===e.vr||"SS"===e.vr||"FL"===e.vr||"FD"===e.vr||"AT"===e.vr?(s+=" ")+this.getElementValueAsString(e,!1):(s+=" [")+this.getElementValueAsString(e,!1)+"]",55-s.length);if(0<l)for(var u=0;u<l;++u)s+=" ";s+=" # ",e.vl<100&&(s+=" "),e.vl<10&&(s+=" "),s=(s=(s+=e.vl)+", "+r)+" "+(null!==n?n:"Unknown Tag & Data");var c=null;if("SQ"===e.vr){for(var d=0,f=e.value.length;d<f;++d){var h=e.value[d],p=Object.keys(h);if(0!==p.length){var g=h.xFFFEE000;c="(Item with",g.undefinedLength?c+=" undefined":c+=" explicit",c+=" length #="+(p.length-1)+")",g.value=[c],g.vr="na",s=(s+="\n")+this.getElementAsString(g,t+"  ");for(var m=0,x=p.length;m<x;++m)"xFFFEE000"!==p[m]&&(s=(s+="\n")+this.getElementAsString(h[p[m]],t+"    "));c="(ItemDelimitationItem",g.undefinedLength||(c+=" for re-encoding"),c+=")",g={tag:a.dicom.getItemDelimitationItemTag(),vr:"na",vl:"0",value:[c]},s=(s+="\n")+this.getElementAsString(g,t+"  ")}}c="(SequenceDelimitationItem",e.undefinedLength||(c+=" for re-encod."),c+=")",i={tag:a.dicom.getSequenceDelimitationItemTag(),vr:"na",vl:"0",value:[c]},s=(s+="\n")+this.getElementAsString(i,t)}else if(o){for(var v=null,S=0,y=e.value.length;S<y;++S)s+="\n",(v=e.value[S]).vr="pi",s+=this.getElementAsString(v,t+"  ");r={tag:a.dicom.getSequenceDelimitationItemTag(),vr:"na",vl:"0",value:["(SequenceDelimitationItem)"]},s=(s+="\n")+this.getElementAsString(r,t)}return t+s},a.dicom.DicomElementsWrapper.prototype.getFromGroupElement=function(e,t){return this.getFromKey(new a.dicom.Tag(e,t).getKey())},a.dicom.DicomElementsWrapper.prototype.getFromName=function(e){var t=null;return null!==(e=a.dicom.getTagFromDictionary(e))?this.getFromKey(e.getKey()):t},a.dicom.DicomElementsWrapper.prototype.getImageSize=function(){var e=this.getFromKey("x00280010");if(!e)throw new Error("Missing or empty DICOM image number of rows");var t=this.getFromKey("x00280011");if(t)return new a.image.Size([t,e,1]);throw new Error("Missing or empty DICOM image number of columns")},a.dicom.DicomElementsWrapper.prototype.getPixelSpacing=function(){for(var e=1,t=1,n=["x00280030","x00181164","x00182010","x00280034"],r=0;r<n.length;++r){var i=this.getFromKey(n[r],!0);if(i&&2===i.length){e=parseFloat(i[0]),t=parseFloat(i[1]);break}}return 0===t&&(a.logger.warn("Zero column spacing."),t=1),0===e&&(a.logger.warn("Zero row spacing."),e=1),new a.image.Spacing([t,e,1])},a.dicom.DicomElementsWrapper.prototype.getTime=function(){},a.dicom.DicomElementsWrapper.prototype.getPixelUnit=function(){var e=this.getFromKey("x00281054");return(e=e||this.getFromKey("x00541001"))||"CT"===this.getFromKey("x00080060")&&(e="HU"),e},a.dicom.getFileListFromDicomDir=function(e){var t=new a.dicom.DicomParser;if(void 0===(t.parse(e),e=t.getRawDicomElements()).x00041220||void 0===e.x00041220.value)a.logger.warn("No Directory Record Sequence found in DICOMDIR.");else{var n=e.x00041220.value;if(0!==n.length){for(var r=[],i=null,o=null,s=0;s<n.length;++s)if(void 0!==n[s].x00041430&&void 0!==n[s].x00041430.value){var l=a.dicom.cleanString(n[s].x00041430.value[0]);if("STUDY"===l)r.push(o=[]);else if("SERIES"===l)o.push(i=[]);else if("IMAGE"===l&&void 0!==n[s].x00041500&&void 0!==n[s].x00041500.value){for(var u=n[s].x00041500.value,c="",d=0;d<u.length;++d)0!==d&&(c+="/"),c+=a.dicom.cleanString(u[d]);i.push(c)}}return r}a.logger.warn("The Directory Record Sequence of the DICOMDIR is empty.")}},(a=a||{}).dicom=a.dicom||{},a.getVersion=function(){return"0.31.0"},a.dicom.hasDicomPrefix=function(e){return"DICM"===new Uint8Array(e,128,4).reduce((function(e,t){return e+String.fromCharCode(t)}),"")},a.dicom.cleanString=function(e){var t=e;return e&&(t=e.trim())[t.length-1]===String.fromCharCode("u200B")?t.substring(0,t.length-1):t},a.dicom.getUtfLabel=function(e){var t="utf-8";return"ISO_IR 100"===e?t="iso-8859-1":"ISO_IR 101"===e?t="iso-8859-2":"ISO_IR 109"===e?t="iso-8859-3":"ISO_IR 110"===e?t="iso-8859-4":"ISO_IR 144"===e?t="iso-8859-5":"ISO_IR 127"===e?t="iso-8859-6":"ISO_IR 126"===e?t="iso-8859-7":"ISO_IR 138"===e?t="iso-8859-8":"ISO_IR 148"===e?t="iso-8859-9":"ISO_IR 13"===e?t="shift-jis":"ISO_IR 166"===e?t="iso-8859-11":"ISO 2022 IR 87"===e?t="iso-2022-jp":"ISO 2022 IR 149"!==e&&"ISO 2022 IR 58"!==e&&("ISO_IR 192"===e?t="utf-8":"GB18030"===e?t="gb18030":"GB2312"===e?t="gb2312":"GBK"===e&&(t="chinese")),t},a.dicom.DefaultTextDecoder=function(){this.decode=function(e){for(var t="",n=0,r=e.length;n<r;++n)t+=String.fromCharCode(e[n]);return t}},a.dicom.getReverseOrientation=function(e){if(!e)return null;for(var t={L:"R",R:"L",A:"P",P:"A",H:"F",F:"H"},n="",r=0;r<e.length;r++){var i=t[e.substring(r,r+1)];i&&(n+=i)}return n},a.dicom.getOrientationName=function(e){var t;return a.utils.arrayEquals(e,[1,0,0,0,1,0])?t="axial":a.utils.arrayEquals(e,[1,0,0,0,0,-1])?t="coronal":a.utils.arrayEquals(e,[0,1,0,0,0,-1])&&(t="sagittal"),t},a.dicom.isImplicitTransferSyntax=function(e){return"1.2.840.10008.1.2"===e},a.dicom.isBigEndianTransferSyntax=function(e){return"1.2.840.10008.1.2.2"===e},a.dicom.isJpegBaselineTransferSyntax=function(e){return"1.2.840.10008.1.2.4.50"===e||"1.2.840.10008.1.2.4.51"===e},a.dicom.isJpegRetiredTransferSyntax=function(e){return null!==e.match(/1.2.840.10008.1.2.4.5/)&&!a.dicom.isJpegBaselineTransferSyntax()&&!a.dicom.isJpegLosslessTransferSyntax()||null!==e.match(/1.2.840.10008.1.2.4.6/)},a.dicom.isJpegLosslessTransferSyntax=function(e){return"1.2.840.10008.1.2.4.57"===e||"1.2.840.10008.1.2.4.70"===e},a.dicom.isJpeglsTransferSyntax=function(e){return null!==e.match(/1.2.840.10008.1.2.4.8/)},a.dicom.isJpeg2000TransferSyntax=function(e){return null!==e.match(/1.2.840.10008.1.2.4.9/)},a.dicom.isRleTransferSyntax=function(e){return null!==e.match(/1.2.840.10008.1.2.5/)},a.dicom.getSyntaxDecompressionName=function(e){var t=null;return a.dicom.isJpeg2000TransferSyntax(e)?t="jpeg2000":a.dicom.isJpegBaselineTransferSyntax(e)?t="jpeg-baseline":a.dicom.isJpegLosslessTransferSyntax(e)?t="jpeg-lossless":a.dicom.isRleTransferSyntax(e)&&(t="rle"),t},a.dicom.isReadSupportedTransferSyntax=function(e){return"1.2.840.10008.1.2"===e||"1.2.840.10008.1.2.1"===e||"1.2.840.10008.1.2.2"===e||a.dicom.isJpegBaselineTransferSyntax(e)||a.dicom.isJpegLosslessTransferSyntax(e)||a.dicom.isJpeg2000TransferSyntax(e)||a.dicom.isRleTransferSyntax(e)},a.dicom.getTransferSyntaxName=function(e){var t="Unknown";return"1.2.840.10008.1.2"===e?t="Little Endian Implicit":"1.2.840.10008.1.2.1"===e?t="Little Endian Explicit":"1.2.840.10008.1.2.1.99"===e?t="Little Endian Deflated Explicit":"1.2.840.10008.1.2.2"===e?t="Big Endian Explicit":a.dicom.isJpegBaselineTransferSyntax(e)?t="1.2.840.10008.1.2.4.50"===e?"JPEG Baseline":"JPEG Extended, Process 2+4":a.dicom.isJpegLosslessTransferSyntax(e)?t="1.2.840.10008.1.2.4.57"===e?"JPEG Lossless, Nonhierarchical (Processes 14)":"JPEG Lossless, Non-hierarchical, 1st Order Prediction":a.dicom.isJpegRetiredTransferSyntax(e)?t="Retired JPEG":a.dicom.isJpeglsTransferSyntax(e)?t="JPEG-LS":a.dicom.isJpeg2000TransferSyntax(e)?t="1.2.840.10008.1.2.4.91"===e?"JPEG 2000 (Lossless or Lossy)":"JPEG 2000 (Lossless only)":"1.2.840.10008.1.2.4.100"===e?t="MPEG2":a.dicom.isRleTransferSyntax(e)&&(t="RLE"),t},a.dicom.guessTransferSyntax=function(e){var t=e.tag.getGroup();if("0x0800"!==t&&"0x0008"!==t)throw new Error("Not a valid DICOM file (no magic DICM word found and first element not in 0x0008 group)");var n=(r=e.vr).charCodeAt(0),r=r.charCodeAt(1);if(n=!(65<=n&&n<=90&&65<=r&&r<=90),r=null,"0x0008"===t)r=n?"1.2.840.10008.1.2":"1.2.840.10008.1.2.1";else{if(n)throw new Error("Not a valid DICOM file (no magic DICM word foundand implicit VR big endian detected)");r="1.2.840.10008.1.2.2"}return(t={tag:new a.dicom.Tag("0x0002","0x0010"),vr:"UI"}).value=[r+" "],t.vl=t.value[0].length,t.startOffset=e.startOffset,t.endOffset=t.startOffset+t.vl,t},a.dicom.getTypedArray=function(e,t,n){var r=null;try{8===e?r=new(0===t?Uint8Array:Int8Array)(n):16===e?r=new(0===t?Uint16Array:Int16Array)(n):32===e&&(r=new(0===t?Uint32Array:Int32Array)(n))}catch(t){t instanceof RangeError&&(e=Math.floor(Math.log(n)/Math.log(2)),a.logger.error("Cannot allocate array of size: "+n+" (>2^"+e+")."))}return r},a.dicom.is32bitVLVR=function(e){return a.dicom.vr32bitVL.includes(e)},a.dicom.getDataElementPrefixByteSize=function(e,t){return!t&&a.dicom.is32bitVLVR(e)?12:8},a.dicom.DicomParser=function(){this.dicomElements={};var e,t=new a.dicom.DefaultTextDecoder,n=t;this.decodeString=function(e){return t.decode(e)},this.decodeSpecialString=function(e){return n.decode(e)},this.getDefaultCharacterSet=function(){return e},this.setDefaultCharacterSet=function(t){e=t,this.setCharacterSet(t)},this.setDecoderCharacterSet=function(e){n=new TextDecoder(e)}},a.dicom.DicomParser.prototype.getRawDicomElements=function(){return this.dicomElements},a.dicom.DicomParser.prototype.getDicomElements=function(){return new a.dicom.DicomElementsWrapper(this.dicomElements)},a.dicom.DicomParser.prototype.readTag=function(e,t){var n=e.readHex(t);return t+=Uint16Array.BYTES_PER_ELEMENT,e=e.readHex(t),t+=Uint16Array.BYTES_PER_ELEMENT,{tag:new a.dicom.Tag(n,e),endOffset:t}},a.dicom.DicomParser.prototype.readItemDataElement=function(e,t,n){var r={},i=this.readDataElement(e,t,n);if(t=i.endOffset,a.dicom.isSequenceDelimitationItemTag(i.tag))return{data:r,endOffset:i.endOffset,isSeqDelim:!0};if(r[i.tag.getKey()]={tag:i.tag,vr:"NONE",vl:i.vl,undefinedLength:i.undefinedLength},i.undefinedLength)for(var o=!1;!o;)t=(i=this.readDataElement(e,t,n)).endOffset,(o=a.dicom.isItemDelimitationItemTag(i.tag))||(r[i.tag.getKey()]=i);else{var s=t;for(t-=i.vl;t<s;)t=(i=this.readDataElement(e,t,n)).endOffset,r[i.tag.getKey()]=i}return{data:r,endOffset:t,isSeqDelim:!1}},a.dicom.DicomParser.prototype.readPixelItemDataElement=function(e,t,n){for(var r=[],i=this.readDataElement(e,t,n),o=i.vl,s=(t=i.endOffset,!1);!s;)t=(i=this.readDataElement(e,t,n)).endOffset,(s=a.dicom.isSequenceDelimitationItemTag(i.tag))||(i.vr="OB",r.push(i));return{data:r,endOffset:t,offsetTableVl:o}},a.dicom.DicomParser.prototype.readDataElement=function(e,t,n){var r=(i=this.readTag(e,t)).tag,i=(t=i.endOffset,null),o=!1,s=(r.isWithVR()?n?(null===(i=r.getVrFromDictionary())&&(i="UN"),o=!0):(i=this.decodeString(e.readUint8Array(t,2)),t+=2*Uint8Array.BYTES_PER_ELEMENT,(o=a.dicom.is32bitVLVR(i))&&(t+=2*Uint8Array.BYTES_PER_ELEMENT)):(i="NONE",o=!0),0),l=(o?(s=e.readUint32(t),t+=Uint32Array.BYTES_PER_ELEMENT):(s=e.readUint16(t),t+=Uint16Array.BYTES_PER_ELEMENT),o=!1,4294967295===s&&(o=!0,s=0),r.isPrivate()&&"UN"===i&&0===s&&(i="SQ"),t),u=l+s,c=null;if(a.dicom.isPixelDataTag(r)&&o){var d=this.readPixelItemDataElement(e,t,n);t=d.endOffset,l+=d.offsetTableVl,c=d.data,s=(u=t)-l}else if("SQ"===i){var f;if(c=[],o){for(var h=!1;!h;)h=(f=this.readItemDataElement(e,t,n)).isSeqDelim,t=f.endOffset,h||c.push(f.data);s=(u=t)-l}else if(0!==s){for(var p=t+s;t<p;)f=this.readItemDataElement(e,t,n),c.push(f.data),t=f.endOffset;s=(u=t)-l}}return d={tag:r,vr:i,vl:s,startOffset:l,endOffset:u},o&&(d.undefinedLength=o),c&&(d.items=c),d},a.dicom.DicomParser.prototype.interpretElement=function(e,t,n,r){var i=e.tag,o=e.vl,s=e.vr,l=e.startOffset,u=null,c=(i=a.dicom.isPixelDataTag(i),a.dicom.vrTypes[s]);if(i)if(e.undefinedLength){u=[];for(var d=0;d<e.items.length;++d)u.push(this.interpretElement(e.items[d],t,n,r));delete e.items}else if(8<r&&"OB"===s&&a.logger.warn("Reading DICOM pixel data with bitsAllocated>8 and OB VR."),u=[],1===r)u.push(t.readBinaryArray(l,o));else if(8===r)0===n?u.push(t.readUint8Array(l,o)):u.push(t.readInt8Array(l,o));else{if(16!==r)throw new Error("Unsupported bits allocated: "+r);0===n?u.push(t.readUint16Array(l,o)):u.push(t.readInt16Array(l,o))}else if(void 0!==c)if("Uint8"===c)u=t.readUint8Array(l,o);else if("Uint16"===c)u=t.readUint16Array(l,o);else if("Uint32"===c)u=t.readUint32Array(l,o);else if("Uint64"===c)u=t.readUint64Array(l,o);else if("Int16"===c)u=t.readInt16Array(l,o);else if("Int32"===c)u=t.readInt32Array(l,o);else if("Int64"===c)u=t.readInt64Array(l,o);else if("Float32"===c)u=t.readFloat32Array(l,o);else if("Float64"===c)u=t.readFloat64Array(l,o);else{if("string"!==c)throw Error("Unknown VR type: "+c);i=t.readUint8Array(l,o),u=(u=a.dicom.charSetString.includes(s)?this.decodeSpecialString(i):this.decodeString(i)).split("\\")}else if("ox"===s)u=8===r?t.readUint8Array(l,o):t.readUint16Array(l,o);else if("xs"===s)u=0===n?t.readUint16Array(l,o):t.readInt16Array(l,o);else if("AT"===s){var f=t.readUint16Array(l,o);u=[];for(var h=0,p=f.length;h<p;h+=2){var g=f[h].toString(16),m=f[h+1].toString(16),x=(x=(x="(")+("0000".substring(0,4-g.length)+g.toUpperCase())+",")+("0000".substring(0,4-m.length)+m.toUpperCase())+")";u.push(x)}}else if("SQ"===s){u=[];for(var v=0;v<e.items.length;++v){for(var S=e.items[v],y={},b=Object.keys(S),C=0;C<b.length;++C){var w=S[b[C]];w.value=this.interpretElement(w,t,n,r),y[b[C]]=w}u.push(y)}delete e.items}else"NONE"===s?u=[]:a.logger.warn("Unknown VR: "+s);return u},a.dicom.DicomParser.prototype.interpret=function(e,t,n,r){for(var i=Object.keys(e),o=0;o<i.length;++o){var a=e[i[o]];void 0===a.value&&(a.value=this.interpretElement(a,t,n,r)),delete a.startOffset,delete a.endOffset}},a.dicom.DicomParser.prototype.parse=function(e){var t=0,n="",r=null,i=new a.dicom.DataReader(e),o=new a.dicom.DataReader(e),s=(t=128,this.decodeString(i.readUint8Array(t,4)));if(t+=4*Uint8Array.BYTES_PER_ELEMENT,"DICM"===s){(r=this.readDataElement(i,t,!1)).value=this.interpretElement(r,i),t=r.endOffset,this.dicomElements[r.tag.getKey()]=r;for(var l=t+parseInt(r.value[0],10);t<l;)t=(r=this.readDataElement(i,t,!1)).endOffset,this.dicomElements[r.tag.getKey()]=r;if(void 0===(r=this.dicomElements.x00020010))throw new Error("Not a valid DICOM file (no TransferSyntaxUID found)");r.value=this.interpretElement(r,i),n=a.dicom.cleanString(r.value[0])}else a.logger.warn("No DICM prefix, trying to guess tansfer syntax."),r=this.readDataElement(o,0,!1),s=a.dicom.guessTransferSyntax(r),this.dicomElements[s.tag.getKey()]=s,n=a.dicom.cleanString(s.value[0]),t=0;if(!a.dicom.isReadSupportedTransferSyntax(n))throw new Error("Unsupported DICOM transfer syntax: '"+n+"' ("+a.dicom.getTransferSyntaxName(n)+")");var u,c,d,f=!1;for(a.dicom.isImplicitTransferSyntax(n)&&(f=!0),a.dicom.isBigEndianTransferSyntax(n)&&(o=new a.dicom.DataReader(e,!1));t<e.byteLength;)t=(r=this.readDataElement(o,t,f)).endOffset,void 0===this.dicomElements[r.tag.getKey()]?this.dicomElements[r.tag.getKey()]=r:a.logger.warn("Not saving duplicate tag: "+r.tag.getKey());if(isNaN(t))throw new Error("Problem while parsing, bad offset");if(e.byteLength!==t&&a.logger.warn("Did not reach the end of the buffer: "+t+" != "+e.byteLength),void 0!==this.dicomElements.x7FE00010&&(void(u=0)!==(r=this.dicomElements.x00280103)?(r.value=this.interpretElement(r,o),u=r.value[0]):a.logger.warn("Reading DICOM pixel data with default pixelRepresentation."),c=16,void 0!==(r=this.dicomElements.x00280100)?(r.value=this.interpretElement(r,o),c=r.value[0]):a.logger.warn("Reading DICOM pixel data with default bitsAllocated.")),void 0!==this.getDefaultCharacterSet()&&this.setDecoderCharacterSet(this.getDefaultCharacterSet()),void 0!==(r=this.dicomElements.x00080005)&&(r.value=this.interpretElement(r,o),1===r.value.length?d=a.dicom.cleanString(r.value[0]):(d=a.dicom.cleanString(r.value[1]),a.logger.warn("Unsupported character set with code extensions: '"+d+"'.")),this.setDecoderCharacterSet(a.dicom.getUtfLabel(d))),this.interpret(this.dicomElements,o,u,c),void 0!==(r=this.dicomElements.x7FE00010)&&r.undefinedLength){var h=1,p=(void 0!==this.dicomElements.x00280008&&(h=a.dicom.cleanString(this.dicomElements.x00280008.value[0])),r.value);if(1<p.length&&p.length>h){for(var g=p.length/h,m=[],x=0;x<h;++x){for(var v=x*g,S=0,y=0;y<g;++y)S+=p[v+y].length;for(var b=new p[0].constructor(S),C=0,w=0;w<g;++w)b.set(p[v+w],C),C+=p[v+w].length;m[x]=b}r.value=m}}},(a=a||{}).dicom=a.dicom||{},a.dicom.Tag=function(e,t){if(!e||void 0===e)throw new Error("Cannot create tag with no group.");if(6!==e.length||!e.startsWith("0x"))throw new Error("Cannot create tag with badly formed group.");if(!t||void 0===t)throw new Error("Cannot create tag with no element.");if(6!==t.length||!t.startsWith("0x"))throw new Error("Cannot create tag with badly formed element.");this.getGroup=function(){return e},this.getElement=function(){return t}},a.dicom.Tag.prototype.equals=function(e){return null!=e&&this.getGroup()===e.getGroup()&&this.getElement()===e.getElement()},a.dicom.tagCompareFunction=function(e,t){var n=parseInt(e.getGroup())-parseInt(t.getGroup());return 0===n?parseInt(e.getElement())-parseInt(t.getElement()):n},a.dicom.Tag.prototype.getKey=function(){return"x"+this.getGroup().substring(2)+this.getElement().substring(2)},a.dicom.Tag.prototype.getKey2=function(){return this.getGroup().substring(2)+this.getElement().substring(2)},a.dicom.Tag.prototype.getGroupName=function(){return a.dicom.TagGroups[this.getGroup().substring(1)]},a.dicom.getTagFromKey=function(e){return new a.dicom.Tag("0x"+e.substring(1,5),"0x"+e.substring(5,9))},a.dicom.Tag.prototype.isWithVR=function(){var e=this.getElement();return!("0xFFFE"===this.getGroup()&&("0xE000"===e||"0xE00D"===e||"0xE0DD"===e))},a.dicom.Tag.prototype.isPrivate=function(){return parseInt(this.getGroup().substring(2),16)%2==1},a.dicom.Tag.prototype.getInfoFromDictionary=function(){var e=null;return void 0!==a.dicom.dictionary[this.getGroup()]&&void 0!==a.dicom.dictionary[this.getGroup()][this.getElement()]?a.dicom.dictionary[this.getGroup()][this.getElement()]:e},a.dicom.Tag.prototype.getVrFromDictionary=function(){var e=null,t=this.getInfoFromDictionary();return null!==t?t[0]:e},a.dicom.Tag.prototype.getNameFromDictionary=function(){var e=null,t=this.getInfoFromDictionary();return null!==t?t[2]:e},a.dicom.getTransferSyntaxUIDTag=function(){return new a.dicom.Tag("0x0002","0x0010")},a.dicom.getFileMetaInformationGroupLengthTag=function(){return new a.dicom.Tag("0x0002","0x0000")},a.dicom.isFileMetaInformationGroupLengthTag=function(e){return e.equals(a.dicom.getFileMetaInformationGroupLengthTag())},a.dicom.getItemTag=function(){return new a.dicom.Tag("0xFFFE","0xE000")},a.dicom.isItemTag=function(e){return e.equals(a.dicom.getItemTag())},a.dicom.getItemDelimitationItemTag=function(){return new a.dicom.Tag("0xFFFE","0xE00D")},a.dicom.isItemDelimitationItemTag=function(e){return e.equals(a.dicom.getItemDelimitationItemTag())},a.dicom.getSequenceDelimitationItemTag=function(){return new a.dicom.Tag("0xFFFE","0xE0DD")},a.dicom.isSequenceDelimitationItemTag=function(e){return e.equals(a.dicom.getSequenceDelimitationItemTag())},a.dicom.getPixelDataTag=function(){return new a.dicom.Tag("0x7FE0","0x0010")},a.dicom.isPixelDataTag=function(e){return e.equals(a.dicom.getPixelDataTag())},a.dicom.getTagFromDictionary=function(e){if(null==e)return null;for(var t=null,n=null,r=a.dicom.dictionary,i=Object.keys(r),o=!1,s=0,l=i.length;s<l;++s){t=i[s];for(var u,c=0,d=(u=Object.keys(r[t])).length;c<d;++c)if(n=u[c],r[t][n][2]===e){o=!0;break}if(o)break}var f=null;return o?new a.dicom.Tag(t,n):f},(a=a||{}).dicom=a.dicom||{},a.dicom.getDwvUIDPrefix=function(){return"1.2.826.0.1.3680043.9.7278.1"},0),l=(a.dicom.getUID=function(e){var t=a.dicom.getDwvUIDPrefix()+".",n="";if("ImplementationClassUID"===e)n=t+a.getVersion();else{var r="."+(new Date).toISOString().replace(/\D/g,"").substring(0,14),i="."+(s+=1),o=(n=t,Math.min(e.length,64-(t.length+i.length+r.length)));if(1<o){for(var l="",u=0;u<o;++u)l+=e.charCodeAt(u);n+=l.substring(0,o)}n+=r+i}return n},a.dicom.isEven=function(e){return e%2==0},a.dicom.isTypedArrayVr=function(e){return void 0!==(e=a.dicom.vrTypes[e])&&"string"!==e},a.dicom.isStringVr=function(e){return void 0!==(e=a.dicom.vrTypes[e])&&"string"===e},a.dicom.isVrToPad=function(e){return a.dicom.isStringVr(e)||"OB"===e},a.dicom.getVrPad=function(e){var t=0;return a.dicom.isStringVr(e)?"UI"===e?"\0":" ":t},a.dicom.uint8ArrayPush=function(e,t){var n=new Uint8Array(e.length+1);return n.set(e),n.set(t,e.length),n},a.dicom.padOBValue=function(e){if(null==e||void 0===e.length)throw new Error("Cannot pad undefined or null OB value.");if(0!==e.length&&void 0!==e[0].length){for(var t=0,n=0;n<e.length;++n)t+=e[n].length;a.dicom.isEven(t)||(e[e.length-1]=a.dicom.uint8ArrayPush(e[e.length-1],0))}else a.dicom.isEven(e.length)||(e=a.dicom.uint8ArrayPush(e,0));return e},a.dicom.flattenArrayOfTypedArrays=function(e){var t=e.length,n=e[0].length;if(void 0===n)return e;for(var r=new e[0].constructor(t*n),i=0;i<t;i++)r.set(e[i],i*n);return r},a.dicom.DefaultTextEncoder=function(){this.encode=function(e){for(var t=new Uint8Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}},a.dicom.DicomWriter=function(){this.useUnVrForPrivateSq=!1;var e={copy:function(e){return e},remove:function(){return null},clear:function(e){return e.value=[],e},replace:function(e,t){return e.value=[t],e}},t=(this.rules={default:{action:"copy",value:null}},new a.dicom.DefaultTextEncoder),n=t;this.encodeString=function(e){return t.encode(e)},this.encodeSpecialString=function(e){return n.encode(e)},this.useSpecialTextEncoder=function(){n=new TextEncoder},this.anonymisationRules={default:{action:"remove",value:null},PatientName:{action:"replace",value:"Anonymized"},"Meta Element":{action:"copy",value:null},Acquisition:{action:"copy",value:null},"Image Presentation":{action:"copy",value:null},Procedure:{action:"copy",value:null},"Pixel Data":{action:"copy",value:null}},this.getElementToWrite=function(t){var n=t.tag.getGroupName(),r=t.tag.getNameFromDictionary();return r=void 0!==this.rules[t.tag.getKey()]?this.rules[t.tag.getKey()]:null!==r&&void 0!==this.rules[r]?this.rules[r]:void 0!==this.rules[n]?this.rules[n]:this.rules.default,e[r.action](t,r.value)}},a.dicom.DicomWriter.prototype.writeDataElementItems=function(e,t,n,r){for(var i=0;i<n.length;++i){var o=n[i],s=Object.keys(o);if(0!==s.length){var l=!1,u=(void 0!==o.xFFFEE000.undefinedLength&&(l=o.xFFFEE000.undefinedLength),{tag:a.dicom.getItemTag(),vr:"NONE",vl:l?4294967295:o.xFFFEE000.vl,value:[]});t=this.writeDataElement(e,u,t,r);for(var c=0;c<s.length;++c)"xFFFEE000"!==s[c]&&"xFFFEE00D"!==s[c]&&(t=this.writeDataElement(e,o[s[c]],t,r));l&&(u={tag:a.dicom.getItemDelimitationItemTag(),vr:"NONE",vl:0,value:[]},t=this.writeDataElement(e,u,t,r))}}return t},a.dicom.DicomWriter.prototype.writeDataElementValue=function(e,t,n,r,i){var o=n;if("NONE"!==t.vr)if(r instanceof Uint8Array)n=r.length===8*t.vl?e.writeBinaryArray(n,r):e.writeUint8Array(n,r);else if(r instanceof Int8Array)n=e.writeInt8Array(n,r);else if(r instanceof Uint16Array)n=e.writeUint16Array(n,r);else if(r instanceof Int16Array)n=e.writeInt16Array(n,r);else if(r instanceof Uint32Array)n=e.writeUint32Array(n,r);else if(r instanceof Int32Array)n=e.writeInt32Array(n,r);else if(r instanceof BigUint64Array)n=e.writeUint64Array(n,r);else if(r instanceof BigInt64Array)n=e.writeInt64Array(n,r);else{var s=a.dicom.vrTypes[t.vr];if(void 0!==s)if("Uint8"===s)n=e.writeUint8Array(n,r);else if("Uint16"===s)n=e.writeUint16Array(n,r);else if("Int16"===s)n=e.writeInt16Array(n,r);else if("Uint32"===s)n=e.writeUint32Array(n,r);else if("Int32"===s)n=e.writeInt32Array(n,r);else if("Uint64"===s)n=e.writeUint64Array(n,r);else if("Int64"===s)n=e.writeInt64Array(n,r);else if("Float32"===s)n=e.writeFloat32Array(n,r);else if("Float64"===s)n=e.writeFloat64Array(n,r);else{if("string"!==s)throw Error("Unknown VR type: "+s);n=e.writeUint8Array(n,r)}else if("SQ"===t.vr)n=this.writeDataElementItems(e,n,r,i);else if("AT"===t.vr)for(var l=0;l<r.length;++l){var u=(c=r[l]+"").substring(1,5),c=c.substring(6,10);u=parseInt(u,16),c=parseInt(c,16),u=new Uint16Array([u,c]),n=e.writeUint16Array(n,u)}else a.logger.warn("Unknown VR: "+t.vr)}return"SQ"!==t.vr&&"NONE"!==t.vr&&(s=n-o)!==t.vl&&a.logger.warn("Offset difference and VL are not equal: "+s+" != "+t.vl+", vr:"+t.vr),n},a.dicom.DicomWriter.prototype.writePixelDataElementValue=function(e,t,n,r,i){var o=!1;if(o=void 0!==t.undefinedLength?t.undefinedLength:o){var s={};s.xFFFEE000={tag:a.dicom.getItemTag(),vr:"NONE",vl:0,value:[]};for(var l=0;l<r.length;++l)s[l]={tag:a.dicom.getItemTag(),vr:t.vr,vl:r[l].length,value:r[l]};n=this.writeDataElementItems(e,n,[s],i)}else o=r[0],1<r.length&&(o=a.dicom.flattenArrayOfTypedArrays(r)),n=this.writeDataElementValue(e,t,n,o,i);return n},a.dicom.DicomWriter.prototype.writeDataElement=function(e,t,n,r){var i=t.tag.isWithVR(),o=!(!r&&i)||a.dicom.is32bitVLVR(t.vr),s=(n=e.writeHex(n,t.tag.getGroup()),n=e.writeHex(n,t.tag.getElement()),t.vr),l=(this.useUnVrForPrivateSq&&t.tag.isPrivate()&&"SQ"===s&&(a.logger.warn("Write element using VR=UN for private sequence."),s="UN"),i&&!r&&(n=e.writeUint8Array(n,this.encodeString(s)),o&&(n+=2)),i=!1,"SQ"!==t.vr&&!a.dicom.isPixelDataTag(t.tag)||void 0===t.undefinedLength||(i=t.undefinedLength),s=!1,a.dicom.isItemTag(t.tag)&&void 0!==t.undefinedLength&&(s=t.undefinedLength),t.vl);return void 0===((i||s)&&(l=4294967295),n=o?e.writeUint32(n,l):e.writeUint16(n,l),s=t.value)&&(s=[]),n=a.dicom.isPixelDataTag(t.tag)?this.writePixelDataElementValue(e,t,n,s,r):this.writeDataElementValue(e,t,n,s,r),i&&(o={tag:a.dicom.getSequenceDelimitationItemTag(),vr:"NONE",vl:0,value:[]},n=this.writeDataElement(e,o,n,r)),n},a.dicom.DicomWriter.prototype.getBuffer=function(e){for(var t,n,r,i=a.dicom.cleanString(e.x00020010.value[0]),o=a.dicom.isImplicitTransferSyntax(i),s=(i=a.dicom.isBigEndianTransferSyntax(i),void 0===e.x00080005||void 0!==(y=a.dicom.cleanString(e.x00080005.value[0]))&&"ISO-IR 6"!==y&&(a.logger.debug("Change charset to UTF, was: "+y),this.useSpecialTextEncoder(),e.x00080005.value=["ISO_IR 192"]),void 0!==e.x00280100&&(t=e.x00280100.value[0]),132),l=0,u=[],c=[],d=0,f=a.dicom.getFileMetaInformationGroupLengthTag(),h=new a.dicom.Tag("0x0002","0x0001"),p=new a.dicom.Tag("0x0002","0x0012"),g=new a.dicom.Tag("0x0002","0x0013"),m=Object.keys(e),x=0,v=m.length;x<v;++x)null===(n=this.getElementToWrite(e[m[x]]))||f.equals(n.tag)||h.equals(n.tag)||p.equals(n.tag)||g.equals(n.tag)||(l=0,a.dicom.checkUnknownVR(n),this.setElementValue(n,n.value,o,t),l=(l+="Meta Element"===(r=n.tag.getGroupName())?a.dicom.getDataElementPrefixByteSize(n.vr,!1):a.dicom.getDataElementPrefixByteSize(n.vr,o))+n.vl,"Meta Element"===r?(u.push(n),d+=l):c.push(n),s+=l);function S(e,t){return a.dicom.tagCompareFunction(e.tag,t.tag)}var y=a.dicom.getDicomElement("FileMetaInformationVersion"),b=a.dicom.getDataElementPrefixByteSize(y.vr,!1),C=(b+=this.setElementValue(y,[0,1],!1),u.push(y),d+=b,s+=b,y=a.dicom.getDicomElement("ImplementationClassUID"),b=a.dicom.getDataElementPrefixByteSize(y.vr,!1),b+=this.setElementValue(y,[a.dicom.getUID("ImplementationClassUID")],!1),u.push(y),d+=b,s+=b,y=a.dicom.getDicomElement("ImplementationVersionName"),b=a.dicom.getDataElementPrefixByteSize(y.vr,!1),"DWV_"+a.getVersion()),w=(b+=this.setElementValue(y,[C],!1),u.push(y),d+=b,s+=b,u.sort(S),c.sort(S),C=a.dicom.getDicomElement("FileMetaInformationGroupLength"),y=a.dicom.getDataElementPrefixByteSize(C.vr,!1),s+=y+=this.setElementValue(C,new Uint32Array([d]),!1),b=new ArrayBuffer(s),new a.dicom.DataWriter(b)),D=new a.dicom.DataWriter(b,!i),T=128;T=w.writeUint8Array(T,this.encodeString("DICM")),T=this.writeDataElement(w,C,T,!1);for(var P=0,L=u.length;P<L;++P)T=this.writeDataElement(w,u[P],T,!1);T!==(i=132+y+d)&&a.logger.warn("Bad size calculation... meta offset: "+T+", calculated size:"+i+" (diff:"+(T-i)+")"),D.useUnVrForPrivateSq=this.useUnVrForPrivateSq;for(var I=0,k=c.length;I<k;++I)T=this.writeDataElement(D,c[I],T,o);return T!==s&&a.logger.warn("Bad size calculation... final offset: "+T+", calculated size:"+s+" (diff:"+(T-s)+")"),b},a.dicom.checkUnknownVR=function(e){var t;"UN"===e.vr&&null!==(t=e.tag.getVrFromDictionary())&&e.vr!==t&&(e.vr=t,a.logger.info("Element "+e.tag.getGroup()+" "+e.tag.getElement()+" VR changed from UN to "+e.vr))},a.dicom.getDicomElement=function(e){return{tag:e=a.dicom.getTagFromDictionary(e),vr:e.getVrFromDictionary()}},a.dicom.getBpeForVrType=function(e){var t;return"Uint8"===e?t=Uint8Array.BYTES_PER_ELEMENT:"Uint16"===e?t=Uint16Array.BYTES_PER_ELEMENT:"Int16"===e?t=Int16Array.BYTES_PER_ELEMENT:"Uint32"===e?t=Uint32Array.BYTES_PER_ELEMENT:"Int32"===e?t=Int32Array.BYTES_PER_ELEMENT:"Float32"===e?t=Float32Array.BYTES_PER_ELEMENT:"Float64"===e?t=Float64Array.BYTES_PER_ELEMENT:"Uint64"===e?t=BigUint64Array.BYTES_PER_ELEMENT:"Int64"===e&&(t=BigInt64Array.BYTES_PER_ELEMENT),t},a.dicom.DicomWriter.prototype.setElementValue=function(e,t,n,r){var i=0;if("SQ"===e.vr){if(null!==t&&0!==t){var o=[],s=!1;void 0!==e.undefinedLength&&(s=e.undefinedLength,delete e.undefinedLength);for(var l=0;l<t.length;++l){var u=t[l],c={},d=0;if(null!==u&&0!==u){for(var f=Object.keys(u),h=0,p=f.length;h<p;++h){var g=f[h],m=u[g];a.dicom.isItemTag(m.tag)||(d+=this.setElementValue(m,m.value,n,r),c[g]=m,d+=a.dicom.getDataElementPrefixByteSize(m.vr,n))}var x={tag:a.dicom.getItemTag(),vr:"NONE",vl:d,value:[]};s&&(x.undefinedLength=s),c[x.tag.getKey()]=x,d+=a.dicom.getDataElementPrefixByteSize(x.vr,n),s&&(d+=a.dicom.getDataElementPrefixByteSize("NONE",n)),i+=d,o.push(c)}}s&&(i+=a.dicom.getDataElementPrefixByteSize("NONE",n)),e.value=o,e.vl=i,s&&(e.undefinedLength=s)}}else{if(a.dicom.isVrToPad(e.vr)&&(S=a.dicom.getVrPad(e.vr),a.dicom.isStringVr(e.vr)?(S=a.dicom.charSetString.includes(e.vr)?(t=this.encodeSpecialString(t.join("\\")),this.encodeSpecialString(S)):(t=this.encodeString(t.join("\\")),this.encodeString(S)),a.dicom.isEven(t.length)||(t=a.dicom.uint8ArrayPush(t,S))):"OB"===e.vr&&(t=a.dicom.padOBValue(t))),i=0,"AT"===e.vr)i=4*t.length;else if("xs"===e.vr)i=t.length*Uint16Array.BYTES_PER_ELEMENT;else if(a.dicom.isTypedArrayVr(e.vr)||"ox"===e.vr){if(a.dicom.isPixelDataTag(e.tag)&&Array.isArray(t)){i=0;for(var v=0;v<t.length;++v)i+=t[v].length}else i=t.length;var S=a.dicom.vrTypes[e.vr];if(a.dicom.isPixelDataTag(e.tag)||"ox"===e.vr)e.undefinedLength?i=(i+=y=a.dicom.getDataElementPrefixByteSize("NONE",n))+y*t.length+y:void 0!==r&&(1===r?i/=8:16===r&&(i*=Uint16Array.BYTES_PER_ELEMENT));else{if(void 0===S)throw Error("Unsupported element: "+e.vr);var y=a.dicom.getBpeForVrType(S);if(void 0===y)throw Error("Unknown bytes per element for VR type: "+S);i*=y}}else i=t.length;e.value=t,e.vl=i}return i},a.dicom.getElementsFromJSONTags=function(e){for(var t=Object.keys(e),n={},r=0,i=t.length;r<i;++r){var o=a.dicom.getTagFromDictionary(t[r]);if(o){var s,l=o.getVrFromDictionary(),u=!1,c=e[t[r]];if("SQ"===l){var d=[];if(void 0!==c.undefinedLength&&(u=c.undefinedLength),void 0!==c.value&&null!==c.value)for(var f=0;f<c.value.length;++f)d.push(a.dicom.getElementsFromJSONTags(c.value[f]));else a.logger.trace("Undefined or null jsonTag SQ value.");s=d}else s=Array.isArray(c)?c:[c];l={tag:o,vr:l,value:s},u&&(l.undefinedLength=u),n[o.getKey()]=l}}return n},((a=a||{}).dicom=a.dicom||{},a.dicom.dictionary={"0x0000":{"0x0000":["UL","1","CommandGroupLength"],"0x0001":["UL","1","CommandLengthToEnd"],"0x0002":["UI","1","AffectedSOPClassUID"],"0x0003":["UI","1","RequestedSOPClassUID"],"0x0010":["SH","1","CommandRecognitionCode"],"0x0100":["US","1","CommandField"],"0x0110":["US","1","MessageID"],"0x0120":["US","1","MessageIDBeingRespondedTo"],"0x0200":["AE","1","Initiator"],"0x0300":["AE","1","Receiver"],"0x0400":["AE","1","FindLocation"],"0x0600":["AE","1","MoveDestination"],"0x0700":["US","1","Priority"],"0x0800":["US","1","CommandDataSetType"],"0x0850":["US","1","NumberOfMatches"],"0x0860":["US","1","ResponseSequenceNumber"],"0x0900":["US","1","Status"],"0x0901":["AT","1-n","OffendingElement"],"0x0902":["LO","1","ErrorComment"],"0x0903":["US","1","ErrorID"],"0x1000":["UI","1","AffectedSOPInstanceUID"],"0x1001":["UI","1","RequestedSOPInstanceUID"],"0x1002":["US","1","EventTypeID"],"0x1005":["AT","1-n","AttributeIdentifierList"],"0x1008":["US","1","ActionTypeID"],"0x1020":["US","1","NumberOfRemainingSuboperations"],"0x1021":["US","1","NumberOfCompletedSuboperations"],"0x1022":["US","1","NumberOfFailedSuboperations"],"0x1023":["US","1","NumberOfWarningSuboperations"],"0x1030":["AE","1","MoveOriginatorApplicationEntityTitle"],"0x1031":["US","1","MoveOriginatorMessageID"],"0x4000":["LT","1","DialogReceiver"],"0x4010":["LT","1","TerminalType"],"0x5010":["SH","1","MessageSetID"],"0x5020":["SH","1","EndMessageID"],"0x5110":["LT","1","DisplayFormat"],"0x5120":["LT","1","PagePositionID"],"0x5130":["CS","1","TextFormatID"],"0x5140":["CS","1","NormalReverse"],"0x5150":["CS","1","AddGrayScale"],"0x5160":["CS","1","Borders"],"0x5170":["IS","1","Copies"],"0x5180":["CS","1","CommandMagnificationType"],"0x5190":["CS","1","Erase"],"0x51A0":["CS","1","Print"],"0x51B0":["US","1-n","Overlays"]},"0x0002":{"0x0000":["UL","1","FileMetaInformationGroupLength"],"0x0001":["OB","1","FileMetaInformationVersion"],"0x0002":["UI","1","MediaStorageSOPClassUID"],"0x0003":["UI","1","MediaStorageSOPInstanceUID"],"0x0010":["UI","1","TransferSyntaxUID"],"0x0012":["UI","1","ImplementationClassUID"],"0x0013":["SH","1","ImplementationVersionName"],"0x0016":["AE","1","SourceApplicationEntityTitle"],"0x0017":["AE","1","SendingApplicationEntityTitle"],"0x0018":["AE","1","ReceivingApplicationEntityTitle"],"0x0026":["UR","1","SourcePresentationAddress"],"0x0027":["UR","1","SendingPresentationAddress"],"0x0028":["UR","1","ReceivingPresentationAddress"],"0x0031":["OB","1","RTVMetaInformationVersion"],"0x0032":["UI","1","RTVCommunicationSOPClassUID"],"0x0033":["UI","1","RTVCommunicationSOPInstanceUID"],"0x0035":["OB","1","RTVSourceIdentifier"],"0x0036":["OB","1","RTVFlowIdentifier"],"0x0037":["UL","1","RTVFlowRTPSamplingRate"],"0x0038":["FD","1","RTVFlowActualFrameDuration"],"0x0100":["UI","1","PrivateInformationCreatorUID"],"0x0102":["OB","1","PrivateInformation"]},"0x0004":{"0x0000":["UL","1","GenericGroupLength"],"0x1130":["CS","1","FileSetID"],"0x1141":["CS","1-8","FileSetDescriptorFileID"],"0x1142":["CS","1","SpecificCharacterSetOfFileSetDescriptorFile"],"0x1200":["UL","1","OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"],"0x1202":["UL","1","OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"],"0x1212":["US","1","FileSetConsistencyFlag"],"0x1220":["SQ","1","DirectoryRecordSequence"],"0x1400":["UL","1","OffsetOfTheNextDirectoryRecord"],"0x1410":["US","1","RecordInUseFlag"],"0x1420":["UL","1","OffsetOfReferencedLowerLevelDirectoryEntity"],"0x1430":["CS","1","DirectoryRecordType"],"0x1432":["UI","1","PrivateRecordUID"],"0x1500":["CS","1-8","ReferencedFileID"],"0x1504":["UL","1","MRDRDirectoryRecordOffset"],"0x1510":["UI","1","ReferencedSOPClassUIDInFile"],"0x1511":["UI","1","ReferencedSOPInstanceUIDInFile"],"0x1512":["UI","1","ReferencedTransferSyntaxUIDInFile"],"0x151A":["UI","1-n","ReferencedRelatedGeneralSOPClassUIDInFile"],"0x1600":["UL","1","NumberOfReferences"]},"0x0008":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["UL","1","LengthToEnd"],"0x0005":["CS","1-n","SpecificCharacterSet"],"0x0006":["SQ","1","LanguageCodeSequence"],"0x0008":["CS","2-n","ImageType"],"0x0010":["SH","1","RecognitionCode"],"0x0012":["DA","1","InstanceCreationDate"],"0x0013":["TM","1","InstanceCreationTime"],"0x0014":["UI","1","InstanceCreatorUID"],"0x0015":["DT","1","InstanceCoercionDateTime"],"0x0016":["UI","1","SOPClassUID"],"0x0018":["UI","1","SOPInstanceUID"],"0x001A":["UI","1-n","RelatedGeneralSOPClassUID"],"0x001B":["UI","1","OriginalSpecializedSOPClassUID"],"0x0020":["DA","1","StudyDate"],"0x0021":["DA","1","SeriesDate"],"0x0022":["DA","1","AcquisitionDate"],"0x0023":["DA","1","ContentDate"],"0x0024":["DA","1","OverlayDate"],"0x0025":["DA","1","CurveDate"],"0x002A":["DT","1","AcquisitionDateTime"],"0x0030":["TM","1","StudyTime"],"0x0031":["TM","1","SeriesTime"],"0x0032":["TM","1","AcquisitionTime"],"0x0033":["TM","1","ContentTime"],"0x0034":["TM","1","OverlayTime"],"0x0035":["TM","1","CurveTime"],"0x0040":["US","1","DataSetType"],"0x0041":["LO","1","DataSetSubtype"],"0x0042":["CS","1","NuclearMedicineSeriesType"],"0x0050":["SH","1","AccessionNumber"],"0x0051":["SQ","1","IssuerOfAccessionNumberSequence"],"0x0052":["CS","1","QueryRetrieveLevel"],"0x0053":["CS","1","QueryRetrieveView"],"0x0054":["AE","1-n","RetrieveAETitle"],"0x0055":["AE","1","StationAETitle"],"0x0056":["CS","1","InstanceAvailability"],"0x0058":["UI","1-n","FailedSOPInstanceUIDList"],"0x0060":["CS","1","Modality"],"0x0061":["CS","1-n","ModalitiesInStudy"],"0x0062":["UI","1-n","SOPClassesInStudy"],"0x0063":["SQ","1","AnatomicRegionsInStudyCodeSequence"],"0x0064":["CS","1","ConversionType"],"0x0068":["CS","1","PresentationIntentType"],"0x0070":["LO","1","Manufacturer"],"0x0080":["LO","1","InstitutionName"],"0x0081":["ST","1","InstitutionAddress"],"0x0082":["SQ","1","InstitutionCodeSequence"],"0x0090":["PN","1","ReferringPhysicianName"],"0x0092":["ST","1","ReferringPhysicianAddress"],"0x0094":["SH","1-n","ReferringPhysicianTelephoneNumbers"],"0x0096":["SQ","1","ReferringPhysicianIdentificationSequence"],"0x009C":["PN","1-n","ConsultingPhysicianName"],"0x009D":["SQ","1","ConsultingPhysicianIdentificationSequence"],"0x0100":["SH","1","CodeValue"],"0x0101":["LO","1","ExtendedCodeValue"],"0x0102":["SH","1","CodingSchemeDesignator"],"0x0103":["SH","1","CodingSchemeVersion"],"0x0104":["LO","1","CodeMeaning"],"0x0105":["CS","1","MappingResource"],"0x0106":["DT","1","ContextGroupVersion"],"0x0107":["DT","1","ContextGroupLocalVersion"],"0x0108":["LT","1","ExtendedCodeMeaning"],"0x0109":["SQ","1","CodingSchemeResourcesSequence"],"0x010A":["CS","1","CodingSchemeURLType"],"0x010B":["CS","1","ContextGroupExtensionFlag"],"0x010C":["UI","1","CodingSchemeUID"],"0x010D":["UI","1","ContextGroupExtensionCreatorUID"],"0x010E":["UR","1","CodingSchemeURL"],"0x010F":["CS","1","ContextIdentifier"],"0x0110":["SQ","1","CodingSchemeIdentificationSequence"],"0x0112":["LO","1","CodingSchemeRegistry"],"0x0114":["ST","1","CodingSchemeExternalID"],"0x0115":["ST","1","CodingSchemeName"],"0x0116":["ST","1","CodingSchemeResponsibleOrganization"],"0x0117":["UI","1","ContextUID"],"0x0118":["UI","1","MappingResourceUID"],"0x0119":["UC","1","LongCodeValue"],"0x0120":["UR","1","URNCodeValue"],"0x0121":["SQ","1","EquivalentCodeSequence"],"0x0122":["LO","1","MappingResourceName"],"0x0123":["SQ","1","ContextGroupIdentificationSequence"],"0x0124":["SQ","1","MappingResourceIdentificationSequence"],"0x0201":["SH","1","TimezoneOffsetFromUTC"],"0x0202":["","",""],"0x0220":["SQ","1","ResponsibleGroupCodeSequence"],"0x0221":["CS","1","EquipmentModality"],"0x0222":["LO","1","ManufacturerRelatedModelGroup"],"0x0300":["SQ","1","PrivateDataElementCharacteristicsSequence"],"0x0301":["US","1","PrivateGroupReference"],"0x0302":["LO","1","PrivateCreatorReference"],"0x0303":["CS","1","BlockIdentifyingInformationStatus"],"0x0304":["US","1-n","NonidentifyingPrivateElements"],"0x0305":["SQ","1","DeidentificationActionSequence"],"0x0306":["US","1-n","IdentifyingPrivateElements"],"0x0307":["CS","1","DeidentificationAction"],"0x0308":["US","1","PrivateDataElement"],"0x0309":["UL","1-3","PrivateDataElementValueMultiplicity"],"0x030A":["CS","1","PrivateDataElementValueRepresentation"],"0x030B":["UL","1-2","PrivateDataElementNumberOfItems"],"0x030C":["UC","1","PrivateDataElementName"],"0x030D":["UC","1","PrivateDataElementKeyword"],"0x030E":["UT","1","PrivateDataElementDescription"],"0x030F":["UT","1","PrivateDataElementEncoding"],"0x0310":["SQ","1","PrivateDataElementDefinitionSequence"],"0x1000":["AE","1","NetworkID"],"0x1010":["SH","1","StationName"],"0x1030":["LO","1","StudyDescription"],"0x1032":["SQ","1","ProcedureCodeSequence"],"0x103E":["LO","1","SeriesDescription"],"0x103F":["SQ","1","SeriesDescriptionCodeSequence"],"0x1040":["LO","1","InstitutionalDepartmentName"],"0x1041":["SQ","1","InstitutionalDepartmentTypeCodeSequence"],"0x1048":["PN","1-n","PhysiciansOfRecord"],"0x1049":["SQ","1","PhysiciansOfRecordIdentificationSequence"],"0x1050":["PN","1-n","PerformingPhysicianName"],"0x1052":["SQ","1","PerformingPhysicianIdentificationSequence"],"0x1060":["PN","1-n","NameOfPhysiciansReadingStudy"],"0x1062":["SQ","1","PhysiciansReadingStudyIdentificationSequence"],"0x1070":["PN","1-n","OperatorsName"],"0x1072":["SQ","1","OperatorIdentificationSequence"],"0x1080":["LO","1-n","AdmittingDiagnosesDescription"],"0x1084":["SQ","1","AdmittingDiagnosesCodeSequence"],"0x1090":["LO","1","ManufacturerModelName"],"0x1100":["SQ","1","ReferencedResultsSequence"],"0x1110":["SQ","1","ReferencedStudySequence"],"0x1111":["SQ","1","ReferencedPerformedProcedureStepSequence"],"0x1115":["SQ","1","ReferencedSeriesSequence"],"0x1120":["SQ","1","ReferencedPatientSequence"],"0x1125":["SQ","1","ReferencedVisitSequence"],"0x1130":["SQ","1","ReferencedOverlaySequence"],"0x1134":["SQ","1","ReferencedStereometricInstanceSequence"],"0x113A":["SQ","1","ReferencedWaveformSequence"],"0x1140":["SQ","1","ReferencedImageSequence"],"0x1145":["SQ","1","ReferencedCurveSequence"],"0x114A":["SQ","1","ReferencedInstanceSequence"],"0x114B":["SQ","1","ReferencedRealWorldValueMappingInstanceSequence"],"0x1150":["UI","1","ReferencedSOPClassUID"],"0x1155":["UI","1","ReferencedSOPInstanceUID"],"0x1156":["SQ","1","DefinitionSourceSequence"],"0x115A":["UI","1-n","SOPClassesSupported"],"0x1160":["IS","1-n","ReferencedFrameNumber"],"0x1161":["UL","1-n","SimpleFrameList"],"0x1162":["UL","3-3n","CalculatedFrameList"],"0x1163":["FD","2","TimeRange"],"0x1164":["SQ","1","FrameExtractionSequence"],"0x1167":["UI","1","MultiFrameSourceSOPInstanceUID"],"0x1190":["UR","1","RetrieveURL"],"0x1195":["UI","1","TransactionUID"],"0x1196":["US","1","WarningReason"],"0x1197":["US","1","FailureReason"],"0x1198":["SQ","1","FailedSOPSequence"],"0x1199":["SQ","1","ReferencedSOPSequence"],"0x119A":["SQ","1","OtherFailuresSequence"],"0x1200":["SQ","1","StudiesContainingOtherReferencedInstancesSequence"],"0x1250":["SQ","1","RelatedSeriesSequence"],"0x2110":["CS","1","LossyImageCompressionRetired"],"0x2111":["ST","1","DerivationDescription"],"0x2112":["SQ","1","SourceImageSequence"],"0x2120":["SH","1","StageName"],"0x2122":["IS","1","StageNumber"],"0x2124":["IS","1","NumberOfStages"],"0x2127":["SH","1","ViewName"],"0x2128":["IS","1","ViewNumber"],"0x2129":["IS","1","NumberOfEventTimers"],"0x212A":["IS","1","NumberOfViewsInStage"],"0x2130":["DS","1-n","EventElapsedTimes"],"0x2132":["LO","1-n","EventTimerNames"],"0x2133":["SQ","1","EventTimerSequence"],"0x2134":["FD","1","EventTimeOffset"],"0x2135":["SQ","1","EventCodeSequence"],"0x2142":["IS","1","StartTrim"],"0x2143":["IS","1","StopTrim"],"0x2144":["IS","1","RecommendedDisplayFrameRate"],"0x2200":["CS","1","TransducerPosition"],"0x2204":["CS","1","TransducerOrientation"],"0x2208":["CS","1","AnatomicStructure"],"0x2218":["SQ","1","AnatomicRegionSequence"],"0x2220":["SQ","1","AnatomicRegionModifierSequence"],"0x2228":["SQ","1","PrimaryAnatomicStructureSequence"],"0x2229":["SQ","1","AnatomicStructureSpaceOrRegionSequence"],"0x2230":["SQ","1","PrimaryAnatomicStructureModifierSequence"],"0x2240":["SQ","1","TransducerPositionSequence"],"0x2242":["SQ","1","TransducerPositionModifierSequence"],"0x2244":["SQ","1","TransducerOrientationSequence"],"0x2246":["SQ","1","TransducerOrientationModifierSequence"],"0x2251":["SQ","1","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],"0x2253":["SQ","1","AnatomicPortalOfEntranceCodeSequenceTrial"],"0x2255":["SQ","1","AnatomicApproachDirectionCodeSequenceTrial"],"0x2256":["ST","1","AnatomicPerspectiveDescriptionTrial"],"0x2257":["SQ","1","AnatomicPerspectiveCodeSequenceTrial"],"0x2258":["ST","1","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],"0x2259":["SQ","1","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"0x225A":["SQ","1","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"0x225C":["SQ","1","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],"0x3001":["SQ","1","AlternateRepresentationSequence"],"0x3002":["UI","1-n","AvailableTransferSyntaxUID"],"0x3010":["UI","1-n","IrradiationEventUID"],"0x3011":["SQ","1","SourceIrradiationEventSequence"],"0x3012":["UI","1","RadiopharmaceuticalAdministrationEventUID"],"0x4000":["LT","1","IdentifyingComments"],"0x9007":["CS","4","FrameType"],"0x9092":["SQ","1","ReferencedImageEvidenceSequence"],"0x9121":["SQ","1","ReferencedRawDataSequence"],"0x9123":["UI","1","CreatorVersionUID"],"0x9124":["SQ","1","DerivationImageSequence"],"0x9154":["SQ","1","SourceImageEvidenceSequence"],"0x9205":["CS","1","PixelPresentation"],"0x9206":["CS","1","VolumetricProperties"],"0x9207":["CS","1","VolumeBasedCalculationTechnique"],"0x9208":["CS","1","ComplexImageComponent"],"0x9209":["CS","1","AcquisitionContrast"],"0x9215":["SQ","1","DerivationCodeSequence"],"0x9237":["SQ","1","ReferencedPresentationStateSequence"],"0x9410":["SQ","1","ReferencedOtherPlaneSequence"],"0x9458":["SQ","1","FrameDisplaySequence"],"0x9459":["FL","1","RecommendedDisplayFrameRateInFloat"],"0x9460":["CS","1","SkipFrameRangeFlag"]},"0x0010":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["PN","1","PatientName"],"0x0020":["LO","1","PatientID"],"0x0021":["LO","1","IssuerOfPatientID"],"0x0022":["CS","1","TypeOfPatientID"],"0x0024":["SQ","1","IssuerOfPatientIDQualifiersSequence"],"0x0026":["SQ","1","SourcePatientGroupIdentificationSequence"],"0x0027":["SQ","1","GroupOfPatientsIdentificationSequence"],"0x0028":["US","3","SubjectRelativePositionInImage"],"0x0030":["DA","1","PatientBirthDate"],"0x0032":["TM","1","PatientBirthTime"],"0x0033":["LO","1","PatientBirthDateInAlternativeCalendar"],"0x0034":["LO","1","PatientDeathDateInAlternativeCalendar"],"0x0035":["CS","1","PatientAlternativeCalendar"],"0x0040":["CS","1","PatientSex"],"0x0050":["SQ","1","PatientInsurancePlanCodeSequence"],"0x0101":["SQ","1","PatientPrimaryLanguageCodeSequence"],"0x0102":["SQ","1","PatientPrimaryLanguageModifierCodeSequence"],"0x0200":["CS","1","QualityControlSubject"],"0x0201":["SQ","1","QualityControlSubjectTypeCodeSequence"],"0x0212":["UC","1","StrainDescription"],"0x0213":["LO","1","StrainNomenclature"],"0x0214":["LO","1","StrainStockNumber"],"0x0215":["SQ","1","StrainSourceRegistryCodeSequence"],"0x0216":["SQ","1","StrainStockSequence"],"0x0217":["LO","1","StrainSource"],"0x0218":["UT","1","StrainAdditionalInformation"],"0x0219":["SQ","1","StrainCodeSequence"],"0x0221":["SQ","1","GeneticModificationsSequence"],"0x0222":["UC","1","GeneticModificationsDescription"],"0x0223":["LO","1","GeneticModificationsNomenclature"],"0x0229":["SQ","1","GeneticModificationsCodeSequence"],"0x1000":["LO","1-n","OtherPatientIDs"],"0x1001":["PN","1-n","OtherPatientNames"],"0x1002":["SQ","1","OtherPatientIDsSequence"],"0x1005":["PN","1","PatientBirthName"],"0x1010":["AS","1","PatientAge"],"0x1020":["DS","1","PatientSize"],"0x1021":["SQ","1","PatientSizeCodeSequence"],"0x1022":["DS","1","PatientBodyMassIndex"],"0x1023":["DS","1","MeasuredAPDimension"],"0x1024":["DS","1","MeasuredLateralDimension"],"0x1030":["DS","1","PatientWeight"],"0x1040":["LO","1","PatientAddress"],"0x1050":["LO","1-n","InsurancePlanIdentification"],"0x1060":["PN","1","PatientMotherBirthName"],"0x1080":["LO","1","MilitaryRank"],"0x1081":["LO","1","BranchOfService"],"0x1090":["LO","1","MedicalRecordLocator"],"0x1100":["SQ","1","ReferencedPatientPhotoSequence"],"0x2000":["LO","1-n","MedicalAlerts"],"0x2110":["LO","1-n","Allergies"],"0x2150":["LO","1","CountryOfResidence"],"0x2152":["LO","1","RegionOfResidence"],"0x2154":["SH","1-n","PatientTelephoneNumbers"],"0x2155":["LT","1","PatientTelecomInformation"],"0x2160":["SH","1","EthnicGroup"],"0x2180":["SH","1","Occupation"],"0x21A0":["CS","1","SmokingStatus"],"0x21B0":["LT","1","AdditionalPatientHistory"],"0x21C0":["US","1","PregnancyStatus"],"0x21D0":["DA","1","LastMenstrualDate"],"0x21F0":["LO","1","PatientReligiousPreference"],"0x2201":["LO","1","PatientSpeciesDescription"],"0x2202":["SQ","1","PatientSpeciesCodeSequence"],"0x2203":["CS","1","PatientSexNeutered"],"0x2210":["CS","1","AnatomicalOrientationType"],"0x2292":["LO","1","PatientBreedDescription"],"0x2293":["SQ","1","PatientBreedCodeSequence"],"0x2294":["SQ","1","BreedRegistrationSequence"],"0x2295":["LO","1","BreedRegistrationNumber"],"0x2296":["SQ","1","BreedRegistryCodeSequence"],"0x2297":["PN","1","ResponsiblePerson"],"0x2298":["CS","1","ResponsiblePersonRole"],"0x2299":["LO","1","ResponsibleOrganization"],"0x4000":["LT","1","PatientComments"],"0x9431":["FL","1","ExaminedBodyThickness"]},"0x0012":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["LO","1","ClinicalTrialSponsorName"],"0x0020":["LO","1","ClinicalTrialProtocolID"],"0x0021":["LO","1","ClinicalTrialProtocolName"],"0x0030":["LO","1","ClinicalTrialSiteID"],"0x0031":["LO","1","ClinicalTrialSiteName"],"0x0040":["LO","1","ClinicalTrialSubjectID"],"0x0042":["LO","1","ClinicalTrialSubjectReadingID"],"0x0050":["LO","1","ClinicalTrialTimePointID"],"0x0051":["ST","1","ClinicalTrialTimePointDescription"],"0x0052":["FD","1","LongitudinalTemporalOffsetFromEvent"],"0x0053":["CS","1","LongitudinalTemporalEventType"],"0x0060":["LO","1","ClinicalTrialCoordinatingCenterName"],"0x0062":["CS","1","PatientIdentityRemoved"],"0x0063":["LO","1-n","DeidentificationMethod"],"0x0064":["SQ","1","DeidentificationMethodCodeSequence"],"0x0071":["LO","1","ClinicalTrialSeriesID"],"0x0072":["LO","1","ClinicalTrialSeriesDescription"],"0x0081":["LO","1","ClinicalTrialProtocolEthicsCommitteeName"],"0x0082":["LO","1","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0x0083":["SQ","1","ConsentForClinicalTrialUseSequence"],"0x0084":["CS","1","DistributionType"],"0x0085":["CS","1","ConsentForDistributionFlag"],"0x0086":["DA","1","EthicsCommitteeApprovalEffectivenessStartDate"],"0x0087":["DA","1","EthicsCommitteeApprovalEffectivenessEndDate"]},"0x0014":{"0x0000":["UL","1","GenericGroupLength"],"0x0023":["ST","1","CADFileFormat"],"0x0024":["ST","1","ComponentReferenceSystem"],"0x0025":["ST","1","ComponentManufacturingProcedure"],"0x0028":["ST","1","ComponentManufacturer"],"0x0030":["DS","1-n","MaterialThickness"],"0x0032":["DS","1-n","MaterialPipeDiameter"],"0x0034":["DS","1-n","MaterialIsolationDiameter"],"0x0042":["ST","1","MaterialGrade"],"0x0044":["ST","1","MaterialPropertiesDescription"],"0x0045":["ST","1","MaterialPropertiesFileFormatRetired"],"0x0046":["LT","1","MaterialNotes"],"0x0050":["CS","1","ComponentShape"],"0x0052":["CS","1","CurvatureType"],"0x0054":["DS","1","OuterDiameter"],"0x0056":["DS","1","InnerDiameter"],"0x0100":["LO","1-n","ComponentWelderIDs"],"0x0101":["CS","1","SecondaryApprovalStatus"],"0x0102":["DA","1","SecondaryReviewDate"],"0x0103":["TM","1","SecondaryReviewTime"],"0x0104":["PN","1","SecondaryReviewerName"],"0x0105":["ST","1","RepairID"],"0x0106":["SQ","1","MultipleComponentApprovalSequence"],"0x0107":["CS","1-n","OtherApprovalStatus"],"0x0108":["CS","1-n","OtherSecondaryApprovalStatus"],"0x1010":["ST","1","ActualEnvironmentalConditions"],"0x1020":["DA","1","ExpiryDate"],"0x1040":["ST","1","EnvironmentalConditions"],"0x2002":["SQ","1","EvaluatorSequence"],"0x2004":["IS","1","EvaluatorNumber"],"0x2006":["PN","1","EvaluatorName"],"0x2008":["IS","1","EvaluationAttempt"],"0x2012":["SQ","1","IndicationSequence"],"0x2014":["IS","1","IndicationNumber"],"0x2016":["SH","1","IndicationLabel"],"0x2018":["ST","1","IndicationDescription"],"0x201A":["CS","1-n","IndicationType"],"0x201C":["CS","1","IndicationDisposition"],"0x201E":["SQ","1","IndicationROISequence"],"0x2030":["SQ","1","IndicationPhysicalPropertySequence"],"0x2032":["SH","1","PropertyLabel"],"0x2202":["IS","1","CoordinateSystemNumberOfAxes"],"0x2204":["SQ","1","CoordinateSystemAxesSequence"],"0x2206":["ST","1","CoordinateSystemAxisDescription"],"0x2208":["CS","1","CoordinateSystemDataSetMapping"],"0x220A":["IS","1","CoordinateSystemAxisNumber"],"0x220C":["CS","1","CoordinateSystemAxisType"],"0x220E":["CS","1","CoordinateSystemAxisUnits"],"0x2210":["OB","1","CoordinateSystemAxisValues"],"0x2220":["SQ","1","CoordinateSystemTransformSequence"],"0x2222":["ST","1","TransformDescription"],"0x2224":["IS","1","TransformNumberOfAxes"],"0x2226":["IS","1-n","TransformOrderOfAxes"],"0x2228":["CS","1","TransformedAxisUnits"],"0x222A":["DS","1-n","CoordinateSystemTransformRotationAndScaleMatrix"],"0x222C":["DS","1-n","CoordinateSystemTransformTranslationMatrix"],"0x3011":["DS","1","InternalDetectorFrameTime"],"0x3012":["DS","1","NumberOfFramesIntegrated"],"0x3020":["SQ","1","DetectorTemperatureSequence"],"0x3022":["ST","1","SensorName"],"0x3024":["DS","1","HorizontalOffsetOfSensor"],"0x3026":["DS","1","VerticalOffsetOfSensor"],"0x3028":["DS","1","SensorTemperature"],"0x3040":["SQ","1","DarkCurrentSequence"],"0x3050":["ox","1","DarkCurrentCounts"],"0x3060":["SQ","1","GainCorrectionReferenceSequence"],"0x3070":["ox","1","AirCounts"],"0x3071":["DS","1","KVUsedInGainCalibration"],"0x3072":["DS","1","MAUsedInGainCalibration"],"0x3073":["DS","1","NumberOfFramesUsedForIntegration"],"0x3074":["LO","1","FilterMaterialUsedInGainCalibration"],"0x3075":["DS","1","FilterThicknessUsedInGainCalibration"],"0x3076":["DA","1","DateOfGainCalibration"],"0x3077":["TM","1","TimeOfGainCalibration"],"0x3080":["OB","1","BadPixelImage"],"0x3099":["LT","1","CalibrationNotes"],"0x3100":["LT","1","LinearityCorrectionTechnique"],"0x3101":["LT","1","BeamHardeningCorrectionTechnique"],"0x4002":["SQ","1","PulserEquipmentSequence"],"0x4004":["CS","1","PulserType"],"0x4006":["LT","1","PulserNotes"],"0x4008":["SQ","1","ReceiverEquipmentSequence"],"0x400A":["CS","1","AmplifierType"],"0x400C":["LT","1","ReceiverNotes"],"0x400E":["SQ","1","PreAmplifierEquipmentSequence"],"0x400F":["LT","1","PreAmplifierNotes"],"0x4010":["SQ","1","TransmitTransducerSequence"],"0x4011":["SQ","1","ReceiveTransducerSequence"],"0x4012":["US","1","NumberOfElements"],"0x4013":["CS","1","ElementShape"],"0x4014":["DS","1","ElementDimensionA"],"0x4015":["DS","1","ElementDimensionB"],"0x4016":["DS","1","ElementPitchA"],"0x4017":["DS","1","MeasuredBeamDimensionA"],"0x4018":["DS","1","MeasuredBeamDimensionB"],"0x4019":["DS","1","LocationOfMeasuredBeamDiameter"],"0x401A":["DS","1","NominalFrequency"],"0x401B":["DS","1","MeasuredCenterFrequency"],"0x401C":["DS","1","MeasuredBandwidth"],"0x401D":["DS","1","ElementPitchB"],"0x4020":["SQ","1","PulserSettingsSequence"],"0x4022":["DS","1","PulseWidth"],"0x4024":["DS","1","ExcitationFrequency"],"0x4026":["CS","1","ModulationType"],"0x4028":["DS","1","Damping"],"0x4030":["SQ","1","ReceiverSettingsSequence"],"0x4031":["DS","1","AcquiredSoundpathLength"],"0x4032":["CS","1","AcquisitionCompressionType"],"0x4033":["IS","1","AcquisitionSampleSize"],"0x4034":["DS","1","RectifierSmoothing"],"0x4035":["SQ","1","DACSequence"],"0x4036":["CS","1","DACType"],"0x4038":["DS","1-n","DACGainPoints"],"0x403A":["DS","1-n","DACTimePoints"],"0x403C":["DS","1-n","DACAmplitude"],"0x4040":["SQ","1","PreAmplifierSettingsSequence"],"0x4050":["SQ","1","TransmitTransducerSettingsSequence"],"0x4051":["SQ","1","ReceiveTransducerSettingsSequence"],"0x4052":["DS","1","IncidentAngle"],"0x4054":["ST","1","CouplingTechnique"],"0x4056":["ST","1","CouplingMedium"],"0x4057":["DS","1","CouplingVelocity"],"0x4058":["DS","1","ProbeCenterLocationX"],"0x4059":["DS","1","ProbeCenterLocationZ"],"0x405A":["DS","1","SoundPathLength"],"0x405C":["ST","1","DelayLawIdentifier"],"0x4060":["SQ","1","GateSettingsSequence"],"0x4062":["DS","1","GateThreshold"],"0x4064":["DS","1","VelocityOfSound"],"0x4070":["SQ","1","CalibrationSettingsSequence"],"0x4072":["ST","1","CalibrationProcedure"],"0x4074":["SH","1","ProcedureVersion"],"0x4076":["DA","1","ProcedureCreationDate"],"0x4078":["DA","1","ProcedureExpirationDate"],"0x407A":["DA","1","ProcedureLastModifiedDate"],"0x407C":["TM","1-n","CalibrationTime"],"0x407E":["DA","1-n","CalibrationDate"],"0x4080":["SQ","1","ProbeDriveEquipmentSequence"],"0x4081":["CS","1","DriveType"],"0x4082":["LT","1","ProbeDriveNotes"],"0x4083":["SQ","1","DriveProbeSequence"],"0x4084":["DS","1","ProbeInductance"],"0x4085":["DS","1","ProbeResistance"],"0x4086":["SQ","1","ReceiveProbeSequence"],"0x4087":["SQ","1","ProbeDriveSettingsSequence"],"0x4088":["DS","1","BridgeResistors"],"0x4089":["DS","1","ProbeOrientationAngle"],"0x408B":["DS","1","UserSelectedGainY"],"0x408C":["DS","1","UserSelectedPhase"],"0x408D":["DS","1","UserSelectedOffsetX"],"0x408E":["DS","1","UserSelectedOffsetY"],"0x4091":["SQ","1","ChannelSettingsSequence"],"0x4092":["DS","1","ChannelThreshold"],"0x409A":["SQ","1","ScannerSettingsSequence"],"0x409B":["ST","1","ScanProcedure"],"0x409C":["DS","1","TranslationRateX"],"0x409D":["DS","1","TranslationRateY"],"0x409F":["DS","1","ChannelOverlap"],"0x40A0":["LO","1-n","ImageQualityIndicatorType"],"0x40A1":["LO","1-n","ImageQualityIndicatorMaterial"],"0x40A2":["LO","1-n","ImageQualityIndicatorSize"],"0x5002":["IS","1","LINACEnergy"],"0x5004":["IS","1","LINACOutput"],"0x5100":["US","1","ActiveAperture"],"0x5101":["DS","1","TotalAperture"],"0x5102":["DS","1","ApertureElevation"],"0x5103":["DS","1","MainLobeAngle"],"0x5104":["DS","1","MainRoofAngle"],"0x5105":["CS","1","ConnectorType"],"0x5106":["SH","1","WedgeModelNumber"],"0x5107":["DS","1","WedgeAngleFloat"],"0x5108":["DS","1","WedgeRoofAngle"],"0x5109":["CS","1","WedgeElement1Position"],"0x510A":["DS","1","WedgeMaterialVelocity"],"0x510B":["SH","1","WedgeMaterial"],"0x510C":["DS","1","WedgeOffsetZ"],"0x510D":["DS","1","WedgeOriginOffsetX"],"0x510E":["DS","1","WedgeTimeDelay"],"0x510F":["SH","1","WedgeName"],"0x5110":["SH","1","WedgeManufacturerName"],"0x5111":["LO","1","WedgeDescription"],"0x5112":["DS","1","NominalBeamAngle"],"0x5113":["DS","1","WedgeOffsetX"],"0x5114":["DS","1","WedgeOffsetY"],"0x5115":["DS","1","WedgeTotalLength"],"0x5116":["DS","1","WedgeInContactLength"],"0x5117":["DS","1","WedgeFrontGap"],"0x5118":["DS","1","WedgeTotalHeight"],"0x5119":["DS","1","WedgeFrontHeight"],"0x511A":["DS","1","WedgeRearHeight"],"0x511B":["DS","1","WedgeTotalWidth"],"0x511C":["DS","1","WedgeInContactWidth"],"0x511D":["DS","1","WedgeChamferHeight"],"0x511E":["CS","1","WedgeCurve"],"0x511F":["DS","1","RadiusAlongWedge"]},"0x0016":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["DS","1","WhitePoint"],"0x0002":["DS","3","PrimaryChromaticities"],"0x0003":["UT","1","BatteryLevel"],"0x0004":["DS","1","ExposureTimeInSeconds"],"0x0005":["DS","1","FNumber"],"0x0006":["IS","1","OECFRows"],"0x0007":["IS","1","OECFColumns"],"0x0008":["UC","1-n","OECFColumnNames"],"0x0009":["DS","1-n","OECFValues"],"0x000A":["IS","1","SpatialFrequencyResponseRows"],"0x000B":["IS","1","SpatialFrequencyResponseColumns"],"0x000C":["UC","1-n","SpatialFrequencyResponseColumnNames"],"0x000D":["DS","1-n","SpatialFrequencyResponseValues"],"0x000E":["IS","1","ColorFilterArrayPatternRows"],"0x000F":["IS","1","ColorFilterArrayPatternColumns"],"0x0010":["DS","1-n","ColorFilterArrayPatternValues"],"0x0011":["US","1","FlashFiringStatus"],"0x0012":["US","1","FlashReturnStatus"],"0x0013":["US","1","FlashMode"],"0x0014":["US","1","FlashFunctionPresent"],"0x0015":["US","1","FlashRedEyeMode"],"0x0016":["US","1","ExposureProgram"],"0x0017":["UT","1","SpectralSensitivity"],"0x0018":["IS","1","PhotographicSensitivity"],"0x0019":["IS","1","SelfTimerMode"],"0x001A":["US","1","SensitivityType"],"0x001B":["IS","1","StandardOutputSensitivity"],"0x001C":["IS","1","RecommendedExposureIndex"],"0x001D":["IS","1","ISOSpeed"],"0x001E":["IS","1","ISOSpeedLatitudeyyy"],"0x001F":["IS","1","ISOSpeedLatitudezzz"],"0x0020":["UT","1","EXIFVersion"],"0x0021":["DS","1","ShutterSpeedValue"],"0x0022":["DS","1","ApertureValue"],"0x0023":["DS","1","BrightnessValue"],"0x0024":["DS","1","ExposureBiasValue"],"0x0025":["DS","1","MaxApertureValue"],"0x0026":["DS","1","SubjectDistance"],"0x0027":["US","1","MeteringMode"],"0x0028":["US","1","LightSource"],"0x0029":["DS","1","FocalLength"],"0x002A":["IS","2-4","SubjectArea"],"0x002B":["OB","1","MakerNote"],"0x0030":["DS","1","Temperature"],"0x0031":["DS","1","Humidity"],"0x0032":["DS","1","Pressure"],"0x0033":["DS","1","WaterDepth"],"0x0034":["DS","1","Acceleration"],"0x0035":["DS","1","CameraElevationAngle"],"0x0036":["DS","1-2","FlashEnergy"],"0x0037":["IS","2","SubjectLocation"],"0x0038":["DS","1","PhotographicExposureIndex"],"0x0039":["US","1","SensingMethod"],"0x003A":["US","1","FileSource"],"0x003B":["US","1","SceneType"],"0x0041":["US","1","CustomRendered"],"0x0042":["US","1","ExposureMode"],"0x0043":["US","1","WhiteBalance"],"0x0044":["DS","1","DigitalZoomRatio"],"0x0045":["IS","1","FocalLengthIn35mmFilm"],"0x0046":["US","1","SceneCaptureType"],"0x0047":["US","1","GainControl"],"0x0048":["US","1","Contrast"],"0x0049":["US","1","Saturation"],"0x004A":["US","1","Sharpness"],"0x004B":["OB","1","DeviceSettingDescription"],"0x004C":["US","1","SubjectDistanceRange"],"0x004D":["UT","1","CameraOwnerName"],"0x004E":["DS","4","LensSpecification"],"0x004F":["UT","1","LensMake"],"0x0050":["UT","1","LensModel"],"0x0051":["UT","1","LensSerialNumber"],"0x0061":["CS","1","InteroperabilityIndex"],"0x0062":["OB","1","InteroperabilityVersion"],"0x0070":["OB","1","GPSVersionID"],"0x0071":["CS","1","GPSLatitudeRef"],"0x0072":["DS","3","GPSLatitude"],"0x0073":["CS","1","GPSLongitudeRef"],"0x0074":["DS","3","GPSLongitude"],"0x0075":["US","1","GPSAltitudeRef"],"0x0076":["DS","1","GPSAltitude"],"0x0077":["DT","1","GPSTimeStamp"],"0x0078":["UT","1","GPSSatellites"],"0x0079":["CS","1","GPSStatus"],"0x007A":["CS","1","GPSMeasureMode"],"0x007B":["DS","1","GPSDOP"],"0x007C":["CS","1","GPSSpeedRef"],"0x007D":["DS","1","GPSSpeed"],"0x007E":["CS","1","GPSTrackRef"],"0x007F":["DS","1","GPSTrack"],"0x0080":["CS","1","GPSImgDirectionRef"],"0x0081":["DS","1","GPSImgDirection"],"0x0082":["UT","1","GPSMapDatum"],"0x0083":["CS","1","GPSDestLatitudeRef"],"0x0084":["DS","3","GPSDestLatitude"],"0x0085":["CS","1","GPSDestLongitudeRef"],"0x0086":["DS","3","GPSDestLongitude"],"0x0087":["CS","1","GPSDestBearingRef"],"0x0088":["DS","1","GPSDestBearing"],"0x0089":["CS","1","GPSDestDistanceRef"],"0x008A":["DS","1","GPSDestDistance"],"0x008B":["OB","1","GPSProcessingMethod"],"0x008C":["OB","1","GPSAreaInformation"],"0x008D":["DT","1","GPSDateStamp"],"0x008E":["IS","1","GPSDifferential"],"0x1001":["CS","1","LightSourcePolarization"],"0x1002":["DS","1","EmitterColorTemperature"],"0x1003":["CS","1","ContactMethod"],"0x1004":["CS","1-n","ImmersionMedia"],"0x1005":["DS","1","OpticalMagnificationFactor"]},"0x0018":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["LO","1","ContrastBolusAgent"],"0x0012":["SQ","1","ContrastBolusAgentSequence"],"0x0013":["FL","1","ContrastBolusT1Relaxivity"],"0x0014":["SQ","1","ContrastBolusAdministrationRouteSequence"],"0x0015":["CS","1","BodyPartExamined"],"0x0020":["CS","1-n","ScanningSequence"],"0x0021":["CS","1-n","SequenceVariant"],"0x0022":["CS","1-n","ScanOptions"],"0x0023":["CS","1","MRAcquisitionType"],"0x0024":["SH","1","SequenceName"],"0x0025":["CS","1","AngioFlag"],"0x0026":["SQ","1","InterventionDrugInformationSequence"],"0x0027":["TM","1","InterventionDrugStopTime"],"0x0028":["DS","1","InterventionDrugDose"],"0x0029":["SQ","1","InterventionDrugCodeSequence"],"0x002A":["SQ","1","AdditionalDrugSequence"],"0x0030":["LO","1-n","Radionuclide"],"0x0031":["LO","1","Radiopharmaceutical"],"0x0032":["DS","1","EnergyWindowCenterline"],"0x0033":["DS","1-n","EnergyWindowTotalWidth"],"0x0034":["LO","1","InterventionDrugName"],"0x0035":["TM","1","InterventionDrugStartTime"],"0x0036":["SQ","1","InterventionSequence"],"0x0037":["CS","1","TherapyType"],"0x0038":["CS","1","InterventionStatus"],"0x0039":["CS","1","TherapyDescription"],"0x003A":["ST","1","InterventionDescription"],"0x0040":["IS","1","CineRate"],"0x0042":["CS","1","InitialCineRunState"],"0x0050":["DS","1","SliceThickness"],"0x0060":["DS","1","KVP"],"0x0061":["DS","1",""],"0x0070":["IS","1","CountsAccumulated"],"0x0071":["CS","1","AcquisitionTerminationCondition"],"0x0072":["DS","1","EffectiveDuration"],"0x0073":["CS","1","AcquisitionStartCondition"],"0x0074":["IS","1","AcquisitionStartConditionData"],"0x0075":["IS","1","AcquisitionTerminationConditionData"],"0x0080":["DS","1","RepetitionTime"],"0x0081":["DS","1","EchoTime"],"0x0082":["DS","1","InversionTime"],"0x0083":["DS","1","NumberOfAverages"],"0x0084":["DS","1","ImagingFrequency"],"0x0085":["SH","1","ImagedNucleus"],"0x0086":["IS","1-n","EchoNumbers"],"0x0087":["DS","1","MagneticFieldStrength"],"0x0088":["DS","1","SpacingBetweenSlices"],"0x0089":["IS","1","NumberOfPhaseEncodingSteps"],"0x0090":["DS","1","DataCollectionDiameter"],"0x0091":["IS","1","EchoTrainLength"],"0x0093":["DS","1","PercentSampling"],"0x0094":["DS","1","PercentPhaseFieldOfView"],"0x0095":["DS","1","PixelBandwidth"],"0x1000":["LO","1","DeviceSerialNumber"],"0x1002":["UI","1","DeviceUID"],"0x1003":["LO","1","DeviceID"],"0x1004":["LO","1","PlateID"],"0x1005":["LO","1","GeneratorID"],"0x1006":["LO","1","GridID"],"0x1007":["LO","1","CassetteID"],"0x1008":["LO","1","GantryID"],"0x1009":["UT","1","UniqueDeviceIdentifier"],"0x100A":["SQ","1","UDISequence"],"0x100B":["UI","1-n","ManufacturerDeviceClassUID"],"0x1010":["LO","1","SecondaryCaptureDeviceID"],"0x1011":["LO","1","HardcopyCreationDeviceID"],"0x1012":["DA","1","DateOfSecondaryCapture"],"0x1014":["TM","1","TimeOfSecondaryCapture"],"0x1016":["LO","1","SecondaryCaptureDeviceManufacturer"],"0x1017":["LO","1","HardcopyDeviceManufacturer"],"0x1018":["LO","1","SecondaryCaptureDeviceManufacturerModelName"],"0x1019":["LO","1-n","SecondaryCaptureDeviceSoftwareVersions"],"0x101A":["LO","1-n","HardcopyDeviceSoftwareVersion"],"0x101B":["LO","1","HardcopyDeviceManufacturerModelName"],"0x1020":["LO","1-n","SoftwareVersions"],"0x1022":["SH","1","VideoImageFormatAcquired"],"0x1023":["LO","1","DigitalImageFormatAcquired"],"0x1030":["LO","1","ProtocolName"],"0x1040":["LO","1","ContrastBolusRoute"],"0x1041":["DS","1","ContrastBolusVolume"],"0x1042":["TM","1","ContrastBolusStartTime"],"0x1043":["TM","1","ContrastBolusStopTime"],"0x1044":["DS","1","ContrastBolusTotalDose"],"0x1045":["IS","1","SyringeCounts"],"0x1046":["DS","1-n","ContrastFlowRate"],"0x1047":["DS","1-n","ContrastFlowDuration"],"0x1048":["CS","1","ContrastBolusIngredient"],"0x1049":["DS","1","ContrastBolusIngredientConcentration"],"0x1050":["DS","1","SpatialResolution"],"0x1060":["DS","1","TriggerTime"],"0x1061":["LO","1","TriggerSourceOrType"],"0x1062":["IS","1","NominalInterval"],"0x1063":["DS","1","FrameTime"],"0x1064":["LO","1","CardiacFramingType"],"0x1065":["DS","1-n","FrameTimeVector"],"0x1066":["DS","1","FrameDelay"],"0x1067":["DS","1","ImageTriggerDelay"],"0x1068":["DS","1","MultiplexGroupTimeOffset"],"0x1069":["DS","1","TriggerTimeOffset"],"0x106A":["CS","1","SynchronizationTrigger"],"0x106C":["US","2","SynchronizationChannel"],"0x106E":["UL","1","TriggerSamplePosition"],"0x1070":["LO","1","RadiopharmaceuticalRoute"],"0x1071":["DS","1","RadiopharmaceuticalVolume"],"0x1072":["TM","1","RadiopharmaceuticalStartTime"],"0x1073":["TM","1","RadiopharmaceuticalStopTime"],"0x1074":["DS","1","RadionuclideTotalDose"],"0x1075":["DS","1","RadionuclideHalfLife"],"0x1076":["DS","1","RadionuclidePositronFraction"],"0x1077":["DS","1","RadiopharmaceuticalSpecificActivity"],"0x1078":["DT","1","RadiopharmaceuticalStartDateTime"],"0x1079":["DT","1","RadiopharmaceuticalStopDateTime"],"0x1080":["CS","1","BeatRejectionFlag"],"0x1081":["IS","1","LowRRValue"],"0x1082":["IS","1","HighRRValue"],"0x1083":["IS","1","IntervalsAcquired"],"0x1084":["IS","1","IntervalsRejected"],"0x1085":["LO","1","PVCRejection"],"0x1086":["IS","1","SkipBeats"],"0x1088":["IS","1","HeartRate"],"0x1090":["IS","1","CardiacNumberOfImages"],"0x1094":["IS","1","TriggerWindow"],"0x1100":["DS","1","ReconstructionDiameter"],"0x1110":["DS","1","DistanceSourceToDetector"],"0x1111":["DS","1","DistanceSourceToPatient"],"0x1114":["DS","1","EstimatedRadiographicMagnificationFactor"],"0x1120":["DS","1","GantryDetectorTilt"],"0x1121":["DS","1","GantryDetectorSlew"],"0x1130":["DS","1","TableHeight"],"0x1131":["DS","1","TableTraverse"],"0x1134":["CS","1","TableMotion"],"0x1135":["DS","1-n","TableVerticalIncrement"],"0x1136":["DS","1-n","TableLateralIncrement"],"0x1137":["DS","1-n","TableLongitudinalIncrement"],"0x1138":["DS","1","TableAngle"],"0x113A":["CS","1","TableType"],"0x1140":["CS","1","RotationDirection"],"0x1141":["DS","1","AngularPosition"],"0x1142":["DS","1-n","RadialPosition"],"0x1143":["DS","1","ScanArc"],"0x1144":["DS","1","AngularStep"],"0x1145":["DS","1","CenterOfRotationOffset"],"0x1146":["DS","1-n","RotationOffset"],"0x1147":["CS","1","FieldOfViewShape"],"0x1149":["IS","1-2","FieldOfViewDimensions"],"0x1150":["IS","1","ExposureTime"],"0x1151":["IS","1","XRayTubeCurrent"],"0x1152":["IS","1","Exposure"],"0x1153":["IS","1","ExposureInuAs"],"0x1154":["DS","1","AveragePulseWidth"],"0x1155":["CS","1","RadiationSetting"],"0x1156":["CS","1","RectificationType"],"0x115A":["CS","1","RadiationMode"],"0x115E":["DS","1","ImageAndFluoroscopyAreaDoseProduct"],"0x1160":["SH","1","FilterType"],"0x1161":["LO","1-n","TypeOfFilters"],"0x1162":["DS","1","IntensifierSize"],"0x1164":["DS","2","ImagerPixelSpacing"],"0x1166":["CS","1-n","Grid"],"0x1170":["IS","1","GeneratorPower"],"0x1180":["SH","1","CollimatorGridName"],"0x1181":["CS","1","CollimatorType"],"0x1182":["IS","1-2","FocalDistance"],"0x1183":["DS","1-2","XFocusCenter"],"0x1184":["DS","1-2","YFocusCenter"],"0x1190":["DS","1-n","FocalSpots"],"0x1191":["CS","1","AnodeTargetMaterial"],"0x11A0":["DS","1","BodyPartThickness"],"0x11A2":["DS","1","CompressionForce"],"0x11A3":["DS","1","CompressionPressure"],"0x11A4":["LO","1","PaddleDescription"],"0x11A5":["DS","1","CompressionContactArea"],"0x11B0":["LO","1","AcquisitionMode"],"0x11B1":["LO","1","DoseModeName"],"0x11B2":["CS","1","AcquiredSubtractionMaskFlag"],"0x11B3":["CS","1","FluoroscopyPersistenceFlag"],"0x11B4":["CS","1","FluoroscopyLastImageHoldPersistenceFlag"],"0x11B5":["IS","1","UpperLimitNumberOfPersistentFluoroscopyFrames"],"0x11B6":["CS","1","ContrastBolusAutoInjectionTriggerFlag"],"0x11B7":["FD","1","ContrastBolusInjectionDelay"],"0x11B8":["SQ","1","XAAcquisitionPhaseDetailsSequence"],"0x11B9":["FD","1","XAAcquisitionFrameRate"],"0x11BA":["SQ","1","XAPlaneDetailsSequence"],"0x11BB":["LO","1","AcquisitionFieldOfViewLabel"],"0x11BC":["SQ","1","XRayFilterDetailsSequence"],"0x11BD":["FD","1","XAAcquisitionDuration"],"0x11BE":["CS","1","ReconstructionPipelineType"],"0x11BF":["SQ","1","ImageFilterDetailsSequence"],"0x11C0":["CS","1","AppliedMaskSubtractionFlag"],"0x11C1":["SQ","1","RequestedSeriesDescriptionCodeSequence"],"0x1200":["DA","1-n","DateOfLastCalibration"],"0x1201":["TM","1-n","TimeOfLastCalibration"],"0x1202":["DT","1","DateTimeOfLastCalibration"],"0x1203":["DT","1","CalibrationDateTime"],"0x1210":["SH","1-n","ConvolutionKernel"],"0x1240":["IS","1-n","UpperLowerPixelValues"],"0x1242":["IS","1","ActualFrameDuration"],"0x1243":["IS","1","CountRate"],"0x1244":["US","1","PreferredPlaybackSequencing"],"0x1250":["SH","1","ReceiveCoilName"],"0x1251":["SH","1","TransmitCoilName"],"0x1260":["SH","1","PlateType"],"0x1261":["LO","1","PhosphorType"],"0x1271":["FD","1","WaterEquivalentDiameter"],"0x1272":["SQ","1","WaterEquivalentDiameterCalculationMethodCodeSequence"],"0x1300":["DS","1","ScanVelocity"],"0x1301":["CS","1-n","WholeBodyTechnique"],"0x1302":["IS","1","ScanLength"],"0x1310":["US","4","AcquisitionMatrix"],"0x1312":["CS","1","InPlanePhaseEncodingDirection"],"0x1314":["DS","1","FlipAngle"],"0x1315":["CS","1","VariableFlipAngleFlag"],"0x1316":["DS","1","SAR"],"0x1318":["DS","1","dBdt"],"0x1320":["FL","1","B1rms"],"0x1400":["LO","1","AcquisitionDeviceProcessingDescription"],"0x1401":["LO","1","AcquisitionDeviceProcessingCode"],"0x1402":["CS","1","CassetteOrientation"],"0x1403":["CS","1","CassetteSize"],"0x1404":["US","1","ExposuresOnPlate"],"0x1405":["IS","1","RelativeXRayExposure"],"0x1411":["DS","1","ExposureIndex"],"0x1412":["DS","1","TargetExposureIndex"],"0x1413":["DS","1","DeviationIndex"],"0x1450":["DS","1","ColumnAngulation"],"0x1460":["DS","1","TomoLayerHeight"],"0x1470":["DS","1","TomoAngle"],"0x1480":["DS","1","TomoTime"],"0x1490":["CS","1","TomoType"],"0x1491":["CS","1","TomoClass"],"0x1495":["IS","1","NumberOfTomosynthesisSourceImages"],"0x1500":["CS","1","PositionerMotion"],"0x1508":["CS","1","PositionerType"],"0x1510":["DS","1","PositionerPrimaryAngle"],"0x1511":["DS","1","PositionerSecondaryAngle"],"0x1520":["DS","1-n","PositionerPrimaryAngleIncrement"],"0x1521":["DS","1-n","PositionerSecondaryAngleIncrement"],"0x1530":["DS","1","DetectorPrimaryAngle"],"0x1531":["DS","1","DetectorSecondaryAngle"],"0x1600":["CS","1-3","ShutterShape"],"0x1602":["IS","1","ShutterLeftVerticalEdge"],"0x1604":["IS","1","ShutterRightVerticalEdge"],"0x1606":["IS","1","ShutterUpperHorizontalEdge"],"0x1608":["IS","1","ShutterLowerHorizontalEdge"],"0x1610":["IS","2","CenterOfCircularShutter"],"0x1612":["IS","1","RadiusOfCircularShutter"],"0x1620":["IS","2-2n","VerticesOfThePolygonalShutter"],"0x1622":["US","1","ShutterPresentationValue"],"0x1623":["US","1","ShutterOverlayGroup"],"0x1624":["US","3","ShutterPresentationColorCIELabValue"],"0x1630":["CS","1","OutlineShapeType"],"0x1631":["FD","1","OutlineLeftVerticalEdge"],"0x1632":["FD","1","OutlineRightVerticalEdge"],"0x1633":["FD","1","OutlineUpperHorizontalEdge"],"0x1634":["FD","1","OutlineLowerHorizontalEdge"],"0x1635":["FD","2","CenterOfCircularOutline"],"0x1636":["FD","1","DiameterOfCircularOutline"],"0x1637":["UL","1","NumberOfPolygonalVertices"],"0x1638":["OF","1","VerticesOfThePolygonalOutline"],"0x1700":["CS","1-3","CollimatorShape"],"0x1702":["IS","1","CollimatorLeftVerticalEdge"],"0x1704":["IS","1","CollimatorRightVerticalEdge"],"0x1706":["IS","1","CollimatorUpperHorizontalEdge"],"0x1708":["IS","1","CollimatorLowerHorizontalEdge"],"0x1710":["IS","2","CenterOfCircularCollimator"],"0x1712":["IS","1","RadiusOfCircularCollimator"],"0x1720":["IS","2-2n","VerticesOfThePolygonalCollimator"],"0x1800":["CS","1","AcquisitionTimeSynchronized"],"0x1801":["SH","1","TimeSource"],"0x1802":["CS","1","TimeDistributionProtocol"],"0x1803":["LO","1","NTPSourceAddress"],"0x2001":["IS","1-n","PageNumberVector"],"0x2002":["SH","1-n","FrameLabelVector"],"0x2003":["DS","1-n","FramePrimaryAngleVector"],"0x2004":["DS","1-n","FrameSecondaryAngleVector"],"0x2005":["DS","1-n","SliceLocationVector"],"0x2006":["SH","1-n","DisplayWindowLabelVector"],"0x2010":["DS","2","NominalScannedPixelSpacing"],"0x2020":["CS","1","DigitizingDeviceTransportDirection"],"0x2030":["DS","1","RotationOfScannedFilm"],"0x2041":["SQ","1","BiopsyTargetSequence"],"0x2042":["UI","1","TargetUID"],"0x2043":["FL","2","LocalizingCursorPosition"],"0x2044":["FL","3","CalculatedTargetPosition"],"0x2045":["SH","1","TargetLabel"],"0x2046":["FL","1","DisplayedZValue"],"0x3100":["CS","1","IVUSAcquisition"],"0x3101":["DS","1","IVUSPullbackRate"],"0x3102":["DS","1","IVUSGatedRate"],"0x3103":["IS","1","IVUSPullbackStartFrameNumber"],"0x3104":["IS","1","IVUSPullbackStopFrameNumber"],"0x3105":["IS","1-n","LesionNumber"],"0x4000":["LT","1","AcquisitionComments"],"0x5000":["SH","1-n","OutputPower"],"0x5010":["LO","1-n","TransducerData"],"0x5011":["SQ","1","TransducerIdentificationSequence"],"0x5012":["DS","1","FocusDepth"],"0x5020":["LO","1","ProcessingFunction"],"0x5021":["LO","1","PostprocessingFunction"],"0x5022":["DS","1","MechanicalIndex"],"0x5024":["DS","1","BoneThermalIndex"],"0x5026":["DS","1","CranialThermalIndex"],"0x5027":["DS","1","SoftTissueThermalIndex"],"0x5028":["DS","1","SoftTissueFocusThermalIndex"],"0x5029":["DS","1","SoftTissueSurfaceThermalIndex"],"0x5030":["DS","1","DynamicRange"],"0x5040":["DS","1","TotalGain"],"0x5050":["IS","1","DepthOfScanField"],"0x5100":["CS","1","PatientPosition"],"0x5101":["CS","1","ViewPosition"],"0x5104":["SQ","1","ProjectionEponymousNameCodeSequence"],"0x5210":["DS","6","ImageTransformationMatrix"],"0x5212":["DS","3","ImageTranslationVector"],"0x6000":["DS","1","Sensitivity"],"0x6011":["SQ","1","SequenceOfUltrasoundRegions"],"0x6012":["US","1","RegionSpatialFormat"],"0x6014":["US","1","RegionDataType"],"0x6016":["UL","1","RegionFlags"],"0x6018":["UL","1","RegionLocationMinX0"],"0x601A":["UL","1","RegionLocationMinY0"],"0x601C":["UL","1","RegionLocationMaxX1"],"0x601E":["UL","1","RegionLocationMaxY1"],"0x6020":["SL","1","ReferencePixelX0"],"0x6022":["SL","1","ReferencePixelY0"],"0x6024":["US","1","PhysicalUnitsXDirection"],"0x6026":["US","1","PhysicalUnitsYDirection"],"0x6028":["FD","1","ReferencePixelPhysicalValueX"],"0x602A":["FD","1","ReferencePixelPhysicalValueY"],"0x602C":["FD","1","PhysicalDeltaX"],"0x602E":["FD","1","PhysicalDeltaY"],"0x6030":["UL","1","TransducerFrequency"],"0x6031":["CS","1","TransducerType"],"0x6032":["UL","1","PulseRepetitionFrequency"],"0x6034":["FD","1","DopplerCorrectionAngle"],"0x6036":["FD","1","SteeringAngle"],"0x6038":["UL","1","DopplerSampleVolumeXPositionRetired"],"0x6039":["SL","1","DopplerSampleVolumeXPosition"],"0x603A":["UL","1","DopplerSampleVolumeYPositionRetired"],"0x603B":["SL","1","DopplerSampleVolumeYPosition"],"0x603C":["UL","1","TMLinePositionX0Retired"],"0x603D":["SL","1","TMLinePositionX0"],"0x603E":["UL","1","TMLinePositionY0Retired"],"0x603F":["SL","1","TMLinePositionY0"],"0x6040":["UL","1","TMLinePositionX1Retired"],"0x6041":["SL","1","TMLinePositionX1"],"0x6042":["UL","1","TMLinePositionY1Retired"],"0x6043":["SL","1","TMLinePositionY1"],"0x6044":["US","1","PixelComponentOrganization"],"0x6046":["UL","1","PixelComponentMask"],"0x6048":["UL","1","PixelComponentRangeStart"],"0x604A":["UL","1","PixelComponentRangeStop"],"0x604C":["US","1","PixelComponentPhysicalUnits"],"0x604E":["US","1","PixelComponentDataType"],"0x6050":["UL","1","NumberOfTableBreakPoints"],"0x6052":["UL","1-n","TableOfXBreakPoints"],"0x6054":["FD","1-n","TableOfYBreakPoints"],"0x6056":["UL","1","NumberOfTableEntries"],"0x6058":["UL","1-n","TableOfPixelValues"],"0x605A":["FL","1-n","TableOfParameterValues"],"0x6060":["FL","1-n","RWaveTimeVector"],"0x6070":["US","1","ActiveImageAreaOverlayGroup"],"0x7000":["CS","1","DetectorConditionsNominalFlag"],"0x7001":["DS","1","DetectorTemperature"],"0x7004":["CS","1","DetectorType"],"0x7005":["CS","1","DetectorConfiguration"],"0x7006":["LT","1","DetectorDescription"],"0x7008":["LT","1","DetectorMode"],"0x700A":["SH","1","DetectorID"],"0x700C":["DA","1","DateOfLastDetectorCalibration"],"0x700E":["TM","1","TimeOfLastDetectorCalibration"],"0x7010":["IS","1","ExposuresOnDetectorSinceLastCalibration"],"0x7011":["IS","1","ExposuresOnDetectorSinceManufactured"],"0x7012":["DS","1","DetectorTimeSinceLastExposure"],"0x7014":["DS","1","DetectorActiveTime"],"0x7016":["DS","1","DetectorActivationOffsetFromExposure"],"0x701A":["DS","2","DetectorBinning"],"0x7020":["DS","2","DetectorElementPhysicalSize"],"0x7022":["DS","2","DetectorElementSpacing"],"0x7024":["CS","1","DetectorActiveShape"],"0x7026":["DS","1-2","DetectorActiveDimensions"],"0x7028":["DS","2","DetectorActiveOrigin"],"0x702A":["LO","1","DetectorManufacturerName"],"0x702B":["LO","1","DetectorManufacturerModelName"],"0x7030":["DS","2","FieldOfViewOrigin"],"0x7032":["DS","1","FieldOfViewRotation"],"0x7034":["CS","1","FieldOfViewHorizontalFlip"],"0x7036":["FL","2","PixelDataAreaOriginRelativeToFOV"],"0x7038":["FL","1","PixelDataAreaRotationAngleRelativeToFOV"],"0x7040":["LT","1","GridAbsorbingMaterial"],"0x7041":["LT","1","GridSpacingMaterial"],"0x7042":["DS","1","GridThickness"],"0x7044":["DS","1","GridPitch"],"0x7046":["IS","2","GridAspectRatio"],"0x7048":["DS","1","GridPeriod"],"0x704C":["DS","1","GridFocalDistance"],"0x7050":["CS","1-n","FilterMaterial"],"0x7052":["DS","1-n","FilterThicknessMinimum"],"0x7054":["DS","1-n","FilterThicknessMaximum"],"0x7056":["FL","1-n","FilterBeamPathLengthMinimum"],"0x7058":["FL","1-n","FilterBeamPathLengthMaximum"],"0x7060":["CS","1","ExposureControlMode"],"0x7062":["LT","1","ExposureControlModeDescription"],"0x7064":["CS","1","ExposureStatus"],"0x7065":["DS","1","PhototimerSetting"],"0x8150":["DS","1","ExposureTimeInuS"],"0x8151":["DS","1","XRayTubeCurrentInuA"],"0x9004":["CS","1","ContentQualification"],"0x9005":["SH","1","PulseSequenceName"],"0x9006":["SQ","1","MRImagingModifierSequence"],"0x9008":["CS","1","EchoPulseSequence"],"0x9009":["CS","1","InversionRecovery"],"0x9010":["CS","1","FlowCompensation"],"0x9011":["CS","1","MultipleSpinEcho"],"0x9012":["CS","1","MultiPlanarExcitation"],"0x9014":["CS","1","PhaseContrast"],"0x9015":["CS","1","TimeOfFlightContrast"],"0x9016":["CS","1","Spoiling"],"0x9017":["CS","1","SteadyStatePulseSequence"],"0x9018":["CS","1","EchoPlanarPulseSequence"],"0x9019":["FD","1","TagAngleFirstAxis"],"0x9020":["CS","1","MagnetizationTransfer"],"0x9021":["CS","1","T2Preparation"],"0x9022":["CS","1","BloodSignalNulling"],"0x9024":["CS","1","SaturationRecovery"],"0x9025":["CS","1","SpectrallySelectedSuppression"],"0x9026":["CS","1","SpectrallySelectedExcitation"],"0x9027":["CS","1","SpatialPresaturation"],"0x9028":["CS","1","Tagging"],"0x9029":["CS","1","OversamplingPhase"],"0x9030":["FD","1","TagSpacingFirstDimension"],"0x9032":["CS","1","GeometryOfKSpaceTraversal"],"0x9033":["CS","1","SegmentedKSpaceTraversal"],"0x9034":["CS","1","RectilinearPhaseEncodeReordering"],"0x9035":["FD","1","TagThickness"],"0x9036":["CS","1","PartialFourierDirection"],"0x9037":["CS","1","CardiacSynchronizationTechnique"],"0x9041":["LO","1","ReceiveCoilManufacturerName"],"0x9042":["SQ","1","MRReceiveCoilSequence"],"0x9043":["CS","1","ReceiveCoilType"],"0x9044":["CS","1","QuadratureReceiveCoil"],"0x9045":["SQ","1","MultiCoilDefinitionSequence"],"0x9046":["LO","1","MultiCoilConfiguration"],"0x9047":["SH","1","MultiCoilElementName"],"0x9048":["CS","1","MultiCoilElementUsed"],"0x9049":["SQ","1","MRTransmitCoilSequence"],"0x9050":["LO","1","TransmitCoilManufacturerName"],"0x9051":["CS","1","TransmitCoilType"],"0x9052":["FD","1-2","SpectralWidth"],"0x9053":["FD","1-2","ChemicalShiftReference"],"0x9054":["CS","1","VolumeLocalizationTechnique"],"0x9058":["US","1","MRAcquisitionFrequencyEncodingSteps"],"0x9059":["CS","1","Decoupling"],"0x9060":["CS","1-2","DecoupledNucleus"],"0x9061":["FD","1-2","DecouplingFrequency"],"0x9062":["CS","1","DecouplingMethod"],"0x9063":["FD","1-2","DecouplingChemicalShiftReference"],"0x9064":["CS","1","KSpaceFiltering"],"0x9065":["CS","1-2","TimeDomainFiltering"],"0x9066":["US","1-2","NumberOfZeroFills"],"0x9067":["CS","1","BaselineCorrection"],"0x9069":["FD","1","ParallelReductionFactorInPlane"],"0x9070":["FD","1","CardiacRRIntervalSpecified"],"0x9073":["FD","1","AcquisitionDuration"],"0x9074":["DT","1","FrameAcquisitionDateTime"],"0x9075":["CS","1","DiffusionDirectionality"],"0x9076":["SQ","1","DiffusionGradientDirectionSequence"],"0x9077":["CS","1","ParallelAcquisition"],"0x9078":["CS","1","ParallelAcquisitionTechnique"],"0x9079":["FD","1-n","InversionTimes"],"0x9080":["ST","1","MetaboliteMapDescription"],"0x9081":["CS","1","PartialFourier"],"0x9082":["FD","1","EffectiveEchoTime"],"0x9083":["SQ","1","MetaboliteMapCodeSequence"],"0x9084":["SQ","1","ChemicalShiftSequence"],"0x9085":["CS","1","CardiacSignalSource"],"0x9087":["FD","1","DiffusionBValue"],"0x9089":["FD","3","DiffusionGradientOrientation"],"0x9090":["FD","3","VelocityEncodingDirection"],"0x9091":["FD","1","VelocityEncodingMinimumValue"],"0x9092":["SQ","1","VelocityEncodingAcquisitionSequence"],"0x9093":["US","1","NumberOfKSpaceTrajectories"],"0x9094":["CS","1","CoverageOfKSpace"],"0x9095":["UL","1","SpectroscopyAcquisitionPhaseRows"],"0x9096":["FD","1","ParallelReductionFactorInPlaneRetired"],"0x9098":["FD","1-2","TransmitterFrequency"],"0x9100":["CS","1-2","ResonantNucleus"],"0x9101":["CS","1","FrequencyCorrection"],"0x9103":["SQ","1","MRSpectroscopyFOVGeometrySequence"],"0x9104":["FD","1","SlabThickness"],"0x9105":["FD","3","SlabOrientation"],"0x9106":["FD","3","MidSlabPosition"],"0x9107":["SQ","1","MRSpatialSaturationSequence"],"0x9112":["SQ","1","MRTimingAndRelatedParametersSequence"],"0x9114":["SQ","1","MREchoSequence"],"0x9115":["SQ","1","MRModifierSequence"],"0x9117":["SQ","1","MRDiffusionSequence"],"0x9118":["SQ","1","CardiacSynchronizationSequence"],"0x9119":["SQ","1","MRAveragesSequence"],"0x9125":["SQ","1","MRFOVGeometrySequence"],"0x9126":["SQ","1","VolumeLocalizationSequence"],"0x9127":["UL","1","SpectroscopyAcquisitionDataColumns"],"0x9147":["CS","1","DiffusionAnisotropyType"],"0x9151":["DT","1","FrameReferenceDateTime"],"0x9152":["SQ","1","MRMetaboliteMapSequence"],"0x9155":["FD","1","ParallelReductionFactorOutOfPlane"],"0x9159":["UL","1","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],"0x9166":["CS","1","BulkMotionStatus"],"0x9168":["FD","1","ParallelReductionFactorSecondInPlane"],"0x9169":["CS","1","CardiacBeatRejectionTechnique"],"0x9170":["CS","1","RespiratoryMotionCompensationTechnique"],"0x9171":["CS","1","RespiratorySignalSource"],"0x9172":["CS","1","BulkMotionCompensationTechnique"],"0x9173":["CS","1","BulkMotionSignalSource"],"0x9174":["CS","1","ApplicableSafetyStandardAgency"],"0x9175":["LO","1","ApplicableSafetyStandardDescription"],"0x9176":["SQ","1","OperatingModeSequence"],"0x9177":["CS","1","OperatingModeType"],"0x9178":["CS","1","OperatingMode"],"0x9179":["CS","1","SpecificAbsorptionRateDefinition"],"0x9180":["CS","1","GradientOutputType"],"0x9181":["FD","1","SpecificAbsorptionRateValue"],"0x9182":["FD","1","GradientOutput"],"0x9183":["CS","1","FlowCompensationDirection"],"0x9184":["FD","1","TaggingDelay"],"0x9185":["ST","1","RespiratoryMotionCompensationTechniqueDescription"],"0x9186":["SH","1","RespiratorySignalSourceID"],"0x9195":["FD","1","ChemicalShiftMinimumIntegrationLimitInHz"],"0x9196":["FD","1","ChemicalShiftMaximumIntegrationLimitInHz"],"0x9197":["SQ","1","MRVelocityEncodingSequence"],"0x9198":["CS","1","FirstOrderPhaseCorrection"],"0x9199":["CS","1","WaterReferencedPhaseCorrection"],"0x9200":["CS","1","MRSpectroscopyAcquisitionType"],"0x9214":["CS","1","RespiratoryCyclePosition"],"0x9217":["FD","1","VelocityEncodingMaximumValue"],"0x9218":["FD","1","TagSpacingSecondDimension"],"0x9219":["SS","1","TagAngleSecondAxis"],"0x9220":["FD","1","FrameAcquisitionDuration"],"0x9226":["SQ","1","MRImageFrameTypeSequence"],"0x9227":["SQ","1","MRSpectroscopyFrameTypeSequence"],"0x9231":["US","1","MRAcquisitionPhaseEncodingStepsInPlane"],"0x9232":["US","1","MRAcquisitionPhaseEncodingStepsOutOfPlane"],"0x9234":["UL","1","SpectroscopyAcquisitionPhaseColumns"],"0x9236":["CS","1","CardiacCyclePosition"],"0x9239":["SQ","1","SpecificAbsorptionRateSequence"],"0x9240":["US","1","RFEchoTrainLength"],"0x9241":["US","1","GradientEchoTrainLength"],"0x9250":["CS","1","ArterialSpinLabelingContrast"],"0x9251":["SQ","1","MRArterialSpinLabelingSequence"],"0x9252":["LO","1","ASLTechniqueDescription"],"0x9253":["US","1","ASLSlabNumber"],"0x9254":["FD","1","ASLSlabThickness"],"0x9255":["FD","3","ASLSlabOrientation"],"0x9256":["FD","3","ASLMidSlabPosition"],"0x9257":["CS","1","ASLContext"],"0x9258":["UL","1","ASLPulseTrainDuration"],"0x9259":["CS","1","ASLCrusherFlag"],"0x925A":["FD","1","ASLCrusherFlowLimit"],"0x925B":["LO","1","ASLCrusherDescription"],"0x925C":["CS","1","ASLBolusCutoffFlag"],"0x925D":["SQ","1","ASLBolusCutoffTimingSequence"],"0x925E":["LO","1","ASLBolusCutoffTechnique"],"0x925F":["UL","1","ASLBolusCutoffDelayTime"],"0x9260":["SQ","1","ASLSlabSequence"],"0x9295":["FD","1","ChemicalShiftMinimumIntegrationLimitInppm"],"0x9296":["FD","1","ChemicalShiftMaximumIntegrationLimitInppm"],"0x9297":["CS","1","WaterReferenceAcquisition"],"0x9298":["IS","1","EchoPeakPosition"],"0x9301":["SQ","1","CTAcquisitionTypeSequence"],"0x9302":["CS","1","AcquisitionType"],"0x9303":["FD","1","TubeAngle"],"0x9304":["SQ","1","CTAcquisitionDetailsSequence"],"0x9305":["FD","1","RevolutionTime"],"0x9306":["FD","1","SingleCollimationWidth"],"0x9307":["FD","1","TotalCollimationWidth"],"0x9308":["SQ","1","CTTableDynamicsSequence"],"0x9309":["FD","1","TableSpeed"],"0x9310":["FD","1","TableFeedPerRotation"],"0x9311":["FD","1","SpiralPitchFactor"],"0x9312":["SQ","1","CTGeometrySequence"],"0x9313":["FD","3","DataCollectionCenterPatient"],"0x9314":["SQ","1","CTReconstructionSequence"],"0x9315":["CS","1","ReconstructionAlgorithm"],"0x9316":["CS","1","ConvolutionKernelGroup"],"0x9317":["FD","2","ReconstructionFieldOfView"],"0x9318":["FD","3","ReconstructionTargetCenterPatient"],"0x9319":["FD","1","ReconstructionAngle"],"0x9320":["SH","1","ImageFilter"],"0x9321":["SQ","1","CTExposureSequence"],"0x9322":["FD","2","ReconstructionPixelSpacing"],"0x9323":["CS","1-n","ExposureModulationType"],"0x9324":["FD","1","EstimatedDoseSaving"],"0x9325":["SQ","1","CTXRayDetailsSequence"],"0x9326":["SQ","1","CTPositionSequence"],"0x9327":["FD","1","TablePosition"],"0x9328":["FD","1","ExposureTimeInms"],"0x9329":["SQ","1","CTImageFrameTypeSequence"],"0x9330":["FD","1","XRayTubeCurrentInmA"],"0x9332":["FD","1","ExposureInmAs"],"0x9333":["CS","1","ConstantVolumeFlag"],"0x9334":["CS","1","FluoroscopyFlag"],"0x9335":["FD","1","DistanceSourceToDataCollectionCenter"],"0x9337":["US","1","ContrastBolusAgentNumber"],"0x9338":["SQ","1","ContrastBolusIngredientCodeSequence"],"0x9340":["SQ","1","ContrastAdministrationProfileSequence"],"0x9341":["SQ","1","ContrastBolusUsageSequence"],"0x9342":["CS","1","ContrastBolusAgentAdministered"],"0x9343":["CS","1","ContrastBolusAgentDetected"],"0x9344":["CS","1","ContrastBolusAgentPhase"],"0x9345":["FD","1","CTDIvol"],"0x9346":["SQ","1","CTDIPhantomTypeCodeSequence"],"0x9351":["FL","1","CalciumScoringMassFactorPatient"],"0x9352":["FL","3","CalciumScoringMassFactorDevice"],"0x9353":["FL","1","EnergyWeightingFactor"],"0x9360":["SQ","1","CTAdditionalXRaySourceSequence"],"0x9361":["CS","1","MultienergyCTAcquisition"],"0x9362":["SQ","1","MultienergyCTAcquisitionSequence"],"0x9363":["SQ","1","MultienergyCTProcessingSequence"],"0x9364":["SQ","1","MultienergyCTCharacteristicsSequence"],"0x9365":["SQ","1","MultienergyCTXRaySourceSequence"],"0x9366":["US","1","XRaySourceIndex"],"0x9367":["UC","1","XRaySourceID"],"0x9368":["CS","1","MultienergySourceTechnique"],"0x9369":["DT","1","SourceStartDateTime"],"0x936A":["DT","1","SourceEndDateTime"],"0x936B":["US","1","SwitchingPhaseNumber"],"0x936C":["DS","1","SwitchingPhaseNominalDuration"],"0x936D":["DS","1","SwitchingPhaseTransitionDuration"],"0x936E":["DS","1","EffectiveBinEnergy"],"0x936F":["SQ","1","MultienergyCTXRayDetectorSequence"],"0x9370":["US","1","XRayDetectorIndex"],"0x9371":["UC","1","XRayDetectorID"],"0x9372":["CS","1","MultienergyDetectorType"],"0x9373":["ST","1","XRayDetectorLabel"],"0x9374":["DS","1","NominalMaxEnergy"],"0x9375":["DS","1","NominalMinEnergy"],"0x9376":["US","1-n","ReferencedXRayDetectorIndex"],"0x9377":["US","1-n","ReferencedXRaySourceIndex"],"0x9378":["US","1-n","ReferencedPathIndex"],"0x9379":["SQ","1","MultienergyCTPathSequence"],"0x937A":["US","1","MultienergyCTPathIndex"],"0x937B":["UT","1","MultienergyAcquisitionDescription"],"0x937C":["FD","1","MonoenergeticEnergyEquivalent"],"0x937D":["SQ","1","MaterialCodeSequence"],"0x937E":["CS","1","DecompositionMethod"],"0x937F":["UT","1","DecompositionDescription"],"0x9380":["SQ","1","DecompositionAlgorithmIdentificationSequence"],"0x9381":["SQ","1","DecompositionMaterialSequence"],"0x9382":["SQ","1","MaterialAttenuationSequence"],"0x9383":["DS","1","PhotonEnergy"],"0x9384":["DS","1","XRayMassAttenuationCoefficient"],"0x9401":["SQ","1","ProjectionPixelCalibrationSequence"],"0x9402":["FL","1","DistanceSourceToIsocenter"],"0x9403":["FL","1","DistanceObjectToTableTop"],"0x9404":["FL","2","ObjectPixelSpacingInCenterOfBeam"],"0x9405":["SQ","1","PositionerPositionSequence"],"0x9406":["SQ","1","TablePositionSequence"],"0x9407":["SQ","1","CollimatorShapeSequence"],"0x9410":["CS","1","PlanesInAcquisition"],"0x9412":["SQ","1","XAXRFFrameCharacteristicsSequence"],"0x9417":["SQ","1","FrameAcquisitionSequence"],"0x9420":["CS","1","XRayReceptorType"],"0x9423":["LO","1","AcquisitionProtocolName"],"0x9424":["LT","1","AcquisitionProtocolDescription"],"0x9425":["CS","1","ContrastBolusIngredientOpaque"],"0x9426":["FL","1","DistanceReceptorPlaneToDetectorHousing"],"0x9427":["CS","1","IntensifierActiveShape"],"0x9428":["FL","1-2","IntensifierActiveDimensions"],"0x9429":["FL","2","PhysicalDetectorSize"],"0x9430":["FL","2","PositionOfIsocenterProjection"],"0x9432":["SQ","1","FieldOfViewSequence"],"0x9433":["LO","1","FieldOfViewDescription"],"0x9434":["SQ","1","ExposureControlSensingRegionsSequence"],"0x9435":["CS","1","ExposureControlSensingRegionShape"],"0x9436":["SS","1","ExposureControlSensingRegionLeftVerticalEdge"],"0x9437":["SS","1","ExposureControlSensingRegionRightVerticalEdge"],"0x9438":["SS","1","ExposureControlSensingRegionUpperHorizontalEdge"],"0x9439":["SS","1","ExposureControlSensingRegionLowerHorizontalEdge"],"0x9440":["SS","2","CenterOfCircularExposureControlSensingRegion"],"0x9441":["US","1","RadiusOfCircularExposureControlSensingRegion"],"0x9442":["SS","2-n","VerticesOfThePolygonalExposureControlSensingRegion"],"0x9445":["","",""],"0x9447":["FL","1","ColumnAngulationPatient"],"0x9449":["FL","1","BeamAngle"],"0x9451":["SQ","1","FrameDetectorParametersSequence"],"0x9452":["FL","1","CalculatedAnatomyThickness"],"0x9455":["SQ","1","CalibrationSequence"],"0x9456":["SQ","1","ObjectThicknessSequence"],"0x9457":["CS","1","PlaneIdentification"],"0x9461":["FL","1-2","FieldOfViewDimensionsInFloat"],"0x9462":["SQ","1","IsocenterReferenceSystemSequence"],"0x9463":["FL","1","PositionerIsocenterPrimaryAngle"],"0x9464":["FL","1","PositionerIsocenterSecondaryAngle"],"0x9465":["FL","1","PositionerIsocenterDetectorRotationAngle"],"0x9466":["FL","1","TableXPositionToIsocenter"],"0x9467":["FL","1","TableYPositionToIsocenter"],"0x9468":["FL","1","TableZPositionToIsocenter"],"0x9469":["FL","1","TableHorizontalRotationAngle"],"0x9470":["FL","1","TableHeadTiltAngle"],"0x9471":["FL","1","TableCradleTiltAngle"],"0x9472":["SQ","1","FrameDisplayShutterSequence"],"0x9473":["FL","1","AcquiredImageAreaDoseProduct"],"0x9474":["CS","1","CArmPositionerTabletopRelationship"],"0x9476":["SQ","1","XRayGeometrySequence"],"0x9477":["SQ","1","IrradiationEventIdentificationSequence"],"0x9504":["SQ","1","XRay3DFrameTypeSequence"],"0x9506":["SQ","1","ContributingSourcesSequence"],"0x9507":["SQ","1","XRay3DAcquisitionSequence"],"0x9508":["FL","1","PrimaryPositionerScanArc"],"0x9509":["FL","1","SecondaryPositionerScanArc"],"0x9510":["FL","1","PrimaryPositionerScanStartAngle"],"0x9511":["FL","1","SecondaryPositionerScanStartAngle"],"0x9514":["FL","1","PrimaryPositionerIncrement"],"0x9515":["FL","1","SecondaryPositionerIncrement"],"0x9516":["DT","1","StartAcquisitionDateTime"],"0x9517":["DT","1","EndAcquisitionDateTime"],"0x9518":["SS","1","PrimaryPositionerIncrementSign"],"0x9519":["SS","1","SecondaryPositionerIncrementSign"],"0x9524":["LO","1","ApplicationName"],"0x9525":["LO","1","ApplicationVersion"],"0x9526":["LO","1","ApplicationManufacturer"],"0x9527":["CS","1","AlgorithmType"],"0x9528":["LO","1","AlgorithmDescription"],"0x9530":["SQ","1","XRay3DReconstructionSequence"],"0x9531":["LO","1","ReconstructionDescription"],"0x9538":["SQ","1","PerProjectionAcquisitionSequence"],"0x9541":["SQ","1","DetectorPositionSequence"],"0x9542":["SQ","1","XRayAcquisitionDoseSequence"],"0x9543":["FD","1","XRaySourceIsocenterPrimaryAngle"],"0x9544":["FD","1","XRaySourceIsocenterSecondaryAngle"],"0x9545":["FD","1","BreastSupportIsocenterPrimaryAngle"],"0x9546":["FD","1","BreastSupportIsocenterSecondaryAngle"],"0x9547":["FD","1","BreastSupportXPositionToIsocenter"],"0x9548":["FD","1","BreastSupportYPositionToIsocenter"],"0x9549":["FD","1","BreastSupportZPositionToIsocenter"],"0x9550":["FD","1","DetectorIsocenterPrimaryAngle"],"0x9551":["FD","1","DetectorIsocenterSecondaryAngle"],"0x9552":["FD","1","DetectorXPositionToIsocenter"],"0x9553":["FD","1","DetectorYPositionToIsocenter"],"0x9554":["FD","1","DetectorZPositionToIsocenter"],"0x9555":["SQ","1","XRayGridSequence"],"0x9556":["SQ","1","XRayFilterSequence"],"0x9557":["FD","3","DetectorActiveAreaTLHCPosition"],"0x9558":["FD","6","DetectorActiveAreaOrientation"],"0x9559":["CS","1","PositionerPrimaryAngleDirection"],"0x9601":["SQ","1","DiffusionBMatrixSequence"],"0x9602":["FD","1","DiffusionBValueXX"],"0x9603":["FD","1","DiffusionBValueXY"],"0x9604":["FD","1","DiffusionBValueXZ"],"0x9605":["FD","1","DiffusionBValueYY"],"0x9606":["FD","1","DiffusionBValueYZ"],"0x9607":["FD","1","DiffusionBValueZZ"],"0x9621":["SQ","1","FunctionalMRSequence"],"0x9622":["CS","1","FunctionalSettlingPhaseFramesPresent"],"0x9623":["DT","1","FunctionalSyncPulse"],"0x9624":["CS","1","SettlingPhaseFrame"],"0x9701":["DT","1","DecayCorrectionDateTime"],"0x9715":["FD","1","StartDensityThreshold"],"0x9716":["FD","1","StartRelativeDensityDifferenceThreshold"],"0x9717":["FD","1","StartCardiacTriggerCountThreshold"],"0x9718":["FD","1","StartRespiratoryTriggerCountThreshold"],"0x9719":["FD","1","TerminationCountsThreshold"],"0x9720":["FD","1","TerminationDensityThreshold"],"0x9721":["FD","1","TerminationRelativeDensityThreshold"],"0x9722":["FD","1","TerminationTimeThreshold"],"0x9723":["FD","1","TerminationCardiacTriggerCountThreshold"],"0x9724":["FD","1","TerminationRespiratoryTriggerCountThreshold"],"0x9725":["CS","1","DetectorGeometry"],"0x9726":["FD","1","TransverseDetectorSeparation"],"0x9727":["FD","1","AxialDetectorDimension"],"0x9729":["US","1","RadiopharmaceuticalAgentNumber"],"0x9732":["SQ","1","PETFrameAcquisitionSequence"],"0x9733":["SQ","1","PETDetectorMotionDetailsSequence"],"0x9734":["SQ","1","PETTableDynamicsSequence"],"0x9735":["SQ","1","PETPositionSequence"],"0x9736":["SQ","1","PETFrameCorrectionFactorsSequence"],"0x9737":["SQ","1","RadiopharmaceuticalUsageSequence"],"0x9738":["CS","1","AttenuationCorrectionSource"],"0x9739":["US","1","NumberOfIterations"],"0x9740":["US","1","NumberOfSubsets"],"0x9749":["SQ","1","PETReconstructionSequence"],"0x9751":["SQ","1","PETFrameTypeSequence"],"0x9755":["CS","1","TimeOfFlightInformationUsed"],"0x9756":["CS","1","ReconstructionType"],"0x9758":["CS","1","DecayCorrected"],"0x9759":["CS","1","AttenuationCorrected"],"0x9760":["CS","1","ScatterCorrected"],"0x9761":["CS","1","DeadTimeCorrected"],"0x9762":["CS","1","GantryMotionCorrected"],"0x9763":["CS","1","PatientMotionCorrected"],"0x9764":["CS","1","CountLossNormalizationCorrected"],"0x9765":["CS","1","RandomsCorrected"],"0x9766":["CS","1","NonUniformRadialSamplingCorrected"],"0x9767":["CS","1","SensitivityCalibrated"],"0x9768":["CS","1","DetectorNormalizationCorrection"],"0x9769":["CS","1","IterativeReconstructionMethod"],"0x9770":["CS","1","AttenuationCorrectionTemporalRelationship"],"0x9771":["SQ","1","PatientPhysiologicalStateSequence"],"0x9772":["SQ","1","PatientPhysiologicalStateCodeSequence"],"0x9801":["FD","1-n","DepthsOfFocus"],"0x9803":["SQ","1","ExcludedIntervalsSequence"],"0x9804":["DT","1","ExclusionStartDateTime"],"0x9805":["FD","1","ExclusionDuration"],"0x9806":["SQ","1","USImageDescriptionSequence"],"0x9807":["SQ","1","ImageDataTypeSequence"],"0x9808":["CS","1","DataType"],"0x9809":["SQ","1","TransducerScanPatternCodeSequence"],"0x980B":["CS","1","AliasedDataType"],"0x980C":["CS","1","PositionMeasuringDeviceUsed"],"0x980D":["SQ","1","TransducerGeometryCodeSequence"],"0x980E":["SQ","1","TransducerBeamSteeringCodeSequence"],"0x980F":["SQ","1","TransducerApplicationCodeSequence"],"0x9810":["xs","1","ZeroVelocityPixelValue"],"0x9900":["LO","1","ReferenceLocationLabel"],"0x9901":["UT","1","ReferenceLocationDescription"],"0x9902":["SQ","1","ReferenceBasisCodeSequence"],"0x9903":["SQ","1","ReferenceGeometryCodeSequence"],"0x9904":["DS","1","OffsetDistance"],"0x9905":["CS","1","OffsetDirection"],"0x9906":["SQ","1","PotentialScheduledProtocolCodeSequence"],"0x9907":["SQ","1","PotentialRequestedProcedureCodeSequence"],"0x9908":["UC","1-n","PotentialReasonsForProcedure"],"0x9909":["SQ","1","PotentialReasonsForProcedureCodeSequence"],"0x990A":["UC","1-n","PotentialDiagnosticTasks"],"0x990B":["SQ","1","ContraindicationsCodeSequence"],"0x990C":["SQ","1","ReferencedDefinedProtocolSequence"],"0x990D":["SQ","1","ReferencedPerformedProtocolSequence"],"0x990E":["SQ","1","PredecessorProtocolSequence"],"0x990F":["UT","1","ProtocolPlanningInformation"],"0x9910":["UT","1","ProtocolDesignRationale"],"0x9911":["SQ","1","PatientSpecificationSequence"],"0x9912":["SQ","1","ModelSpecificationSequence"],"0x9913":["SQ","1","ParametersSpecificationSequence"],"0x9914":["SQ","1","InstructionSequence"],"0x9915":["US","1","InstructionIndex"],"0x9916":["LO","1","InstructionText"],"0x9917":["UT","1","InstructionDescription"],"0x9918":["CS","1","InstructionPerformedFlag"],"0x9919":["DT","1","InstructionPerformedDateTime"],"0x991A":["UT","1","InstructionPerformanceComment"],"0x991B":["SQ","1","PatientPositioningInstructionSequence"],"0x991C":["SQ","1","PositioningMethodCodeSequence"],"0x991D":["SQ","1","PositioningLandmarkSequence"],"0x991E":["UI","1","TargetFrameOfReferenceUID"],"0x991F":["SQ","1","AcquisitionProtocolElementSpecificationSequence"],"0x9920":["SQ","1","AcquisitionProtocolElementSequence"],"0x9921":["US","1","ProtocolElementNumber"],"0x9922":["LO","1","ProtocolElementName"],"0x9923":["UT","1","ProtocolElementCharacteristicsSummary"],"0x9924":["UT","1","ProtocolElementPurpose"],"0x9930":["CS","1","AcquisitionMotion"],"0x9931":["SQ","1","AcquisitionStartLocationSequence"],"0x9932":["SQ","1","AcquisitionEndLocationSequence"],"0x9933":["SQ","1","ReconstructionProtocolElementSpecificationSequence"],"0x9934":["SQ","1","ReconstructionProtocolElementSequence"],"0x9935":["SQ","1","StorageProtocolElementSpecificationSequence"],"0x9936":["SQ","1","StorageProtocolElementSequence"],"0x9937":["LO","1","RequestedSeriesDescription"],"0x9938":["US","1-n","SourceAcquisitionProtocolElementNumber"],"0x9939":["US","1-n","SourceAcquisitionBeamNumber"],"0x993A":["US","1-n","SourceReconstructionProtocolElementNumber"],"0x993B":["SQ","1","ReconstructionStartLocationSequence"],"0x993C":["SQ","1","ReconstructionEndLocationSequence"],"0x993D":["SQ","1","ReconstructionAlgorithmSequence"],"0x993E":["SQ","1","ReconstructionTargetCenterLocationSequence"],"0x9941":["UT","1","ImageFilterDescription"],"0x9942":["FD","1","CTDIvolNotificationTrigger"],"0x9943":["FD","1","DLPNotificationTrigger"],"0x9944":["CS","1","AutoKVPSelectionType"],"0x9945":["FD","1","AutoKVPUpperBound"],"0x9946":["FD","1","AutoKVPLowerBound"],"0x9947":["CS","1","ProtocolDefinedPatientPosition"],"0xA001":["SQ","1","ContributingEquipmentSequence"],"0xA002":["DT","1","ContributionDateTime"],"0xA003":["ST","1","ContributionDescription"]},"0x0020":{"0x0000":["UL","1","GenericGroupLength"],"0x000D":["UI","1","StudyInstanceUID"],"0x000E":["UI","1","SeriesInstanceUID"],"0x0010":["SH","1","StudyID"],"0x0011":["IS","1","SeriesNumber"],"0x0012":["IS","1","AcquisitionNumber"],"0x0013":["IS","1","InstanceNumber"],"0x0014":["IS","1","IsotopeNumber"],"0x0015":["IS","1","PhaseNumber"],"0x0016":["IS","1","IntervalNumber"],"0x0017":["IS","1","TimeSlotNumber"],"0x0018":["IS","1","AngleNumber"],"0x0019":["IS","1","ItemNumber"],"0x0020":["CS","2","PatientOrientation"],"0x0022":["IS","1","OverlayNumber"],"0x0024":["IS","1","CurveNumber"],"0x0026":["IS","1","LUTNumber"],"0x0030":["DS","3","ImagePosition"],"0x0032":["DS","3","ImagePositionPatient"],"0x0035":["DS","6","ImageOrientation"],"0x0037":["DS","6","ImageOrientationPatient"],"0x0050":["DS","1","Location"],"0x0052":["UI","1","FrameOfReferenceUID"],"0x0060":["CS","1","Laterality"],"0x0062":["CS","1","ImageLaterality"],"0x0070":["LO","1","ImageGeometryType"],"0x0080":["CS","1-n","MaskingImage"],"0x00AA":["IS","1","ReportNumber"],"0x0100":["IS","1","TemporalPositionIdentifier"],"0x0105":["IS","1","NumberOfTemporalPositions"],"0x0110":["DS","1","TemporalResolution"],"0x0200":["UI","1","SynchronizationFrameOfReferenceUID"],"0x0242":["UI","1","SOPInstanceUIDOfConcatenationSource"],"0x1000":["IS","1","SeriesInStudy"],"0x1001":["IS","1","AcquisitionsInSeries"],"0x1002":["IS","1","ImagesInAcquisition"],"0x1003":["IS","1","ImagesInSeries"],"0x1004":["IS","1","AcquisitionsInStudy"],"0x1005":["IS","1","ImagesInStudy"],"0x1020":["LO","1-n","Reference"],"0x103F":["LO","1","TargetPositionReferenceIndicator"],"0x1040":["LO","1","PositionReferenceIndicator"],"0x1041":["DS","1","SliceLocation"],"0x1070":["IS","1-n","OtherStudyNumbers"],"0x1200":["IS","1","NumberOfPatientRelatedStudies"],"0x1202":["IS","1","NumberOfPatientRelatedSeries"],"0x1204":["IS","1","NumberOfPatientRelatedInstances"],"0x1206":["IS","1","NumberOfStudyRelatedSeries"],"0x1208":["IS","1","NumberOfStudyRelatedInstances"],"0x1209":["IS","1","NumberOfSeriesRelatedInstances"],"0x3100":["CS","1-n","SourceImageIDs"],"0x3401":["CS","1","ModifyingDeviceID"],"0x3402":["CS","1","ModifiedImageID"],"0x3403":["DA","1","ModifiedImageDate"],"0x3404":["LO","1","ModifyingDeviceManufacturer"],"0x3405":["TM","1","ModifiedImageTime"],"0x3406":["LO","1","ModifiedImageDescription"],"0x4000":["LT","1","ImageComments"],"0x5000":["AT","1-n","OriginalImageIdentification"],"0x5002":["LO","1-n","OriginalImageIdentificationNomenclature"],"0x9056":["SH","1","StackID"],"0x9057":["UL","1","InStackPositionNumber"],"0x9071":["SQ","1","FrameAnatomySequence"],"0x9072":["CS","1","FrameLaterality"],"0x9111":["SQ","1","FrameContentSequence"],"0x9113":["SQ","1","PlanePositionSequence"],"0x9116":["SQ","1","PlaneOrientationSequence"],"0x9128":["UL","1","TemporalPositionIndex"],"0x9153":["FD","1","NominalCardiacTriggerDelayTime"],"0x9154":["FL","1","NominalCardiacTriggerTimePriorToRPeak"],"0x9155":["FL","1","ActualCardiacTriggerTimePriorToRPeak"],"0x9156":["US","1","FrameAcquisitionNumber"],"0x9157":["UL","1-n","DimensionIndexValues"],"0x9158":["LT","1","FrameComments"],"0x9161":["UI","1","ConcatenationUID"],"0x9162":["US","1","InConcatenationNumber"],"0x9163":["US","1","InConcatenationTotalNumber"],"0x9164":["UI","1","DimensionOrganizationUID"],"0x9165":["AT","1","DimensionIndexPointer"],"0x9167":["AT","1","FunctionalGroupPointer"],"0x9170":["SQ","1","UnassignedSharedConvertedAttributesSequence"],"0x9171":["SQ","1","UnassignedPerFrameConvertedAttributesSequence"],"0x9172":["SQ","1","ConversionSourceAttributesSequence"],"0x9213":["LO","1","DimensionIndexPrivateCreator"],"0x9221":["SQ","1","DimensionOrganizationSequence"],"0x9222":["SQ","1","DimensionIndexSequence"],"0x9228":["UL","1","ConcatenationFrameOffsetNumber"],"0x9238":["LO","1","FunctionalGroupPrivateCreator"],"0x9241":["FL","1","NominalPercentageOfCardiacPhase"],"0x9245":["FL","1","NominalPercentageOfRespiratoryPhase"],"0x9246":["FL","1","StartingRespiratoryAmplitude"],"0x9247":["CS","1","StartingRespiratoryPhase"],"0x9248":["FL","1","EndingRespiratoryAmplitude"],"0x9249":["CS","1","EndingRespiratoryPhase"],"0x9250":["CS","1","RespiratoryTriggerType"],"0x9251":["FD","1","RRIntervalTimeNominal"],"0x9252":["FD","1","ActualCardiacTriggerDelayTime"],"0x9253":["SQ","1","RespiratorySynchronizationSequence"],"0x9254":["FD","1","RespiratoryIntervalTime"],"0x9255":["FD","1","NominalRespiratoryTriggerDelayTime"],"0x9256":["FD","1","RespiratoryTriggerDelayThreshold"],"0x9257":["FD","1","ActualRespiratoryTriggerDelayTime"],"0x9301":["FD","3","ImagePositionVolume"],"0x9302":["FD","6","ImageOrientationVolume"],"0x9307":["CS","1","UltrasoundAcquisitionGeometry"],"0x9308":["FD","3","ApexPosition"],"0x9309":["FD","16","VolumeToTransducerMappingMatrix"],"0x930A":["FD","16","VolumeToTableMappingMatrix"],"0x930B":["CS","1","VolumeToTransducerRelationship"],"0x930C":["CS","1","PatientFrameOfReferenceSource"],"0x930D":["FD","1","TemporalPositionTimeOffset"],"0x930E":["SQ","1","PlanePositionVolumeSequence"],"0x930F":["SQ","1","PlaneOrientationVolumeSequence"],"0x9310":["SQ","1","TemporalPositionSequence"],"0x9311":["CS","1","DimensionOrganizationType"],"0x9312":["UI","1","VolumeFrameOfReferenceUID"],"0x9313":["UI","1","TableFrameOfReferenceUID"],"0x9421":["LO","1","DimensionDescriptionLabel"],"0x9450":["SQ","1","PatientOrientationInFrameSequence"],"0x9453":["LO","1","FrameLabel"],"0x9518":["US","1-n","AcquisitionIndex"],"0x9529":["SQ","1","ContributingSOPInstancesReferenceSequence"],"0x9536":["US","1","ReconstructionIndex"]},"0x0022":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["US","1","LightPathFilterPassThroughWavelength"],"0x0002":["US","2","LightPathFilterPassBand"],"0x0003":["US","1","ImagePathFilterPassThroughWavelength"],"0x0004":["US","2","ImagePathFilterPassBand"],"0x0005":["CS","1","PatientEyeMovementCommanded"],"0x0006":["SQ","1","PatientEyeMovementCommandCodeSequence"],"0x0007":["FL","1","SphericalLensPower"],"0x0008":["FL","1","CylinderLensPower"],"0x0009":["FL","1","CylinderAxis"],"0x000A":["FL","1","EmmetropicMagnification"],"0x000B":["FL","1","IntraOcularPressure"],"0x000C":["FL","1","HorizontalFieldOfView"],"0x000D":["CS","1","PupilDilated"],"0x000E":["FL","1","DegreeOfDilation"],"0x0010":["FL","1","StereoBaselineAngle"],"0x0011":["FL","1","StereoBaselineDisplacement"],"0x0012":["FL","1","StereoHorizontalPixelOffset"],"0x0013":["FL","1","StereoVerticalPixelOffset"],"0x0014":["FL","1","StereoRotation"],"0x0015":["SQ","1","AcquisitionDeviceTypeCodeSequence"],"0x0016":["SQ","1","IlluminationTypeCodeSequence"],"0x0017":["SQ","1","LightPathFilterTypeStackCodeSequence"],"0x0018":["SQ","1","ImagePathFilterTypeStackCodeSequence"],"0x0019":["SQ","1","LensesCodeSequence"],"0x001A":["SQ","1","ChannelDescriptionCodeSequence"],"0x001B":["SQ","1","RefractiveStateSequence"],"0x001C":["SQ","1","MydriaticAgentCodeSequence"],"0x001D":["SQ","1","RelativeImagePositionCodeSequence"],"0x001E":["FL","1","CameraAngleOfView"],"0x0020":["SQ","1","StereoPairsSequence"],"0x0021":["SQ","1","LeftImageSequence"],"0x0022":["SQ","1","RightImageSequence"],"0x0028":["CS","1","StereoPairsPresent"],"0x0030":["FL","1","AxialLengthOfTheEye"],"0x0031":["SQ","1","OphthalmicFrameLocationSequence"],"0x0032":["FL","2-2n","ReferenceCoordinates"],"0x0035":["FL","1","DepthSpatialResolution"],"0x0036":["FL","1","MaximumDepthDistortion"],"0x0037":["FL","1","AlongScanSpatialResolution"],"0x0038":["FL","1","MaximumAlongScanDistortion"],"0x0039":["CS","1","OphthalmicImageOrientation"],"0x0041":["FL","1","DepthOfTransverseImage"],"0x0042":["SQ","1","MydriaticAgentConcentrationUnitsSequence"],"0x0048":["FL","1","AcrossScanSpatialResolution"],"0x0049":["FL","1","MaximumAcrossScanDistortion"],"0x004E":["DS","1","MydriaticAgentConcentration"],"0x0055":["FL","1","IlluminationWaveLength"],"0x0056":["FL","1","IlluminationPower"],"0x0057":["FL","1","IlluminationBandwidth"],"0x0058":["SQ","1","MydriaticAgentSequence"],"0x1007":["SQ","1","OphthalmicAxialMeasurementsRightEyeSequence"],"0x1008":["SQ","1","OphthalmicAxialMeasurementsLeftEyeSequence"],"0x1009":["CS","1","OphthalmicAxialMeasurementsDeviceType"],"0x1010":["CS","1","OphthalmicAxialLengthMeasurementsType"],"0x1012":["SQ","1","OphthalmicAxialLengthSequence"],"0x1019":["FL","1","OphthalmicAxialLength"],"0x1024":["SQ","1","LensStatusCodeSequence"],"0x1025":["SQ","1","VitreousStatusCodeSequence"],"0x1028":["SQ","1","IOLFormulaCodeSequence"],"0x1029":["LO","1","IOLFormulaDetail"],"0x1033":["FL","1","KeratometerIndex"],"0x1035":["SQ","1","SourceOfOphthalmicAxialLengthCodeSequence"],"0x1036":["SQ","1","SourceOfCornealSizeDataCodeSequence"],"0x1037":["FL","1","TargetRefraction"],"0x1039":["CS","1","RefractiveProcedureOccurred"],"0x1040":["SQ","1","RefractiveSurgeryTypeCodeSequence"],"0x1044":["SQ","1","OphthalmicUltrasoundMethodCodeSequence"],"0x1045":["SQ","1","SurgicallyInducedAstigmatismSequence"],"0x1046":["CS","1","TypeOfOpticalCorrection"],"0x1047":["SQ","1","ToricIOLPowerSequence"],"0x1048":["SQ","1","PredictedToricErrorSequence"],"0x1049":["CS","1","PreSelectedForImplantation"],"0x104A":["SQ","1","ToricIOLPowerForExactEmmetropiaSequence"],"0x104B":["SQ","1","ToricIOLPowerForExactTargetRefractionSequence"],"0x1050":["SQ","1","OphthalmicAxialLengthMeasurementsSequence"],"0x1053":["FL","1","IOLPower"],"0x1054":["FL","1","PredictedRefractiveError"],"0x1059":["FL","1","OphthalmicAxialLengthVelocity"],"0x1065":["LO","1","LensStatusDescription"],"0x1066":["LO","1","VitreousStatusDescription"],"0x1090":["SQ","1","IOLPowerSequence"],"0x1092":["SQ","1","LensConstantSequence"],"0x1093":["LO","1","IOLManufacturer"],"0x1094":["LO","1","LensConstantDescription"],"0x1095":["LO","1","ImplantName"],"0x1096":["SQ","1","KeratometryMeasurementTypeCodeSequence"],"0x1097":["LO","1","ImplantPartNumber"],"0x1100":["SQ","1","ReferencedOphthalmicAxialMeasurementsSequence"],"0x1101":["SQ","1","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],"0x1103":["SQ","1","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],"0x1121":["FL","1","IOLPowerForExactEmmetropia"],"0x1122":["FL","1","IOLPowerForExactTargetRefraction"],"0x1125":["SQ","1","AnteriorChamberDepthDefinitionCodeSequence"],"0x1127":["SQ","1","LensThicknessSequence"],"0x1128":["SQ","1","AnteriorChamberDepthSequence"],"0x112A":["SQ","1","CalculationCommentSequence"],"0x112B":["CS","1","CalculationCommentType"],"0x112C":["LT","1","CalculationComment"],"0x1130":["FL","1","LensThickness"],"0x1131":["FL","1","AnteriorChamberDepth"],"0x1132":["SQ","1","SourceOfLensThicknessDataCodeSequence"],"0x1133":["SQ","1","SourceOfAnteriorChamberDepthDataCodeSequence"],"0x1134":["SQ","1","SourceOfRefractiveMeasurementsSequence"],"0x1135":["SQ","1","SourceOfRefractiveMeasurementsCodeSequence"],"0x1140":["CS","1","OphthalmicAxialLengthMeasurementModified"],"0x1150":["SQ","1","OphthalmicAxialLengthDataSourceCodeSequence"],"0x1153":["SQ","1","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],"0x1155":["FL","1","SignalToNoiseRatio"],"0x1159":["LO","1","OphthalmicAxialLengthDataSourceDescription"],"0x1210":["SQ","1","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],"0x1211":["SQ","1","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],"0x1212":["SQ","1","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],"0x1220":["SQ","1","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],"0x1225":["SQ","1","OpticalOphthalmicAxialLengthMeasurementsSequence"],"0x1230":["SQ","1","UltrasoundSelectedOphthalmicAxialLengthSequence"],"0x1250":["SQ","1","OphthalmicAxialLengthSelectionMethodCodeSequence"],"0x1255":["SQ","1","OpticalSelectedOphthalmicAxialLengthSequence"],"0x1257":["SQ","1","SelectedSegmentalOphthalmicAxialLengthSequence"],"0x1260":["SQ","1","SelectedTotalOphthalmicAxialLengthSequence"],"0x1262":["SQ","1","OphthalmicAxialLengthQualityMetricSequence"],"0x1265":["SQ","1","OphthalmicAxialLengthQualityMetricTypeCodeSequence"],"0x1273":["LO","1","OphthalmicAxialLengthQualityMetricTypeDescription"],"0x1300":["SQ","1","IntraocularLensCalculationsRightEyeSequence"],"0x1310":["SQ","1","IntraocularLensCalculationsLeftEyeSequence"],"0x1330":["SQ","1","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"],"0x1415":["CS","1","OphthalmicMappingDeviceType"],"0x1420":["SQ","1","AcquisitionMethodCodeSequence"],"0x1423":["SQ","1","AcquisitionMethodAlgorithmSequence"],"0x1436":["SQ","1","OphthalmicThicknessMapTypeCodeSequence"],"0x1443":["SQ","1","OphthalmicThicknessMappingNormalsSequence"],"0x1445":["SQ","1","RetinalThicknessDefinitionCodeSequence"],"0x1450":["SQ","1","PixelValueMappingToCodedConceptSequence"],"0x1452":["xs","1","MappedPixelValue"],"0x1454":["LO","1","PixelValueMappingExplanation"],"0x1458":["SQ","1","OphthalmicThicknessMapQualityThresholdSequence"],"0x1460":["FL","1","OphthalmicThicknessMapThresholdQualityRating"],"0x1463":["FL","2","AnatomicStructureReferencePoint"],"0x1465":["SQ","1","RegistrationToLocalizerSequence"],"0x1466":["CS","1","RegisteredLocalizerUnits"],"0x1467":["FL","2","RegisteredLocalizerTopLeftHandCorner"],"0x1468":["FL","2","RegisteredLocalizerBottomRightHandCorner"],"0x1470":["SQ","1","OphthalmicThicknessMapQualityRatingSequence"],"0x1472":["SQ","1","RelevantOPTAttributesSequence"],"0x1512":["SQ","1","TransformationMethodCodeSequence"],"0x1513":["SQ","1","TransformationAlgorithmSequence"],"0x1515":["CS","1","OphthalmicAxialLengthMethod"],"0x1517":["FL","1","OphthalmicFOV"],"0x1518":["SQ","1","TwoDimensionalToThreeDimensionalMapSequence"],"0x1525":["SQ","1","WideFieldOphthalmicPhotographyQualityRatingSequence"],"0x1526":["SQ","1","WideFieldOphthalmicPhotographyQualityThresholdSequence"],"0x1527":["FL","1","WideFieldOphthalmicPhotographyThresholdQualityRating"],"0x1528":["FL","1","XCoordinatesCenterPixelViewAngle"],"0x1529":["FL","1","YCoordinatesCenterPixelViewAngle"],"0x1530":["UL","1","NumberOfMapPoints"],"0x1531":["OF","1","TwoDimensionalToThreeDimensionalMapData"],"0x1612":["SQ","1","DerivationAlgorithmSequence"],"0x1615":["SQ","1","OphthalmicImageTypeCodeSequence"],"0x1616":["LO","1","OphthalmicImageTypeDescription"],"0x1618":["SQ","1","ScanPatternTypeCodeSequence"],"0x1620":["SQ","1","ReferencedSurfaceMeshIdentificationSequence"],"0x1622":["CS","1","OphthalmicVolumetricPropertiesFlag"],"0x1624":["FL","1","OphthalmicAnatomicReferencePointXCoordinate"],"0x1626":["FL","1","OphthalmicAnatomicReferencePointYCoordinate"],"0x1628":["SQ","1","OphthalmicEnFaceImageQualityRatingSequence"],"0x1630":["DS","1","QualityThreshold"],"0x1640":["SQ","1","OCTBscanAnalysisAcquisitionParametersSequence"],"0x1642":["UL","1","NumberOfBscansPerFrame"],"0x1643":["FL","1","BscanSlabThickness"],"0x1644":["FL","1","DistanceBetweenBscanSlabs"],"0x1645":["FL","1","BscanCycleTime"],"0x1646":["FL","1-n","BscanCycleTimeVector"],"0x1649":["FL","1","AscanRate"],"0x1650":["FL","1","BscanRate"],"0x1658":["UL","1","SurfaceMeshZPixelOffset"]},"0x0024":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["FL","1","VisualFieldHorizontalExtent"],"0x0011":["FL","1","VisualFieldVerticalExtent"],"0x0012":["CS","1","VisualFieldShape"],"0x0016":["SQ","1","ScreeningTestModeCodeSequence"],"0x0018":["FL","1","MaximumStimulusLuminance"],"0x0020":["FL","1","BackgroundLuminance"],"0x0021":["SQ","1","StimulusColorCodeSequence"],"0x0024":["SQ","1","BackgroundIlluminationColorCodeSequence"],"0x0025":["FL","1","StimulusArea"],"0x0028":["FL","1","StimulusPresentationTime"],"0x0032":["SQ","1","FixationSequence"],"0x0033":["SQ","1","FixationMonitoringCodeSequence"],"0x0034":["SQ","1","VisualFieldCatchTrialSequence"],"0x0035":["US","1","FixationCheckedQuantity"],"0x0036":["US","1","PatientNotProperlyFixatedQuantity"],"0x0037":["CS","1","PresentedVisualStimuliDataFlag"],"0x0038":["US","1","NumberOfVisualStimuli"],"0x0039":["CS","1","ExcessiveFixationLossesDataFlag"],"0x0040":["CS","1","ExcessiveFixationLosses"],"0x0042":["US","1","StimuliRetestingQuantity"],"0x0044":["LT","1","CommentsOnPatientPerformanceOfVisualField"],"0x0045":["CS","1","FalseNegativesEstimateFlag"],"0x0046":["FL","1","FalseNegativesEstimate"],"0x0048":["US","1","NegativeCatchTrialsQuantity"],"0x0050":["US","1","FalseNegativesQuantity"],"0x0051":["CS","1","ExcessiveFalseNegativesDataFlag"],"0x0052":["CS","1","ExcessiveFalseNegatives"],"0x0053":["CS","1","FalsePositivesEstimateFlag"],"0x0054":["FL","1","FalsePositivesEstimate"],"0x0055":["CS","1","CatchTrialsDataFlag"],"0x0056":["US","1","PositiveCatchTrialsQuantity"],"0x0057":["CS","1","TestPointNormalsDataFlag"],"0x0058":["SQ","1","TestPointNormalsSequence"],"0x0059":["CS","1","GlobalDeviationProbabilityNormalsFlag"],"0x0060":["US","1","FalsePositivesQuantity"],"0x0061":["CS","1","ExcessiveFalsePositivesDataFlag"],"0x0062":["CS","1","ExcessiveFalsePositives"],"0x0063":["CS","1","VisualFieldTestNormalsFlag"],"0x0064":["SQ","1","ResultsNormalsSequence"],"0x0065":["SQ","1","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0x0066":["FL","1","GlobalDeviationFromNormal"],"0x0067":["SQ","1","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0x0068":["FL","1","LocalizedDeviationFromNormal"],"0x0069":["LO","1","PatientReliabilityIndicator"],"0x0070":["FL","1","VisualFieldMeanSensitivity"],"0x0071":["FL","1","GlobalDeviationProbability"],"0x0072":["CS","1","LocalDeviationProbabilityNormalsFlag"],"0x0073":["FL","1","LocalizedDeviationProbability"],"0x0074":["CS","1","ShortTermFluctuationCalculated"],"0x0075":["FL","1","ShortTermFluctuation"],"0x0076":["CS","1","ShortTermFluctuationProbabilityCalculated"],"0x0077":["FL","1","ShortTermFluctuationProbability"],"0x0078":["CS","1","CorrectedLocalizedDeviationFromNormalCalculated"],"0x0079":["FL","1","CorrectedLocalizedDeviationFromNormal"],"0x0080":["CS","1","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0x0081":["FL","1","CorrectedLocalizedDeviationFromNormalProbability"],"0x0083":["SQ","1","GlobalDeviationProbabilitySequence"],"0x0085":["SQ","1","LocalizedDeviationProbabilitySequence"],"0x0086":["CS","1","FovealSensitivityMeasured"],"0x0087":["FL","1","FovealSensitivity"],"0x0088":["FL","1","VisualFieldTestDuration"],"0x0089":["SQ","1","VisualFieldTestPointSequence"],"0x0090":["FL","1","VisualFieldTestPointXCoordinate"],"0x0091":["FL","1","VisualFieldTestPointYCoordinate"],"0x0092":["FL","1","AgeCorrectedSensitivityDeviationValue"],"0x0093":["CS","1","StimulusResults"],"0x0094":["FL","1","SensitivityValue"],"0x0095":["CS","1","RetestStimulusSeen"],"0x0096":["FL","1","RetestSensitivityValue"],"0x0097":["SQ","1","VisualFieldTestPointNormalsSequence"],"0x0098":["FL","1","QuantifiedDefect"],"0x0100":["FL","1","AgeCorrectedSensitivityDeviationProbabilityValue"],"0x0102":["CS","1","GeneralizedDefectCorrectedSensitivityDeviationFlag"],"0x0103":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationValue"],"0x0104":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0x0105":["FL","1","MinimumSensitivityValue"],"0x0106":["CS","1","BlindSpotLocalized"],"0x0107":["FL","1","BlindSpotXCoordinate"],"0x0108":["FL","1","BlindSpotYCoordinate"],"0x0110":["SQ","1","VisualAcuityMeasurementSequence"],"0x0112":["SQ","1","RefractiveParametersUsedOnPatientSequence"],"0x0113":["CS","1","MeasurementLaterality"],"0x0114":["SQ","1","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0x0115":["SQ","1","OphthalmicPatientClinicalInformationRightEyeSequence"],"0x0117":["CS","1","FovealPointNormativeDataFlag"],"0x0118":["FL","1","FovealPointProbabilityValue"],"0x0120":["CS","1","ScreeningBaselineMeasured"],"0x0122":["SQ","1","ScreeningBaselineMeasuredSequence"],"0x0124":["CS","1","ScreeningBaselineType"],"0x0126":["FL","1","ScreeningBaselineValue"],"0x0202":["LO","1","AlgorithmSource"],"0x0306":["LO","1","DataSetName"],"0x0307":["LO","1","DataSetVersion"],"0x0308":["LO","1","DataSetSource"],"0x0309":["LO","1","DataSetDescription"],"0x0317":["SQ","1","VisualFieldTestReliabilityGlobalIndexSequence"],"0x0320":["SQ","1","VisualFieldGlobalResultsIndexSequence"],"0x0325":["SQ","1","DataObservationSequence"],"0x0338":["CS","1","IndexNormalsFlag"],"0x0341":["FL","1","IndexProbability"],"0x0344":["SQ","1","IndexProbabilitySequence"]},"0x0028":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["US","1","SamplesPerPixel"],"0x0003":["US","1","SamplesPerPixelUsed"],"0x0004":["CS","1","PhotometricInterpretation"],"0x0005":["US","1","ImageDimensions"],"0x0006":["US","1","PlanarConfiguration"],"0x0008":["IS","1","NumberOfFrames"],"0x0009":["AT","1-n","FrameIncrementPointer"],"0x000A":["AT","1-n","FrameDimensionPointer"],"0x0010":["US","1","Rows"],"0x0011":["US","1","Columns"],"0x0012":["US","1","Planes"],"0x0014":["US","1","UltrasoundColorDataPresent"],"0x0020":["","",""],"0x0030":["DS","2","PixelSpacing"],"0x0031":["DS","2","ZoomFactor"],"0x0032":["DS","2","ZoomCenter"],"0x0034":["IS","2","PixelAspectRatio"],"0x0040":["CS","1","ImageFormat"],"0x0050":["LO","1-n","ManipulatedImage"],"0x0051":["CS","1-n","CorrectedImage"],"0x005F":["LO","1","CompressionRecognitionCode"],"0x0060":["CS","1","CompressionCode"],"0x0061":["SH","1","CompressionOriginator"],"0x0062":["LO","1","CompressionLabel"],"0x0063":["SH","1","CompressionDescription"],"0x0065":["CS","1-n","CompressionSequence"],"0x0066":["AT","1-n","CompressionStepPointers"],"0x0068":["US","1","RepeatInterval"],"0x0069":["US","1","BitsGrouped"],"0x0070":["US","1-n","PerimeterTable"],"0x0071":["xs","1","PerimeterValue"],"0x0080":["US","1","PredictorRows"],"0x0081":["US","1","PredictorColumns"],"0x0082":["US","1-n","PredictorConstants"],"0x0090":["CS","1","BlockedPixels"],"0x0091":["US","1","BlockRows"],"0x0092":["US","1","BlockColumns"],"0x0093":["US","1","RowOverlap"],"0x0094":["US","1","ColumnOverlap"],"0x0100":["US","1","BitsAllocated"],"0x0101":["US","1","BitsStored"],"0x0102":["US","1","HighBit"],"0x0103":["US","1","PixelRepresentation"],"0x0104":["xs","1","SmallestValidPixelValue"],"0x0105":["xs","1","LargestValidPixelValue"],"0x0106":["xs","1","SmallestImagePixelValue"],"0x0107":["xs","1","LargestImagePixelValue"],"0x0108":["xs","1","SmallestPixelValueInSeries"],"0x0109":["xs","1","LargestPixelValueInSeries"],"0x0110":["xs","1","SmallestImagePixelValueInPlane"],"0x0111":["xs","1","LargestImagePixelValueInPlane"],"0x0120":["xs","1","PixelPaddingValue"],"0x0121":["xs","1","PixelPaddingRangeLimit"],"0x0122":["FL","1","FloatPixelPaddingValue"],"0x0123":["FD","1","DoubleFloatPixelPaddingValue"],"0x0124":["FL","1","FloatPixelPaddingRangeLimit"],"0x0125":["FD","1","DoubleFloatPixelPaddingRangeLimit"],"0x0200":["US","1","ImageLocation"],"0x0300":["CS","1","QualityControlImage"],"0x0301":["CS","1","BurnedInAnnotation"],"0x0302":["CS","1","RecognizableVisualFeatures"],"0x0303":["CS","1","LongitudinalTemporalInformationModified"],"0x0304":["UI","1","ReferencedColorPaletteInstanceUID"],"0x0400":["LO","1","TransformLabel"],"0x0401":["LO","1","TransformVersionNumber"],"0x0402":["US","1","NumberOfTransformSteps"],"0x0403":["LO","1-n","SequenceOfCompressedData"],"0x0404":["AT","1-n","DetailsOfCoefficients"],"0x04x0":["US","1","RowsForNthOrderCoefficients"],"0x04x1":["US","1","ColumnsForNthOrderCoefficients"],"0x04x2":["LO","1-n","CoefficientCoding"],"0x04x3":["AT","1-n","CoefficientCodingPointers"],"0x0700":["LO","1","DCTLabel"],"0x0701":["CS","1-n","DataBlockDescription"],"0x0702":["AT","1-n","DataBlock"],"0x0710":["US","1","NormalizationFactorFormat"],"0x0720":["US","1","ZonalMapNumberFormat"],"0x0721":["AT","1-n","ZonalMapLocation"],"0x0722":["US","1","ZonalMapFormat"],"0x0730":["US","1","AdaptiveMapFormat"],"0x0740":["US","1","CodeNumberFormat"],"0x08x0":["CS","1-n","CodeLabel"],"0x08x2":["US","1","NumberOfTables"],"0x08x3":["AT","1-n","CodeTableLocation"],"0x08x4":["US","1","BitsForCodeWord"],"0x08x8":["AT","1-n","ImageDataLocation"],"0x0A02":["CS","1","PixelSpacingCalibrationType"],"0x0A04":["LO","1","PixelSpacingCalibrationDescription"],"0x1040":["CS","1","PixelIntensityRelationship"],"0x1041":["SS","1","PixelIntensityRelationshipSign"],"0x1050":["DS","1-n","WindowCenter"],"0x1051":["DS","1-n","WindowWidth"],"0x1052":["DS","1","RescaleIntercept"],"0x1053":["DS","1","RescaleSlope"],"0x1054":["LO","1","RescaleType"],"0x1055":["LO","1-n","WindowCenterWidthExplanation"],"0x1056":["CS","1","VOILUTFunction"],"0x1080":["CS","1","GrayScale"],"0x1090":["CS","1","RecommendedViewingMode"],"0x1100":["xs","3","GrayLookupTableDescriptor"],"0x1101":["xs","3","RedPaletteColorLookupTableDescriptor"],"0x1102":["xs","3","GreenPaletteColorLookupTableDescriptor"],"0x1103":["xs","3","BluePaletteColorLookupTableDescriptor"],"0x1104":["US","3","AlphaPaletteColorLookupTableDescriptor"],"0x1111":["xs","4","LargeRedPaletteColorLookupTableDescriptor"],"0x1112":["xs","4","LargeGreenPaletteColorLookupTableDescriptor"],"0x1113":["xs","4","LargeBluePaletteColorLookupTableDescriptor"],"0x1199":["UI","1","PaletteColorLookupTableUID"],"0x1200":["US or SS or OW","1-n or 1","GrayLookupTableData"],"0x1201":["OW","1","RedPaletteColorLookupTableData"],"0x1202":["OW","1","GreenPaletteColorLookupTableData"],"0x1203":["OW","1","BluePaletteColorLookupTableData"],"0x1204":["OW","1","AlphaPaletteColorLookupTableData"],"0x1211":["OW","1","LargeRedPaletteColorLookupTableData"],"0x1212":["OW","1","LargeGreenPaletteColorLookupTableData"],"0x1213":["OW","1","LargeBluePaletteColorLookupTableData"],"0x1214":["UI","1","LargePaletteColorLookupTableUID"],"0x1221":["OW","1","SegmentedRedPaletteColorLookupTableData"],"0x1222":["OW","1","SegmentedGreenPaletteColorLookupTableData"],"0x1223":["OW","1","SegmentedBluePaletteColorLookupTableData"],"0x1224":["OW","1","SegmentedAlphaPaletteColorLookupTableData"],"0x1230":["SQ","1","StoredValueColorRangeSequence"],"0x1231":["FD","1","MinimumStoredValueMapped"],"0x1232":["FD","1","MaximumStoredValueMapped"],"0x1300":["CS","1","BreastImplantPresent"],"0x1350":["CS","1","PartialView"],"0x1351":["ST","1","PartialViewDescription"],"0x1352":["SQ","1","PartialViewCodeSequence"],"0x135A":["CS","1","SpatialLocationsPreserved"],"0x1401":["SQ","1","DataFrameAssignmentSequence"],"0x1402":["CS","1","DataPathAssignment"],"0x1403":["US","1","BitsMappedToColorLookupTable"],"0x1404":["SQ","1","BlendingLUT1Sequence"],"0x1405":["CS","1","BlendingLUT1TransferFunction"],"0x1406":["FD","1","BlendingWeightConstant"],"0x1407":["US","3","BlendingLookupTableDescriptor"],"0x1408":["OW","1","BlendingLookupTableData"],"0x140B":["SQ","1","EnhancedPaletteColorLookupTableSequence"],"0x140C":["SQ","1","BlendingLUT2Sequence"],"0x140D":["CS","1","BlendingLUT2TransferFunction"],"0x140E":["CS","1","DataPathID"],"0x140F":["CS","1","RGBLUTTransferFunction"],"0x1410":["CS","1","AlphaLUTTransferFunction"],"0x2000":["OB","1","ICCProfile"],"0x2002":["CS","1","ColorSpace"],"0x2110":["CS","1","LossyImageCompression"],"0x2112":["DS","1-n","LossyImageCompressionRatio"],"0x2114":["CS","1-n","LossyImageCompressionMethod"],"0x3000":["SQ","1","ModalityLUTSequence"],"0x3002":["xs","3","LUTDescriptor"],"0x3003":["LO","1","LUTExplanation"],"0x3004":["LO","1","ModalityLUTType"],"0x3006":["US or OW","1-n or 1","LUTData"],"0x3010":["SQ","1","VOILUTSequence"],"0x3110":["SQ","1","SoftcopyVOILUTSequence"],"0x4000":["LT","1","ImagePresentationComments"],"0x5000":["SQ","1","BiPlaneAcquisitionSequence"],"0x6010":["US","1","RepresentativeFrameNumber"],"0x6020":["US","1-n","FrameNumbersOfInterest"],"0x6022":["LO","1-n","FrameOfInterestDescription"],"0x6023":["CS","1-n","FrameOfInterestType"],"0x6030":["US","1-n","MaskPointers"],"0x6040":["US","1-n","RWavePointer"],"0x6100":["SQ","1","MaskSubtractionSequence"],"0x6101":["CS","1","MaskOperation"],"0x6102":["US","2-2n","ApplicableFrameRange"],"0x6110":["US","1-n","MaskFrameNumbers"],"0x6112":["US","1","ContrastFrameAveraging"],"0x6114":["FL","2","MaskSubPixelShift"],"0x6120":["SS","1","TIDOffset"],"0x6190":["ST","1","MaskOperationExplanation"],"0x7000":["SQ","1","EquipmentAdministratorSequence"],"0x7001":["US","1","NumberOfDisplaySubsystems"],"0x7002":["US","1","CurrentConfigurationID"],"0x7003":["US","1","DisplaySubsystemID"],"0x7004":["SH","1","DisplaySubsystemName"],"0x7005":["LO","1","DisplaySubsystemDescription"],"0x7006":["CS","1","SystemStatus"],"0x7007":["LO","1","SystemStatusComment"],"0x7008":["SQ","1","TargetLuminanceCharacteristicsSequence"],"0x7009":["US","1","LuminanceCharacteristicsID"],"0x700A":["SQ","1","DisplaySubsystemConfigurationSequence"],"0x700B":["US","1","ConfigurationID"],"0x700C":["SH","1","ConfigurationName"],"0x700D":["LO","1","ConfigurationDescription"],"0x700E":["US","1","ReferencedTargetLuminanceCharacteristicsID"],"0x700F":["SQ","1","QAResultsSequence"],"0x7010":["SQ","1","DisplaySubsystemQAResultsSequence"],"0x7011":["SQ","1","ConfigurationQAResultsSequence"],"0x7012":["SQ","1","MeasurementEquipmentSequence"],"0x7013":["CS","1-n","MeasurementFunctions"],"0x7014":["CS","1","MeasurementEquipmentType"],"0x7015":["SQ","1","VisualEvaluationResultSequence"],"0x7016":["SQ","1","DisplayCalibrationResultSequence"],"0x7017":["US","1","DDLValue"],"0x7018":["FL","2","CIExyWhitePoint"],"0x7019":["CS","1","DisplayFunctionType"],"0x701A":["FL","1","GammaValue"],"0x701B":["US","1","NumberOfLuminancePoints"],"0x701C":["SQ","1","LuminanceResponseSequence"],"0x701D":["FL","1","TargetMinimumLuminance"],"0x701E":["FL","1","TargetMaximumLuminance"],"0x701F":["FL","1","LuminanceValue"],"0x7020":["LO","1","LuminanceResponseDescription"],"0x7021":["CS","1","WhitePointFlag"],"0x7022":["SQ","1","DisplayDeviceTypeCodeSequence"],"0x7023":["SQ","1","DisplaySubsystemSequence"],"0x7024":["SQ","1","LuminanceResultSequence"],"0x7025":["CS","1","AmbientLightValueSource"],"0x7026":["CS","1-n","MeasuredCharacteristics"],"0x7027":["SQ","1","LuminanceUniformityResultSequence"],"0x7028":["SQ","1","VisualEvaluationTestSequence"],"0x7029":["CS","1","TestResult"],"0x702A":["LO","1","TestResultComment"],"0x702B":["CS","1","TestImageValidation"],"0x702C":["SQ","1","TestPatternCodeSequence"],"0x702D":["SQ","1","MeasurementPatternCodeSequence"],"0x702E":["SQ","1","VisualEvaluationMethodCodeSequence"],"0x7FE0":["UR","1","PixelDataProviderURL"],"0x9001":["UL","1","DataPointRows"],"0x9002":["UL","1","DataPointColumns"],"0x9003":["CS","1","SignalDomainColumns"],"0x9099":["US","1","LargestMonochromePixelValue"],"0x9108":["CS","1","DataRepresentation"],"0x9110":["SQ","1","PixelMeasuresSequence"],"0x9132":["SQ","1","FrameVOILUTSequence"],"0x9145":["SQ","1","PixelValueTransformationSequence"],"0x9235":["CS","1","SignalDomainRows"],"0x9411":["FL","1","DisplayFilterPercentage"],"0x9415":["SQ","1","FramePixelShiftSequence"],"0x9416":["US","1","SubtractionItemID"],"0x9422":["SQ","1","PixelIntensityRelationshipLUTSequence"],"0x9443":["SQ","1","FramePixelDataPropertiesSequence"],"0x9444":["CS","1","GeometricalProperties"],"0x9445":["FL","1","GeometricMaximumDistortion"],"0x9446":["CS","1-n","ImageProcessingApplied"],"0x9454":["CS","1","MaskSelectionMode"],"0x9474":["CS","1","LUTFunction"],"0x9478":["FL","1","MaskVisibilityPercentage"],"0x9501":["SQ","1","PixelShiftSequence"],"0x9502":["SQ","1","RegionPixelShiftSequence"],"0x9503":["SS","2-2n","VerticesOfTheRegion"],"0x9505":["SQ","1","MultiFramePresentationSequence"],"0x9506":["US","2-2n","PixelShiftFrameRange"],"0x9507":["US","2-2n","LUTFrameRange"],"0x9520":["DS","16","ImageToEquipmentMappingMatrix"],"0x9537":["CS","1","EquipmentCoordinateSystemIdentification"]},"0x0032":{"0x0000":["UL","1","GenericGroupLength"],"0x000A":["CS","1","StudyStatusID"],"0x000C":["CS","1","StudyPriorityID"],"0x0012":["LO","1","StudyIDIssuer"],"0x0032":["DA","1","StudyVerifiedDate"],"0x0033":["TM","1","StudyVerifiedTime"],"0x0034":["DA","1","StudyReadDate"],"0x0035":["TM","1","StudyReadTime"],"0x1000":["DA","1","ScheduledStudyStartDate"],"0x1001":["TM","1","ScheduledStudyStartTime"],"0x1010":["DA","1","ScheduledStudyStopDate"],"0x1011":["TM","1","ScheduledStudyStopTime"],"0x1020":["LO","1","ScheduledStudyLocation"],"0x1021":["AE","1-n","ScheduledStudyLocationAETitle"],"0x1030":["LO","1","ReasonForStudy"],"0x1031":["SQ","1","RequestingPhysicianIdentificationSequence"],"0x1032":["PN","1","RequestingPhysician"],"0x1033":["LO","1","RequestingService"],"0x1034":["SQ","1","RequestingServiceCodeSequence"],"0x1040":["DA","1","StudyArrivalDate"],"0x1041":["TM","1","StudyArrivalTime"],"0x1050":["DA","1","StudyCompletionDate"],"0x1051":["TM","1","StudyCompletionTime"],"0x1055":["CS","1","StudyComponentStatusID"],"0x1060":["LO","1","RequestedProcedureDescription"],"0x1064":["SQ","1","RequestedProcedureCodeSequence"],"0x1065":["SQ","1","RequestedLateralityCodeSequence"],"0x1066":["UT","1","ReasonForVisit"],"0x1067":["SQ","1","ReasonForVisitCodeSequence"],"0x1070":["LO","1","RequestedContrastAgent"],"0x4000":["LT","1","StudyComments"]},"0x0034":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["SQ","1","FlowIdentifierSequence"],"0x0002":["OB","1","FlowIdentifier"],"0x0003":["UI","1","FlowTransferSyntaxUID"],"0x0004":["UL","1","FlowRTPSamplingRate"],"0x0005":["OB","1","SourceIdentifier"],"0x0007":["OB","1","FrameOriginTimestamp"],"0x0008":["CS","1","IncludesImagingSubject"],"0x0009":["SQ","1","FrameUsefulnessGroupSequence"],"0x000A":["SQ","1","RealTimeBulkDataFlowSequence"],"0x000B":["SQ","1","CameraPositionGroupSequence"],"0x000C":["CS","1","IncludesInformation"],"0x000D":["SQ","1","TimeOfFrameGroupSequence"]},"0x0038":{"0x0000":["UL","1","GenericGroupLength"],"0x0004":["SQ","1","ReferencedPatientAliasSequence"],"0x0008":["CS","1","VisitStatusID"],"0x0010":["LO","1","AdmissionID"],"0x0011":["LO","1","IssuerOfAdmissionID"],"0x0014":["SQ","1","IssuerOfAdmissionIDSequence"],"0x0016":["LO","1","RouteOfAdmissions"],"0x001A":["DA","1","ScheduledAdmissionDate"],"0x001B":["TM","1","ScheduledAdmissionTime"],"0x001C":["DA","1","ScheduledDischargeDate"],"0x001D":["TM","1","ScheduledDischargeTime"],"0x001E":["LO","1","ScheduledPatientInstitutionResidence"],"0x0020":["DA","1","AdmittingDate"],"0x0021":["TM","1","AdmittingTime"],"0x0030":["DA","1","DischargeDate"],"0x0032":["TM","1","DischargeTime"],"0x0040":["LO","1","DischargeDiagnosisDescription"],"0x0044":["SQ","1","DischargeDiagnosisCodeSequence"],"0x0050":["LO","1","SpecialNeeds"],"0x0060":["LO","1","ServiceEpisodeID"],"0x0061":["LO","1","IssuerOfServiceEpisodeID"],"0x0062":["LO","1","ServiceEpisodeDescription"],"0x0064":["SQ","1","IssuerOfServiceEpisodeIDSequence"],"0x0100":["SQ","1","PertinentDocumentsSequence"],"0x0101":["SQ","1","PertinentResourcesSequence"],"0x0102":["LO","1","ResourceDescription"],"0x0300":["LO","1","CurrentPatientLocation"],"0x0400":["LO","1","PatientInstitutionResidence"],"0x0500":["LO","1","PatientState"],"0x0502":["SQ","1","PatientClinicalTrialParticipationSequence"],"0x4000":["LT","1","VisitComments"]},"0x003A":{"0x0000":["UL","1","GenericGroupLength"],"0x0004":["CS","1","WaveformOriginality"],"0x0005":["US","1","NumberOfWaveformChannels"],"0x0010":["UL","1","NumberOfWaveformSamples"],"0x001A":["DS","1","SamplingFrequency"],"0x0020":["SH","1","MultiplexGroupLabel"],"0x0200":["SQ","1","ChannelDefinitionSequence"],"0x0202":["IS","1","WaveformChannelNumber"],"0x0203":["SH","1","ChannelLabel"],"0x0205":["CS","1-n","ChannelStatus"],"0x0208":["SQ","1","ChannelSourceSequence"],"0x0209":["SQ","1","ChannelSourceModifiersSequence"],"0x020A":["SQ","1","SourceWaveformSequence"],"0x020C":["LO","1","ChannelDerivationDescription"],"0x0210":["DS","1","ChannelSensitivity"],"0x0211":["SQ","1","ChannelSensitivityUnitsSequence"],"0x0212":["DS","1","ChannelSensitivityCorrectionFactor"],"0x0213":["DS","1","ChannelBaseline"],"0x0214":["DS","1","ChannelTimeSkew"],"0x0215":["DS","1","ChannelSampleSkew"],"0x0218":["DS","1","ChannelOffset"],"0x021A":["US","1","WaveformBitsStored"],"0x0220":["DS","1","FilterLowFrequency"],"0x0221":["DS","1","FilterHighFrequency"],"0x0222":["DS","1","NotchFilterFrequency"],"0x0223":["DS","1","NotchFilterBandwidth"],"0x0230":["FL","1","WaveformDataDisplayScale"],"0x0231":["US","3","WaveformDisplayBackgroundCIELabValue"],"0x0240":["SQ","1","WaveformPresentationGroupSequence"],"0x0241":["US","1","PresentationGroupNumber"],"0x0242":["SQ","1","ChannelDisplaySequence"],"0x0244":["US","3","ChannelRecommendedDisplayCIELabValue"],"0x0245":["FL","1","ChannelPosition"],"0x0246":["CS","1","DisplayShadingFlag"],"0x0247":["FL","1","FractionalChannelDisplayScale"],"0x0248":["FL","1","AbsoluteChannelDisplayScale"],"0x0300":["SQ","1","MultiplexedAudioChannelsDescriptionCodeSequence"],"0x0301":["IS","1","ChannelIdentificationCode"],"0x0302":["CS","1","ChannelMode"],"0x0310":["UI","1","MultiplexGroupUID"],"0x0311":["DS","1","PowerlineFrequency"],"0x0312":["SQ","1","ChannelImpedanceSequence"],"0x0313":["DS","1","ImpedanceValue"],"0x0314":["DT","1","ImpedanceMeasurementDateTime"],"0x0315":["DS","1","ImpedanceMeasurementFrequency"],"0x0316":["CS","1","ImpedanceMeasurementCurrentType"]},"0x0040":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["AE","1-n","ScheduledStationAETitle"],"0x0002":["DA","1","ScheduledProcedureStepStartDate"],"0x0003":["TM","1","ScheduledProcedureStepStartTime"],"0x0004":["DA","1","ScheduledProcedureStepEndDate"],"0x0005":["TM","1","ScheduledProcedureStepEndTime"],"0x0006":["PN","1","ScheduledPerformingPhysicianName"],"0x0007":["LO","1","ScheduledProcedureStepDescription"],"0x0008":["SQ","1","ScheduledProtocolCodeSequence"],"0x0009":["SH","1","ScheduledProcedureStepID"],"0x000A":["SQ","1","StageCodeSequence"],"0x000B":["SQ","1","ScheduledPerformingPhysicianIdentificationSequence"],"0x0010":["SH","1-n","ScheduledStationName"],"0x0011":["SH","1","ScheduledProcedureStepLocation"],"0x0012":["LO","1","PreMedication"],"0x0020":["CS","1","ScheduledProcedureStepStatus"],"0x0026":["SQ","1","OrderPlacerIdentifierSequence"],"0x0027":["SQ","1","OrderFillerIdentifierSequence"],"0x0031":["UT","1","LocalNamespaceEntityID"],"0x0032":["UT","1","UniversalEntityID"],"0x0033":["CS","1","UniversalEntityIDType"],"0x0035":["CS","1","IdentifierTypeCode"],"0x0036":["SQ","1","AssigningFacilitySequence"],"0x0039":["SQ","1","AssigningJurisdictionCodeSequence"],"0x003A":["SQ","1","AssigningAgencyOrDepartmentCodeSequence"],"0x0100":["SQ","1","ScheduledProcedureStepSequence"],"0x0220":["SQ","1","ReferencedNonImageCompositeSOPInstanceSequence"],"0x0241":["AE","1","PerformedStationAETitle"],"0x0242":["SH","1","PerformedStationName"],"0x0243":["SH","1","PerformedLocation"],"0x0244":["DA","1","PerformedProcedureStepStartDate"],"0x0245":["TM","1","PerformedProcedureStepStartTime"],"0x0250":["DA","1","PerformedProcedureStepEndDate"],"0x0251":["TM","1","PerformedProcedureStepEndTime"],"0x0252":["CS","1","PerformedProcedureStepStatus"],"0x0253":["SH","1","PerformedProcedureStepID"],"0x0254":["LO","1","PerformedProcedureStepDescription"],"0x0255":["LO","1","PerformedProcedureTypeDescription"],"0x0260":["SQ","1","PerformedProtocolCodeSequence"],"0x0261":["CS","1","PerformedProtocolType"],"0x0270":["SQ","1","ScheduledStepAttributesSequence"],"0x0275":["SQ","1","RequestAttributesSequence"],"0x0280":["ST","1","CommentsOnThePerformedProcedureStep"],"0x0281":["SQ","1","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0x0293":["SQ","1","QuantitySequence"],"0x0294":["DS","1","Quantity"],"0x0295":["SQ","1","MeasuringUnitsSequence"],"0x0296":["SQ","1","BillingItemSequence"],"0x0300":["US","1","TotalTimeOfFluoroscopy"],"0x0301":["US","1","TotalNumberOfExposures"],"0x0302":["US","1","EntranceDose"],"0x0303":["US","1-2","ExposedArea"],"0x0306":["DS","1","DistanceSourceToEntrance"],"0x0307":["DS","1","DistanceSourceToSupport"],"0x030E":["SQ","1","ExposureDoseSequence"],"0x0310":["ST","1","CommentsOnRadiationDose"],"0x0312":["DS","1","XRayOutput"],"0x0314":["DS","1","HalfValueLayer"],"0x0316":["DS","1","OrganDose"],"0x0318":["CS","1","OrganExposed"],"0x0320":["SQ","1","BillingProcedureStepSequence"],"0x0321":["SQ","1","FilmConsumptionSequence"],"0x0324":["SQ","1","BillingSuppliesAndDevicesSequence"],"0x0330":["SQ","1","ReferencedProcedureStepSequence"],"0x0340":["SQ","1","PerformedSeriesSequence"],"0x0400":["LT","1","CommentsOnTheScheduledProcedureStep"],"0x0440":["SQ","1","ProtocolContextSequence"],"0x0441":["SQ","1","ContentItemModifierSequence"],"0x0500":["SQ","1","ScheduledSpecimenSequence"],"0x050A":["LO","1","SpecimenAccessionNumber"],"0x0512":["LO","1","ContainerIdentifier"],"0x0513":["SQ","1","IssuerOfTheContainerIdentifierSequence"],"0x0515":["SQ","1","AlternateContainerIdentifierSequence"],"0x0518":["SQ","1","ContainerTypeCodeSequence"],"0x051A":["LO","1","ContainerDescription"],"0x0520":["SQ","1","ContainerComponentSequence"],"0x0550":["SQ","1","SpecimenSequence"],"0x0551":["LO","1","SpecimenIdentifier"],"0x0552":["SQ","1","SpecimenDescriptionSequenceTrial"],"0x0553":["ST","1","SpecimenDescriptionTrial"],"0x0554":["UI","1","SpecimenUID"],"0x0555":["SQ","1","AcquisitionContextSequence"],"0x0556":["ST","1","AcquisitionContextDescription"],"0x0560":["SQ","1","SpecimenDescriptionSequence"],"0x0562":["SQ","1","IssuerOfTheSpecimenIdentifierSequence"],"0x059A":["SQ","1","SpecimenTypeCodeSequence"],"0x0600":["LO","1","SpecimenShortDescription"],"0x0602":["UT","1","SpecimenDetailedDescription"],"0x0610":["SQ","1","SpecimenPreparationSequence"],"0x0612":["SQ","1","SpecimenPreparationStepContentItemSequence"],"0x0620":["SQ","1","SpecimenLocalizationContentItemSequence"],"0x06FA":["LO","1","SlideIdentifier"],"0x0710":["SQ","1","WholeSlideMicroscopyImageFrameTypeSequence"],"0x071A":["SQ","1","ImageCenterPointCoordinatesSequence"],"0x072A":["DS","1","XOffsetInSlideCoordinateSystem"],"0x073A":["DS","1","YOffsetInSlideCoordinateSystem"],"0x074A":["DS","1","ZOffsetInSlideCoordinateSystem"],"0x08D8":["SQ","1","PixelSpacingSequence"],"0x08DA":["SQ","1","CoordinateSystemAxisCodeSequence"],"0x08EA":["SQ","1","MeasurementUnitsCodeSequence"],"0x09F8":["SQ","1","VitalStainCodeSequenceTrial"],"0x1001":["SH","1","RequestedProcedureID"],"0x1002":["LO","1","ReasonForTheRequestedProcedure"],"0x1003":["SH","1","RequestedProcedurePriority"],"0x1004":["LO","1","PatientTransportArrangements"],"0x1005":["LO","1","RequestedProcedureLocation"],"0x1006":["SH","1","PlacerOrderNumberProcedure"],"0x1007":["SH","1","FillerOrderNumberProcedure"],"0x1008":["LO","1","ConfidentialityCode"],"0x1009":["SH","1","ReportingPriority"],"0x100A":["SQ","1","ReasonForRequestedProcedureCodeSequence"],"0x1010":["PN","1-n","NamesOfIntendedRecipientsOfResults"],"0x1011":["SQ","1","IntendedRecipientsOfResultsIdentificationSequence"],"0x1012":["SQ","1","ReasonForPerformedProcedureCodeSequence"],"0x1060":["LO","1","RequestedProcedureDescriptionTrial"],"0x1101":["SQ","1","PersonIdentificationCodeSequence"],"0x1102":["ST","1","PersonAddress"],"0x1103":["LO","1-n","PersonTelephoneNumbers"],"0x1104":["LT","1","PersonTelecomInformation"],"0x1400":["LT","1","RequestedProcedureComments"],"0x2001":["LO","1","ReasonForTheImagingServiceRequest"],"0x2004":["DA","1","IssueDateOfImagingServiceRequest"],"0x2005":["TM","1","IssueTimeOfImagingServiceRequest"],"0x2006":["SH","1","PlacerOrderNumberImagingServiceRequestRetired"],"0x2007":["SH","1","FillerOrderNumberImagingServiceRequestRetired"],"0x2008":["PN","1","OrderEnteredBy"],"0x2009":["SH","1","OrderEntererLocation"],"0x2010":["SH","1","OrderCallbackPhoneNumber"],"0x2011":["LT","1","OrderCallbackTelecomInformation"],"0x2016":["LO","1","PlacerOrderNumberImagingServiceRequest"],"0x2017":["LO","1","FillerOrderNumberImagingServiceRequest"],"0x2400":["LT","1","ImagingServiceRequestComments"],"0x3001":["LO","1","ConfidentialityConstraintOnPatientDataDescription"],"0x4001":["CS","1","GeneralPurposeScheduledProcedureStepStatus"],"0x4002":["CS","1","GeneralPurposePerformedProcedureStepStatus"],"0x4003":["CS","1","GeneralPurposeScheduledProcedureStepPriority"],"0x4004":["SQ","1","ScheduledProcessingApplicationsCodeSequence"],"0x4005":["DT","1","ScheduledProcedureStepStartDateTime"],"0x4006":["CS","1","MultipleCopiesFlag"],"0x4007":["SQ","1","PerformedProcessingApplicationsCodeSequence"],"0x4008":["DT","1","ScheduledProcedureStepExpirationDateTime"],"0x4009":["SQ","1","HumanPerformerCodeSequence"],"0x4010":["DT","1","ScheduledProcedureStepModificationDateTime"],"0x4011":["DT","1","ExpectedCompletionDateTime"],"0x4015":["SQ","1","ResultingGeneralPurposePerformedProcedureStepsSequence"],"0x4016":["SQ","1","ReferencedGeneralPurposeScheduledProcedureStepSequence"],"0x4018":["SQ","1","ScheduledWorkitemCodeSequence"],"0x4019":["SQ","1","PerformedWorkitemCodeSequence"],"0x4020":["CS","1","InputAvailabilityFlag"],"0x4021":["SQ","1","InputInformationSequence"],"0x4022":["SQ","1","RelevantInformationSequence"],"0x4023":["UI","1","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],"0x4025":["SQ","1","ScheduledStationNameCodeSequence"],"0x4026":["SQ","1","ScheduledStationClassCodeSequence"],"0x4027":["SQ","1","ScheduledStationGeographicLocationCodeSequence"],"0x4028":["SQ","1","PerformedStationNameCodeSequence"],"0x4029":["SQ","1","PerformedStationClassCodeSequence"],"0x4030":["SQ","1","PerformedStationGeographicLocationCodeSequence"],"0x4031":["SQ","1","RequestedSubsequentWorkitemCodeSequence"],"0x4032":["SQ","1","NonDICOMOutputCodeSequence"],"0x4033":["SQ","1","OutputInformationSequence"],"0x4034":["SQ","1","ScheduledHumanPerformersSequence"],"0x4035":["SQ","1","ActualHumanPerformersSequence"],"0x4036":["LO","1","HumanPerformerOrganization"],"0x4037":["PN","1","HumanPerformerName"],"0x4040":["CS","1","RawDataHandling"],"0x4041":["CS","1","InputReadinessState"],"0x4050":["DT","1","PerformedProcedureStepStartDateTime"],"0x4051":["DT","1","PerformedProcedureStepEndDateTime"],"0x4052":["DT","1","ProcedureStepCancellationDateTime"],"0x4070":["SQ","1","OutputDestinationSequence"],"0x4071":["SQ","1","DICOMStorageSequence"],"0x4072":["SQ","1","STOWRSStorageSequence"],"0x4073":["UR","1","StorageURL"],"0x4074":["SQ","1","XDSStorageSequence"],"0x8302":["DS","1","EntranceDoseInmGy"],"0x8303":["CS","1","EntranceDoseDerivation"],"0x9092":["SQ","1","ParametricMapFrameTypeSequence"],"0x9094":["SQ","1","ReferencedImageRealWorldValueMappingSequence"],"0x9096":["SQ","1","RealWorldValueMappingSequence"],"0x9098":["SQ","1","PixelValueMappingCodeSequence"],"0x9210":["SH","1","LUTLabel"],"0x9211":["xs","1","RealWorldValueLastValueMapped"],"0x9212":["FD","1-n","RealWorldValueLUTData"],"0x9213":["FD","1","DoubleFloatRealWorldValueLastValueMapped"],"0x9214":["FD","1","DoubleFloatRealWorldValueFirstValueMapped"],"0x9216":["xs","1","RealWorldValueFirstValueMapped"],"0x9220":["SQ","1","QuantityDefinitionSequence"],"0x9224":["FD","1","RealWorldValueIntercept"],"0x9225":["FD","1","RealWorldValueSlope"],"0xA007":["CS","1","FindingsFlagTrial"],"0xA010":["CS","1","RelationshipType"],"0xA020":["SQ","1","FindingsSequenceTrial"],"0xA021":["UI","1","FindingsGroupUIDTrial"],"0xA022":["UI","1","ReferencedFindingsGroupUIDTrial"],"0xA023":["DA","1","FindingsGroupRecordingDateTrial"],"0xA024":["TM","1","FindingsGroupRecordingTimeTrial"],"0xA026":["SQ","1","FindingsSourceCategoryCodeSequenceTrial"],"0xA027":["LO","1","VerifyingOrganization"],"0xA028":["SQ","1","DocumentingOrganizationIdentifierCodeSequenceTrial"],"0xA030":["DT","1","VerificationDateTime"],"0xA032":["DT","1","ObservationDateTime"],"0xA033":["DT","1","ObservationStartDateTime"],"0xA040":["CS","1","ValueType"],"0xA043":["SQ","1","ConceptNameCodeSequence"],"0xA047":["LO","1","MeasurementPrecisionDescriptionTrial"],"0xA050":["CS","1","ContinuityOfContent"],"0xA057":["CS","1-n","UrgencyOrPriorityAlertsTrial"],"0xA060":["LO","1","SequencingIndicatorTrial"],"0xA066":["SQ","1","DocumentIdentifierCodeSequenceTrial"],"0xA067":["PN","1","DocumentAuthorTrial"],"0xA068":["SQ","1","DocumentAuthorIdentifierCodeSequenceTrial"],"0xA070":["SQ","1","IdentifierCodeSequenceTrial"],"0xA073":["SQ","1","VerifyingObserverSequence"],"0xA074":["OB","1","ObjectBinaryIdentifierTrial"],"0xA075":["PN","1","VerifyingObserverName"],"0xA076":["SQ","1","DocumentingObserverIdentifierCodeSequenceTrial"],"0xA078":["SQ","1","AuthorObserverSequence"],"0xA07A":["SQ","1","ParticipantSequence"],"0xA07C":["SQ","1","CustodialOrganizationSequence"],"0xA080":["CS","1","ParticipationType"],"0xA082":["DT","1","ParticipationDateTime"],"0xA084":["CS","1","ObserverType"],"0xA085":["SQ","1","ProcedureIdentifierCodeSequenceTrial"],"0xA088":["SQ","1","VerifyingObserverIdentificationCodeSequence"],"0xA089":["OB","1","ObjectDirectoryBinaryIdentifierTrial"],"0xA090":["SQ","1","EquivalentCDADocumentSequence"],"0xA0B0":["US","2-2n","ReferencedWaveformChannels"],"0xA110":["DA","1","DateOfDocumentOrVerbalTransactionTrial"],"0xA112":["TM","1","TimeOfDocumentCreationOrVerbalTransactionTrial"],"0xA120":["DT","1","DateTime"],"0xA121":["DA","1","Date"],"0xA122":["TM","1","Time"],"0xA123":["PN","1","PersonName"],"0xA124":["UI","1","UID"],"0xA125":["CS","2","ReportStatusIDTrial"],"0xA130":["CS","1","TemporalRangeType"],"0xA132":["UL","1-n","ReferencedSamplePositions"],"0xA136":["US","1-n","ReferencedFrameNumbers"],"0xA138":["DS","1-n","ReferencedTimeOffsets"],"0xA13A":["DT","1-n","ReferencedDateTime"],"0xA160":["UT","1","TextValue"],"0xA161":["FD","1-n","FloatingPointValue"],"0xA162":["SL","1-n","RationalNumeratorValue"],"0xA163":["UL","1-n","RationalDenominatorValue"],"0xA167":["SQ","1","ObservationCategoryCodeSequenceTrial"],"0xA168":["SQ","1","ConceptCodeSequence"],"0xA16A":["ST","1","BibliographicCitationTrial"],"0xA170":["SQ","1","PurposeOfReferenceCodeSequence"],"0xA171":["UI","1","ObservationUID"],"0xA172":["UI","1","ReferencedObservationUIDTrial"],"0xA173":["CS","1","ReferencedObservationClassTrial"],"0xA174":["CS","1","ReferencedObjectObservationClassTrial"],"0xA180":["US","1","AnnotationGroupNumber"],"0xA192":["DA","1","ObservationDateTrial"],"0xA193":["TM","1","ObservationTimeTrial"],"0xA194":["CS","1","MeasurementAutomationTrial"],"0xA195":["SQ","1","ModifierCodeSequence"],"0xA224":["ST","1","IdentificationDescriptionTrial"],"0xA290":["CS","1","CoordinatesSetGeometricTypeTrial"],"0xA296":["SQ","1","AlgorithmCodeSequenceTrial"],"0xA297":["ST","1","AlgorithmDescriptionTrial"],"0xA29A":["SL","2-2n","PixelCoordinatesSetTrial"],"0xA300":["SQ","1","MeasuredValueSequence"],"0xA301":["SQ","1","NumericValueQualifierCodeSequence"],"0xA307":["PN","1","CurrentObserverTrial"],"0xA30A":["DS","1-n","NumericValue"],"0xA313":["SQ","1","ReferencedAccessionSequenceTrial"],"0xA33A":["ST","1","ReportStatusCommentTrial"],"0xA340":["SQ","1","ProcedureContextSequenceTrial"],"0xA352":["PN","1","VerbalSourceTrial"],"0xA353":["ST","1","AddressTrial"],"0xA354":["LO","1","TelephoneNumberTrial"],"0xA358":["SQ","1","VerbalSourceIdentifierCodeSequenceTrial"],"0xA360":["SQ","1","PredecessorDocumentsSequence"],"0xA370":["SQ","1","ReferencedRequestSequence"],"0xA372":["SQ","1","PerformedProcedureCodeSequence"],"0xA375":["SQ","1","CurrentRequestedProcedureEvidenceSequence"],"0xA380":["SQ","1","ReportDetailSequenceTrial"],"0xA385":["SQ","1","PertinentOtherEvidenceSequence"],"0xA390":["SQ","1","HL7StructuredDocumentReferenceSequence"],"0xA402":["UI","1","ObservationSubjectUIDTrial"],"0xA403":["CS","1","ObservationSubjectClassTrial"],"0xA404":["SQ","1","ObservationSubjectTypeCodeSequenceTrial"],"0xA491":["CS","1","CompletionFlag"],"0xA492":["LO","1","CompletionFlagDescription"],"0xA493":["CS","1","VerificationFlag"],"0xA494":["CS","1","ArchiveRequested"],"0xA496":["CS","1","PreliminaryFlag"],"0xA504":["SQ","1","ContentTemplateSequence"],"0xA525":["SQ","1","IdenticalDocumentsSequence"],"0xA600":["CS","1","ObservationSubjectContextFlagTrial"],"0xA601":["CS","1","ObserverContextFlagTrial"],"0xA603":["CS","1","ProcedureContextFlagTrial"],"0xA730":["SQ","1","ContentSequence"],"0xA731":["SQ","1","RelationshipSequenceTrial"],"0xA732":["SQ","1","RelationshipTypeCodeSequenceTrial"],"0xA744":["SQ","1","LanguageCodeSequenceTrial"],"0xA801":["SQ","1","TabulatedValuesSequence"],"0xA802":["UL","1","NumberOfTableRows"],"0xA803":["UL","1","NumberOfTableColumns"],"0xA804":["UL","1","TableRowNumber"],"0xA805":["UL","1","TableColumnNumber"],"0xA806":["SQ","1","TableRowDefinitionSequence"],"0xA807":["SQ","1","TableColumnDefinitionSequence"],"0xA808":["SQ","1","CellValuesSequence"],"0xA992":["ST","1","UniformResourceLocatorTrial"],"0xB020":["SQ","1","WaveformAnnotationSequence"],"0xDB00":["CS","1","TemplateIdentifier"],"0xDB06":["DT","1","TemplateVersion"],"0xDB07":["DT","1","TemplateLocalVersion"],"0xDB0B":["CS","1","TemplateExtensionFlag"],"0xDB0C":["UI","1","TemplateExtensionOrganizationUID"],"0xDB0D":["UI","1","TemplateExtensionCreatorUID"],"0xDB73":["UL","1-n","ReferencedContentItemIdentifier"],"0xE001":["ST","1","HL7InstanceIdentifier"],"0xE004":["DT","1","HL7DocumentEffectiveTime"],"0xE006":["SQ","1","HL7DocumentTypeCodeSequence"],"0xE008":["SQ","1","DocumentClassCodeSequence"],"0xE010":["UR","1","RetrieveURI"],"0xE011":["UI","1","RetrieveLocationUID"],"0xE020":["CS","1","TypeOfInstances"],"0xE021":["SQ","1","DICOMRetrievalSequence"],"0xE022":["SQ","1","DICOMMediaRetrievalSequence"],"0xE023":["SQ","1","WADORetrievalSequence"],"0xE024":["SQ","1","XDSRetrievalSequence"],"0xE025":["SQ","1","WADORSRetrievalSequence"],"0xE030":["UI","1","RepositoryUniqueID"],"0xE031":["UI","1","HomeCommunityID"]},"0x0042":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["ST","1","DocumentTitle"],"0x0011":["OB","1","EncapsulatedDocument"],"0x0012":["LO","1","MIMETypeOfEncapsulatedDocument"],"0x0013":["SQ","1","SourceInstanceSequence"],"0x0014":["LO","1-n","ListOfMIMETypes"],"0x0015":["UL","1","EncapsulatedDocumentLength"]},"0x0044":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["ST","1","ProductPackageIdentifier"],"0x0002":["CS","1","SubstanceAdministrationApproval"],"0x0003":["LT","1","ApprovalStatusFurtherDescription"],"0x0004":["DT","1","ApprovalStatusDateTime"],"0x0007":["SQ","1","ProductTypeCodeSequence"],"0x0008":["LO","1-n","ProductName"],"0x0009":["LT","1","ProductDescription"],"0x000A":["LO","1","ProductLotIdentifier"],"0x000B":["DT","1","ProductExpirationDateTime"],"0x0010":["DT","1","SubstanceAdministrationDateTime"],"0x0011":["LO","1","SubstanceAdministrationNotes"],"0x0012":["LO","1","SubstanceAdministrationDeviceID"],"0x0013":["SQ","1","ProductParameterSequence"],"0x0019":["SQ","1","SubstanceAdministrationParameterSequence"],"0x0100":["SQ","1","ApprovalSequence"],"0x0101":["SQ","1","AssertionCodeSequence"],"0x0102":["UI","1","AssertionUID"],"0x0103":["SQ","1","AsserterIdentificationSequence"],"0x0104":["DT","1","AssertionDateTime"],"0x0105":["DT","1","AssertionExpirationDateTime"],"0x0106":["UT","1","AssertionComments"],"0x0107":["SQ","1","RelatedAssertionSequence"],"0x0108":["UI","1","ReferencedAssertionUID"],"0x0109":["SQ","1","ApprovalSubjectSequence"],"0x010A":["SQ","1","OrganizationalRoleCodeSequence"]},"0x0046":{"0x0000":["UL","1","GenericGroupLength"],"0x0012":["LO","1","LensDescription"],"0x0014":["SQ","1","RightLensSequence"],"0x0015":["SQ","1","LeftLensSequence"],"0x0016":["SQ","1","UnspecifiedLateralityLensSequence"],"0x0018":["SQ","1","CylinderSequence"],"0x0028":["SQ","1","PrismSequence"],"0x0030":["FD","1","HorizontalPrismPower"],"0x0032":["CS","1","HorizontalPrismBase"],"0x0034":["FD","1","VerticalPrismPower"],"0x0036":["CS","1","VerticalPrismBase"],"0x0038":["CS","1","LensSegmentType"],"0x0040":["FD","1","OpticalTransmittance"],"0x0042":["FD","1","ChannelWidth"],"0x0044":["FD","1","PupilSize"],"0x0046":["FD","1","CornealSize"],"0x0047":["SQ","1","CornealSizeSequence"],"0x0050":["SQ","1","AutorefractionRightEyeSequence"],"0x0052":["SQ","1","AutorefractionLeftEyeSequence"],"0x0060":["FD","1","DistancePupillaryDistance"],"0x0062":["FD","1","NearPupillaryDistance"],"0x0063":["FD","1","IntermediatePupillaryDistance"],"0x0064":["FD","1","OtherPupillaryDistance"],"0x0070":["SQ","1","KeratometryRightEyeSequence"],"0x0071":["SQ","1","KeratometryLeftEyeSequence"],"0x0074":["SQ","1","SteepKeratometricAxisSequence"],"0x0075":["FD","1","RadiusOfCurvature"],"0x0076":["FD","1","KeratometricPower"],"0x0077":["FD","1","KeratometricAxis"],"0x0080":["SQ","1","FlatKeratometricAxisSequence"],"0x0092":["CS","1","BackgroundColor"],"0x0094":["CS","1","Optotype"],"0x0095":["CS","1","OptotypePresentation"],"0x0097":["SQ","1","SubjectiveRefractionRightEyeSequence"],"0x0098":["SQ","1","SubjectiveRefractionLeftEyeSequence"],"0x0100":["SQ","1","AddNearSequence"],"0x0101":["SQ","1","AddIntermediateSequence"],"0x0102":["SQ","1","AddOtherSequence"],"0x0104":["FD","1","AddPower"],"0x0106":["FD","1","ViewingDistance"],"0x0110":["SQ","1","CorneaMeasurementsSequence"],"0x0111":["SQ","1","SourceOfCorneaMeasurementDataCodeSequence"],"0x0112":["SQ","1","SteepCornealAxisSequence"],"0x0113":["SQ","1","FlatCornealAxisSequence"],"0x0114":["FD","1","CornealPower"],"0x0115":["FD","1","CornealAxis"],"0x0116":["SQ","1","CorneaMeasurementMethodCodeSequence"],"0x0117":["FL","1","RefractiveIndexOfCornea"],"0x0118":["FL","1","RefractiveIndexOfAqueousHumor"],"0x0121":["SQ","1","VisualAcuityTypeCodeSequence"],"0x0122":["SQ","1","VisualAcuityRightEyeSequence"],"0x0123":["SQ","1","VisualAcuityLeftEyeSequence"],"0x0124":["SQ","1","VisualAcuityBothEyesOpenSequence"],"0x0125":["CS","1","ViewingDistanceType"],"0x0135":["SS","2","VisualAcuityModifiers"],"0x0137":["FD","1","DecimalVisualAcuity"],"0x0139":["LO","1","OptotypeDetailedDefinition"],"0x0145":["SQ","1","ReferencedRefractiveMeasurementsSequence"],"0x0146":["FD","1","SpherePower"],"0x0147":["FD","1","CylinderPower"],"0x0201":["CS","1","CornealTopographySurface"],"0x0202":["FL","2","CornealVertexLocation"],"0x0203":["FL","1","PupilCentroidXCoordinate"],"0x0204":["FL","1","PupilCentroidYCoordinate"],"0x0205":["FL","1","EquivalentPupilRadius"],"0x0207":["SQ","1","CornealTopographyMapTypeCodeSequence"],"0x0208":["IS","2-2n","VerticesOfTheOutlineOfPupil"],"0x0210":["SQ","1","CornealTopographyMappingNormalsSequence"],"0x0211":["SQ","1","MaximumCornealCurvatureSequence"],"0x0212":["FL","1","MaximumCornealCurvature"],"0x0213":["FL","2","MaximumCornealCurvatureLocation"],"0x0215":["SQ","1","MinimumKeratometricSequence"],"0x0218":["SQ","1","SimulatedKeratometricCylinderSequence"],"0x0220":["FL","1","AverageCornealPower"],"0x0224":["FL","1","CornealISValue"],"0x0227":["FL","1","AnalyzedArea"],"0x0230":["FL","1","SurfaceRegularityIndex"],"0x0232":["FL","1","SurfaceAsymmetryIndex"],"0x0234":["FL","1","CornealEccentricityIndex"],"0x0236":["FL","1","KeratoconusPredictionIndex"],"0x0238":["FL","1","DecimalPotentialVisualAcuity"],"0x0242":["CS","1","CornealTopographyMapQualityEvaluation"],"0x0244":["SQ","1","SourceImageCornealProcessedDataSequence"],"0x0247":["FL","3","CornealPointLocation"],"0x0248":["CS","1","CornealPointEstimated"],"0x0249":["FL","1","AxialPower"],"0x0250":["FL","1","TangentialPower"],"0x0251":["FL","1","RefractivePower"],"0x0252":["FL","1","RelativeElevation"],"0x0253":["FL","1","CornealWavefront"]},"0x0048":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["FL","1","ImagedVolumeWidth"],"0x0002":["FL","1","ImagedVolumeHeight"],"0x0003":["FL","1","ImagedVolumeDepth"],"0x0006":["UL","1","TotalPixelMatrixColumns"],"0x0007":["UL","1","TotalPixelMatrixRows"],"0x0008":["SQ","1","TotalPixelMatrixOriginSequence"],"0x0010":["CS","1","SpecimenLabelInImage"],"0x0011":["CS","1","FocusMethod"],"0x0012":["CS","1","ExtendedDepthOfField"],"0x0013":["US","1","NumberOfFocalPlanes"],"0x0014":["FL","1","DistanceBetweenFocalPlanes"],"0x0015":["US","3","RecommendedAbsentPixelCIELabValue"],"0x0100":["SQ","1","IlluminatorTypeCodeSequence"],"0x0102":["DS","6","ImageOrientationSlide"],"0x0105":["SQ","1","OpticalPathSequence"],"0x0106":["SH","1","OpticalPathIdentifier"],"0x0107":["ST","1","OpticalPathDescription"],"0x0108":["SQ","1","IlluminationColorCodeSequence"],"0x0110":["SQ","1","SpecimenReferenceSequence"],"0x0111":["DS","1","CondenserLensPower"],"0x0112":["DS","1","ObjectiveLensPower"],"0x0113":["DS","1","ObjectiveLensNumericalAperture"],"0x0120":["SQ","1","PaletteColorLookupTableSequence"],"0x0200":["SQ","1","ReferencedImageNavigationSequence"],"0x0201":["US","2","TopLeftHandCornerOfLocalizerArea"],"0x0202":["US","2","BottomRightHandCornerOfLocalizerArea"],"0x0207":["SQ","1","OpticalPathIdentificationSequence"],"0x021A":["SQ","1","PlanePositionSlideSequence"],"0x021E":["SL","1","ColumnPositionInTotalImagePixelMatrix"],"0x021F":["SL","1","RowPositionInTotalImagePixelMatrix"],"0x0301":["CS","1","PixelOriginInterpretation"],"0x0302":["UL","1","NumberOfOpticalPaths"],"0x0303":["UL","1","TotalPixelMatrixFocalPlanes"]},"0x0050":{"0x0000":["UL","1","GenericGroupLength"],"0x0004":["CS","1","CalibrationImage"],"0x0010":["SQ","1","DeviceSequence"],"0x0012":["SQ","1","ContainerComponentTypeCodeSequence"],"0x0013":["FD","1","ContainerComponentThickness"],"0x0014":["DS","1","DeviceLength"],"0x0015":["FD","1","ContainerComponentWidth"],"0x0016":["DS","1","DeviceDiameter"],"0x0017":["CS","1","DeviceDiameterUnits"],"0x0018":["DS","1","DeviceVolume"],"0x0019":["DS","1","InterMarkerDistance"],"0x001A":["CS","1","ContainerComponentMaterial"],"0x001B":["LO","1","ContainerComponentID"],"0x001C":["FD","1","ContainerComponentLength"],"0x001D":["FD","1","ContainerComponentDiameter"],"0x001E":["LO","1","ContainerComponentDescription"],"0x0020":["LO","1","DeviceDescription"],"0x0021":["ST","1","LongDeviceDescription"]},"0x0052":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["FL","1","ContrastBolusIngredientPercentByVolume"],"0x0002":["FD","1","OCTFocalDistance"],"0x0003":["FD","1","BeamSpotSize"],"0x0004":["FD","1","EffectiveRefractiveIndex"],"0x0006":["CS","1","OCTAcquisitionDomain"],"0x0007":["FD","1","OCTOpticalCenterWavelength"],"0x0008":["FD","1","AxialResolution"],"0x0009":["FD","1","RangingDepth"],"0x0011":["FD","1","ALineRate"],"0x0012":["US","1","ALinesPerFrame"],"0x0013":["FD","1","CatheterRotationalRate"],"0x0014":["FD","1","ALinePixelSpacing"],"0x0016":["SQ","1","ModeOfPercutaneousAccessSequence"],"0x0025":["SQ","1","IntravascularOCTFrameTypeSequence"],"0x0026":["CS","1","OCTZOffsetApplied"],"0x0027":["SQ","1","IntravascularFrameContentSequence"],"0x0028":["FD","1","IntravascularLongitudinalDistance"],"0x0029":["SQ","1","IntravascularOCTFrameContentSequence"],"0x0030":["SS","1","OCTZOffsetCorrection"],"0x0031":["CS","1","CatheterDirectionOfRotation"],"0x0033":["FD","1","SeamLineLocation"],"0x0034":["FD","1","FirstALineLocation"],"0x0036":["US","1","SeamLineIndex"],"0x0038":["US","1","NumberOfPaddedALines"],"0x0039":["CS","1","InterpolationType"],"0x003A":["CS","1","RefractiveIndexApplied"]},"0x0054":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","1-n","EnergyWindowVector"],"0x0011":["US","1","NumberOfEnergyWindows"],"0x0012":["SQ","1","EnergyWindowInformationSequence"],"0x0013":["SQ","1","EnergyWindowRangeSequence"],"0x0014":["DS","1","EnergyWindowLowerLimit"],"0x0015":["DS","1","EnergyWindowUpperLimit"],"0x0016":["SQ","1","RadiopharmaceuticalInformationSequence"],"0x0017":["IS","1","ResidualSyringeCounts"],"0x0018":["SH","1","EnergyWindowName"],"0x0020":["US","1-n","DetectorVector"],"0x0021":["US","1","NumberOfDetectors"],"0x0022":["SQ","1","DetectorInformationSequence"],"0x0030":["US","1-n","PhaseVector"],"0x0031":["US","1","NumberOfPhases"],"0x0032":["SQ","1","PhaseInformationSequence"],"0x0033":["US","1","NumberOfFramesInPhase"],"0x0036":["IS","1","PhaseDelay"],"0x0038":["IS","1","PauseBetweenFrames"],"0x0039":["CS","1","PhaseDescription"],"0x0050":["US","1-n","RotationVector"],"0x0051":["US","1","NumberOfRotations"],"0x0052":["SQ","1","RotationInformationSequence"],"0x0053":["US","1","NumberOfFramesInRotation"],"0x0060":["US","1-n","RRIntervalVector"],"0x0061":["US","1","NumberOfRRIntervals"],"0x0062":["SQ","1","GatedInformationSequence"],"0x0063":["SQ","1","DataInformationSequence"],"0x0070":["US","1-n","TimeSlotVector"],"0x0071":["US","1","NumberOfTimeSlots"],"0x0072":["SQ","1","TimeSlotInformationSequence"],"0x0073":["DS","1","TimeSlotTime"],"0x0080":["US","1-n","SliceVector"],"0x0081":["US","1","NumberOfSlices"],"0x0090":["US","1-n","AngularViewVector"],"0x0100":["US","1-n","TimeSliceVector"],"0x0101":["US","1","NumberOfTimeSlices"],"0x0200":["DS","1","StartAngle"],"0x0202":["CS","1","TypeOfDetectorMotion"],"0x0210":["IS","1-n","TriggerVector"],"0x0211":["US","1","NumberOfTriggersInPhase"],"0x0220":["SQ","1","ViewCodeSequence"],"0x0222":["SQ","1","ViewModifierCodeSequence"],"0x0300":["SQ","1","RadionuclideCodeSequence"],"0x0302":["SQ","1","AdministrationRouteCodeSequence"],"0x0304":["SQ","1","RadiopharmaceuticalCodeSequence"],"0x0306":["SQ","1","CalibrationDataSequence"],"0x0308":["US","1","EnergyWindowNumber"],"0x0400":["SH","1","ImageID"],"0x0410":["SQ","1","PatientOrientationCodeSequence"],"0x0412":["SQ","1","PatientOrientationModifierCodeSequence"],"0x0414":["SQ","1","PatientGantryRelationshipCodeSequence"],"0x0500":["CS","1","SliceProgressionDirection"],"0x0501":["CS","1","ScanProgressionDirection"],"0x1000":["CS","2","SeriesType"],"0x1001":["CS","1","Units"],"0x1002":["CS","1","CountsSource"],"0x1004":["CS","1","ReprojectionMethod"],"0x1006":["CS","1","SUVType"],"0x1100":["CS","1","RandomsCorrectionMethod"],"0x1101":["LO","1","AttenuationCorrectionMethod"],"0x1102":["CS","1","DecayCorrection"],"0x1103":["LO","1","ReconstructionMethod"],"0x1104":["LO","1","DetectorLinesOfResponseUsed"],"0x1105":["LO","1","ScatterCorrectionMethod"],"0x1200":["DS","1","AxialAcceptance"],"0x1201":["IS","2","AxialMash"],"0x1202":["IS","1","TransverseMash"],"0x1203":["DS","2","DetectorElementSize"],"0x1210":["DS","1","CoincidenceWindowWidth"],"0x1220":["CS","1-n","SecondaryCountsType"],"0x1300":["DS","1","FrameReferenceTime"],"0x1310":["IS","1","PrimaryPromptsCountsAccumulated"],"0x1311":["IS","1-n","SecondaryCountsAccumulated"],"0x1320":["DS","1","SliceSensitivityFactor"],"0x1321":["DS","1","DecayFactor"],"0x1322":["DS","1","DoseCalibrationFactor"],"0x1323":["DS","1","ScatterFractionFactor"],"0x1324":["DS","1","DeadTimeFactor"],"0x1330":["US","1","ImageIndex"],"0x1400":["CS","1-n","CountsIncluded"],"0x1401":["CS","1","DeadTimeCorrectionFlag"]},"0x0060":{"0x0000":["UL","1","GenericGroupLength"],"0x3000":["SQ","1","HistogramSequence"],"0x3002":["US","1","HistogramNumberOfBins"],"0x3004":["xs","1","HistogramFirstBinValue"],"0x3006":["xs","1","HistogramLastBinValue"],"0x3008":["US","1","HistogramBinWidth"],"0x3010":["LO","1","HistogramExplanation"],"0x3020":["UL","1-n","HistogramData"]},"0x0062":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","SegmentationType"],"0x0002":["SQ","1","SegmentSequence"],"0x0003":["SQ","1","SegmentedPropertyCategoryCodeSequence"],"0x0004":["US","1","SegmentNumber"],"0x0005":["LO","1","SegmentLabel"],"0x0006":["ST","1","SegmentDescription"],"0x0007":["SQ","1","SegmentationAlgorithmIdentificationSequence"],"0x0008":["CS","1","SegmentAlgorithmType"],"0x0009":["LO","1-n","SegmentAlgorithmName"],"0x000A":["SQ","1","SegmentIdentificationSequence"],"0x000B":["US","1-n","ReferencedSegmentNumber"],"0x000C":["US","1","RecommendedDisplayGrayscaleValue"],"0x000D":["US","3","RecommendedDisplayCIELabValue"],"0x000E":["US","1","MaximumFractionalValue"],"0x000F":["SQ","1","SegmentedPropertyTypeCodeSequence"],"0x0010":["CS","1","SegmentationFractionalType"],"0x0011":["SQ","1","SegmentedPropertyTypeModifierCodeSequence"],"0x0012":["SQ","1","UsedSegmentsSequence"],"0x0013":["CS","1","SegmentsOverlap"],"0x0020":["UT","1","TrackingID"],"0x0021":["UI","1","TrackingUID"]},"0x0064":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SQ","1","DeformableRegistrationSequence"],"0x0003":["UI","1","SourceFrameOfReferenceUID"],"0x0005":["SQ","1","DeformableRegistrationGridSequence"],"0x0007":["UL","3","GridDimensions"],"0x0008":["FD","3","GridResolution"],"0x0009":["OF","1","VectorGridData"],"0x000F":["SQ","1","PreDeformationMatrixRegistrationSequence"],"0x0010":["SQ","1","PostDeformationMatrixRegistrationSequence"]},"0x0066":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["UL","1","NumberOfSurfaces"],"0x0002":["SQ","1","SurfaceSequence"],"0x0003":["UL","1","SurfaceNumber"],"0x0004":["LT","1","SurfaceComments"],"0x0009":["CS","1","SurfaceProcessing"],"0x000A":["FL","1","SurfaceProcessingRatio"],"0x000B":["LO","1","SurfaceProcessingDescription"],"0x000C":["FL","1","RecommendedPresentationOpacity"],"0x000D":["CS","1","RecommendedPresentationType"],"0x000E":["CS","1","FiniteVolume"],"0x0010":["CS","1","Manifold"],"0x0011":["SQ","1","SurfacePointsSequence"],"0x0012":["SQ","1","SurfacePointsNormalsSequence"],"0x0013":["SQ","1","SurfaceMeshPrimitivesSequence"],"0x0015":["UL","1","NumberOfSurfacePoints"],"0x0016":["OF","1","PointCoordinatesData"],"0x0017":["FL","3","PointPositionAccuracy"],"0x0018":["FL","1","MeanPointDistance"],"0x0019":["FL","1","MaximumPointDistance"],"0x001A":["FL","6","PointsBoundingBoxCoordinates"],"0x001B":["FL","3","AxisOfRotation"],"0x001C":["FL","3","CenterOfRotation"],"0x001E":["UL","1","NumberOfVectors"],"0x001F":["US","1","VectorDimensionality"],"0x0020":["FL","1-n","VectorAccuracy"],"0x0021":["OF","1","VectorCoordinateData"],"0x0022":["OD","1","DoublePointCoordinatesData"],"0x0023":["OW","1","TrianglePointIndexList"],"0x0024":["OW","1","EdgePointIndexList"],"0x0025":["OW","1","VertexPointIndexList"],"0x0026":["SQ","1","TriangleStripSequence"],"0x0027":["SQ","1","TriangleFanSequence"],"0x0028":["SQ","1","LineSequence"],"0x0029":["OW","1","PrimitivePointIndexList"],"0x002A":["UL","1","SurfaceCount"],"0x002B":["SQ","1","ReferencedSurfaceSequence"],"0x002C":["UL","1","ReferencedSurfaceNumber"],"0x002D":["SQ","1","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"0x002E":["SQ","1","SegmentSurfaceSourceInstanceSequence"],"0x002F":["SQ","1","AlgorithmFamilyCodeSequence"],"0x0030":["SQ","1","AlgorithmNameCodeSequence"],"0x0031":["LO","1","AlgorithmVersion"],"0x0032":["LT","1","AlgorithmParameters"],"0x0034":["SQ","1","FacetSequence"],"0x0035":["SQ","1","SurfaceProcessingAlgorithmIdentificationSequence"],"0x0036":["LO","1","AlgorithmName"],"0x0037":["FL","1","RecommendedPointRadius"],"0x0038":["FL","1","RecommendedLineThickness"],"0x0040":["OL","1","LongPrimitivePointIndexList"],"0x0041":["OL","1","LongTrianglePointIndexList"],"0x0042":["OL","1","LongEdgePointIndexList"],"0x0043":["OL","1","LongVertexPointIndexList"],"0x0101":["SQ","1","TrackSetSequence"],"0x0102":["SQ","1","TrackSequence"],"0x0103":["OW","1","RecommendedDisplayCIELabValueList"],"0x0104":["SQ","1","TrackingAlgorithmIdentificationSequence"],"0x0105":["UL","1","TrackSetNumber"],"0x0106":["LO","1","TrackSetLabel"],"0x0107":["UT","1","TrackSetDescription"],"0x0108":["SQ","1","TrackSetAnatomicalTypeCodeSequence"],"0x0121":["SQ","1","MeasurementsSequence"],"0x0124":["SQ","1","TrackSetStatisticsSequence"],"0x0125":["OF","1","FloatingPointValues"],"0x0129":["OL","1","TrackPointIndexList"],"0x0130":["SQ","1","TrackStatisticsSequence"],"0x0132":["SQ","1","MeasurementValuesSequence"],"0x0133":["SQ","1","DiffusionAcquisitionCodeSequence"],"0x0134":["SQ","1","DiffusionModelCodeSequence"]},"0x0068":{"0x0000":["UL","1","GenericGroupLength"],"0x6210":["LO","1","ImplantSize"],"0x6221":["LO","1","ImplantTemplateVersion"],"0x6222":["SQ","1","ReplacedImplantTemplateSequence"],"0x6223":["CS","1","ImplantType"],"0x6224":["SQ","1","DerivationImplantTemplateSequence"],"0x6225":["SQ","1","OriginalImplantTemplateSequence"],"0x6226":["DT","1","EffectiveDateTime"],"0x6230":["SQ","1","ImplantTargetAnatomySequence"],"0x6260":["SQ","1","InformationFromManufacturerSequence"],"0x6265":["SQ","1","NotificationFromManufacturerSequence"],"0x6270":["DT","1","InformationIssueDateTime"],"0x6280":["ST","1","InformationSummary"],"0x62A0":["SQ","1","ImplantRegulatoryDisapprovalCodeSequence"],"0x62A5":["FD","1","OverallTemplateSpatialTolerance"],"0x62C0":["SQ","1","HPGLDocumentSequence"],"0x62D0":["US","1","HPGLDocumentID"],"0x62D5":["LO","1","HPGLDocumentLabel"],"0x62E0":["SQ","1","ViewOrientationCodeSequence"],"0x62F0":["SQ","1","ViewOrientationModifierCodeSequence"],"0x62F2":["FD","1","HPGLDocumentScaling"],"0x6300":["OB","1","HPGLDocument"],"0x6310":["US","1","HPGLContourPenNumber"],"0x6320":["SQ","1","HPGLPenSequence"],"0x6330":["US","1","HPGLPenNumber"],"0x6340":["LO","1","HPGLPenLabel"],"0x6345":["ST","1","HPGLPenDescription"],"0x6346":["FD","2","RecommendedRotationPoint"],"0x6347":["FD","4","BoundingRectangle"],"0x6350":["US","1-n","ImplantTemplate3DModelSurfaceNumber"],"0x6360":["SQ","1","SurfaceModelDescriptionSequence"],"0x6380":["LO","1","SurfaceModelLabel"],"0x6390":["FD","1","SurfaceModelScalingFactor"],"0x63A0":["SQ","1","MaterialsCodeSequence"],"0x63A4":["SQ","1","CoatingMaterialsCodeSequence"],"0x63A8":["SQ","1","ImplantTypeCodeSequence"],"0x63AC":["SQ","1","FixationMethodCodeSequence"],"0x63B0":["SQ","1","MatingFeatureSetsSequence"],"0x63C0":["US","1","MatingFeatureSetID"],"0x63D0":["LO","1","MatingFeatureSetLabel"],"0x63E0":["SQ","1","MatingFeatureSequence"],"0x63F0":["US","1","MatingFeatureID"],"0x6400":["SQ","1","MatingFeatureDegreeOfFreedomSequence"],"0x6410":["US","1","DegreeOfFreedomID"],"0x6420":["CS","1","DegreeOfFreedomType"],"0x6430":["SQ","1","TwoDMatingFeatureCoordinatesSequence"],"0x6440":["US","1","ReferencedHPGLDocumentID"],"0x6450":["FD","2","TwoDMatingPoint"],"0x6460":["FD","4","TwoDMatingAxes"],"0x6470":["SQ","1","TwoDDegreeOfFreedomSequence"],"0x6490":["FD","3","ThreeDDegreeOfFreedomAxis"],"0x64A0":["FD","2","RangeOfFreedom"],"0x64C0":["FD","3","ThreeDMatingPoint"],"0x64D0":["FD","9","ThreeDMatingAxes"],"0x64F0":["FD","3","TwoDDegreeOfFreedomAxis"],"0x6500":["SQ","1","PlanningLandmarkPointSequence"],"0x6510":["SQ","1","PlanningLandmarkLineSequence"],"0x6520":["SQ","1","PlanningLandmarkPlaneSequence"],"0x6530":["US","1","PlanningLandmarkID"],"0x6540":["LO","1","PlanningLandmarkDescription"],"0x6545":["SQ","1","PlanningLandmarkIdentificationCodeSequence"],"0x6550":["SQ","1","TwoDPointCoordinatesSequence"],"0x6560":["FD","2","TwoDPointCoordinates"],"0x6590":["FD","3","ThreeDPointCoordinates"],"0x65A0":["SQ","1","TwoDLineCoordinatesSequence"],"0x65B0":["FD","4","TwoDLineCoordinates"],"0x65D0":["FD","6","ThreeDLineCoordinates"],"0x65E0":["SQ","1","TwoDPlaneCoordinatesSequence"],"0x65F0":["FD","4","TwoDPlaneIntersection"],"0x6610":["FD","3","ThreeDPlaneOrigin"],"0x6620":["FD","3","ThreeDPlaneNormal"],"0x7001":["CS","1","ModelModification"],"0x7002":["CS","1","ModelMirroring"],"0x7003":["SQ","1","ModelUsageCodeSequence"],"0x7004":["UI","1","ModelGroupUID"],"0x7005":["UR","1","RelativeURIReferenceWithinEncapsulatedDocument"]},"0x006A":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","AnnotationCoordinateType"],"0x0002":["SQ","1","AnnotationGroupSequence"],"0x0003":["UI","1","AnnotationGroupUID"],"0x0005":["LO","1","AnnotationGroupLabel"],"0x0006":["UT","1","AnnotationGroupDescription"],"0x0007":["CS","1","AnnotationGroupGenerationType"],"0x0008":["SQ","1","AnnotationGroupAlgorithmIdentificationSequence"],"0x0009":["SQ","1","AnnotationPropertyCategoryCodeSequence"],"0x000A":["SQ","1","AnnotationPropertyTypeCodeSequence"],"0x000B":["SQ","1","AnnotationPropertyTypeModifierCodeSequence"],"0x000C":["UL","1","NumberOfAnnotations"],"0x000D":["CS","1","AnnotationAppliesToAllOpticalPaths"],"0x000E":["SH","1-n","ReferencedOpticalPathIdentifier"],"0x000F":["CS","1","AnnotationAppliesToAllZPlanes"],"0x0010":["FD","1-n","CommonZCoordinateValue"],"0x0011":["OL","1","AnnotationIndexList"]},"0x0070":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["SQ","1","GraphicAnnotationSequence"],"0x0002":["CS","1","GraphicLayer"],"0x0003":["CS","1","BoundingBoxAnnotationUnits"],"0x0004":["CS","1","AnchorPointAnnotationUnits"],"0x0005":["CS","1","GraphicAnnotationUnits"],"0x0006":["ST","1","UnformattedTextValue"],"0x0008":["SQ","1","TextObjectSequence"],"0x0009":["SQ","1","GraphicObjectSequence"],"0x0010":["FL","2","BoundingBoxTopLeftHandCorner"],"0x0011":["FL","2","BoundingBoxBottomRightHandCorner"],"0x0012":["CS","1","BoundingBoxTextHorizontalJustification"],"0x0014":["FL","2","AnchorPoint"],"0x0015":["CS","1","AnchorPointVisibility"],"0x0020":["US","1","GraphicDimensions"],"0x0021":["US","1","NumberOfGraphicPoints"],"0x0022":["FL","2-n","GraphicData"],"0x0023":["CS","1","GraphicType"],"0x0024":["CS","1","GraphicFilled"],"0x0040":["IS","1","ImageRotationRetired"],"0x0041":["CS","1","ImageHorizontalFlip"],"0x0042":["US","1","ImageRotation"],"0x0050":["US","2","DisplayedAreaTopLeftHandCornerTrial"],"0x0051":["US","2","DisplayedAreaBottomRightHandCornerTrial"],"0x0052":["SL","2","DisplayedAreaTopLeftHandCorner"],"0x0053":["SL","2","DisplayedAreaBottomRightHandCorner"],"0x005A":["SQ","1","DisplayedAreaSelectionSequence"],"0x0060":["SQ","1","GraphicLayerSequence"],"0x0062":["IS","1","GraphicLayerOrder"],"0x0066":["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],"0x0067":["US","3","GraphicLayerRecommendedDisplayRGBValue"],"0x0068":["LO","1","GraphicLayerDescription"],"0x0080":["CS","1","ContentLabel"],"0x0081":["LO","1","ContentDescription"],"0x0082":["DA","1","PresentationCreationDate"],"0x0083":["TM","1","PresentationCreationTime"],"0x0084":["PN","1","ContentCreatorName"],"0x0086":["SQ","1","ContentCreatorIdentificationCodeSequence"],"0x0087":["SQ","1","AlternateContentDescriptionSequence"],"0x0100":["CS","1","PresentationSizeMode"],"0x0101":["DS","2","PresentationPixelSpacing"],"0x0102":["IS","2","PresentationPixelAspectRatio"],"0x0103":["FL","1","PresentationPixelMagnificationRatio"],"0x0207":["LO","1","GraphicGroupLabel"],"0x0208":["ST","1","GraphicGroupDescription"],"0x0209":["SQ","1","CompoundGraphicSequence"],"0x0226":["UL","1","CompoundGraphicInstanceID"],"0x0227":["LO","1","FontName"],"0x0228":["CS","1","FontNameType"],"0x0229":["LO","1","CSSFontName"],"0x0230":["FD","1","RotationAngle"],"0x0231":["SQ","1","TextStyleSequence"],"0x0232":["SQ","1","LineStyleSequence"],"0x0233":["SQ","1","FillStyleSequence"],"0x0234":["SQ","1","GraphicGroupSequence"],"0x0241":["US","3","TextColorCIELabValue"],"0x0242":["CS","1","HorizontalAlignment"],"0x0243":["CS","1","VerticalAlignment"],"0x0244":["CS","1","ShadowStyle"],"0x0245":["FL","1","ShadowOffsetX"],"0x0246":["FL","1","ShadowOffsetY"],"0x0247":["US","3","ShadowColorCIELabValue"],"0x0248":["CS","1","Underlined"],"0x0249":["CS","1","Bold"],"0x0250":["CS","1","Italic"],"0x0251":["US","3","PatternOnColorCIELabValue"],"0x0252":["US","3","PatternOffColorCIELabValue"],"0x0253":["FL","1","LineThickness"],"0x0254":["CS","1","LineDashingStyle"],"0x0255":["UL","1","LinePattern"],"0x0256":["OB","1","FillPattern"],"0x0257":["CS","1","FillMode"],"0x0258":["FL","1","ShadowOpacity"],"0x0261":["FL","1","GapLength"],"0x0262":["FL","1","DiameterOfVisibility"],"0x0273":["FL","2","RotationPoint"],"0x0274":["CS","1","TickAlignment"],"0x0278":["CS","1","ShowTickLabel"],"0x0279":["CS","1","TickLabelAlignment"],"0x0282":["CS","1","CompoundGraphicUnits"],"0x0284":["FL","1","PatternOnOpacity"],"0x0285":["FL","1","PatternOffOpacity"],"0x0287":["SQ","1","MajorTicksSequence"],"0x0288":["FL","1","TickPosition"],"0x0289":["SH","1","TickLabel"],"0x0294":["CS","1","CompoundGraphicType"],"0x0295":["UL","1","GraphicGroupID"],"0x0306":["CS","1","ShapeType"],"0x0308":["SQ","1","RegistrationSequence"],"0x0309":["SQ","1","MatrixRegistrationSequence"],"0x030A":["SQ","1","MatrixSequence"],"0x030B":["FD","16","FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix"],"0x030C":["CS","1","FrameOfReferenceTransformationMatrixType"],"0x030D":["SQ","1","RegistrationTypeCodeSequence"],"0x030F":["ST","1","FiducialDescription"],"0x0310":["SH","1","FiducialIdentifier"],"0x0311":["SQ","1","FiducialIdentifierCodeSequence"],"0x0312":["FD","1","ContourUncertaintyRadius"],"0x0314":["SQ","1","UsedFiducialsSequence"],"0x0318":["SQ","1","GraphicCoordinatesDataSequence"],"0x031A":["UI","1","FiducialUID"],"0x031B":["UI","1","ReferencedFiducialUID"],"0x031C":["SQ","1","FiducialSetSequence"],"0x031E":["SQ","1","FiducialSequence"],"0x031F":["SQ","1","FiducialsPropertyCategoryCodeSequence"],"0x0401":["US","3","GraphicLayerRecommendedDisplayCIELabValue"],"0x0402":["SQ","1","BlendingSequence"],"0x0403":["FL","1","RelativeOpacity"],"0x0404":["SQ","1","ReferencedSpatialRegistrationSequence"],"0x0405":["CS","1","BlendingPosition"],"0x1101":["UI","1","PresentationDisplayCollectionUID"],"0x1102":["UI","1","PresentationSequenceCollectionUID"],"0x1103":["US","1","PresentationSequencePositionIndex"],"0x1104":["SQ","1","RenderedImageReferenceSequence"],"0x1201":["SQ","1","VolumetricPresentationStateInputSequence"],"0x1202":["CS","1","PresentationInputType"],"0x1203":["US","1","InputSequencePositionIndex"],"0x1204":["CS","1","Crop"],"0x1205":["US","1-n","CroppingSpecificationIndex"],"0x1206":["CS","1","CompositingMethod"],"0x1207":["US","1","VolumetricPresentationInputNumber"],"0x1208":["CS","1","ImageVolumeGeometry"],"0x1209":["UI","1","VolumetricPresentationInputSetUID"],"0x120A":["SQ","1","VolumetricPresentationInputSetSequence"],"0x120B":["CS","1","GlobalCrop"],"0x120C":["US","1-n","GlobalCroppingSpecificationIndex"],"0x120D":["CS","1","RenderingMethod"],"0x1301":["SQ","1","VolumeCroppingSequence"],"0x1302":["CS","1","VolumeCroppingMethod"],"0x1303":["FD","6","BoundingBoxCrop"],"0x1304":["SQ","1","ObliqueCroppingPlaneSequence"],"0x1305":["FD","4","Plane"],"0x1306":["FD","3","PlaneNormal"],"0x1309":["US","1","CroppingSpecificationNumber"],"0x1501":["CS","1","MultiPlanarReconstructionStyle"],"0x1502":["CS","1","MPRThicknessType"],"0x1503":["FD","1","MPRSlabThickness"],"0x1505":["FD","3","MPRTopLeftHandCorner"],"0x1507":["FD","3","MPRViewWidthDirection"],"0x1508":["FD","1","MPRViewWidth"],"0x150C":["UL","1","NumberOfVolumetricCurvePoints"],"0x150D":["OD","1","VolumetricCurvePoints"],"0x1511":["FD","3","MPRViewHeightDirection"],"0x1512":["FD","1","MPRViewHeight"],"0x1602":["CS","1","RenderProjection"],"0x1603":["FD","3","ViewpointPosition"],"0x1604":["FD","3","ViewpointLookAtPoint"],"0x1605":["FD","3","ViewpointUpDirection"],"0x1606":["FD","6","RenderFieldOfView"],"0x1607":["FD","1","SamplingStepSize"],"0x1701":["CS","1","ShadingStyle"],"0x1702":["FD","1","AmbientReflectionIntensity"],"0x1703":["FD","3","LightDirection"],"0x1704":["FD","1","DiffuseReflectionIntensity"],"0x1705":["FD","1","SpecularReflectionIntensity"],"0x1706":["FD","1","Shininess"],"0x1801":["SQ","1","PresentationStateClassificationComponentSequence"],"0x1802":["CS","1","ComponentType"],"0x1803":["SQ","1","ComponentInputSequence"],"0x1804":["US","1","VolumetricPresentationInputIndex"],"0x1805":["SQ","1","PresentationStateCompositorComponentSequence"],"0x1806":["SQ","1","WeightingTransferFunctionSequence"],"0x1807":["US","3","WeightingLookupTableDescriptor"],"0x1808":["OB","1","WeightingLookupTableData"],"0x1901":["SQ","1","VolumetricAnnotationSequence"],"0x1903":["SQ","1","ReferencedStructuredContextSequence"],"0x1904":["UI","1","ReferencedContentItem"],"0x1905":["SQ","1","VolumetricPresentationInputAnnotationSequence"],"0x1907":["CS","1","AnnotationClipping"],"0x1A01":["CS","1","PresentationAnimationStyle"],"0x1A03":["FD","1","RecommendedAnimationRate"],"0x1A04":["SQ","1","AnimationCurveSequence"],"0x1A05":["FD","1","AnimationStepSize"],"0x1A06":["FD","1","SwivelRange"],"0x1A07":["OD","1","VolumetricCurveUpDirections"],"0x1A08":["SQ","1","VolumeStreamSequence"],"0x1A09":["LO","1","RGBATransferFunctionDescription"],"0x1B01":["SQ","1","AdvancedBlendingSequence"],"0x1B02":["US","1","BlendingInputNumber"],"0x1B03":["SQ","1","BlendingDisplayInputSequence"],"0x1B04":["SQ","1","BlendingDisplaySequence"],"0x1B06":["CS","1","BlendingMode"],"0x1B07":["CS","1","TimeSeriesBlending"],"0x1B08":["CS","1","GeometryForDisplay"],"0x1B11":["SQ","1","ThresholdSequence"],"0x1B12":["SQ","1","ThresholdValueSequence"],"0x1B13":["CS","1","ThresholdType"],"0x1B14":["FD","1","ThresholdValue"]},"0x0072":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SH","1","HangingProtocolName"],"0x0004":["LO","1","HangingProtocolDescription"],"0x0006":["CS","1","HangingProtocolLevel"],"0x0008":["LO","1","HangingProtocolCreator"],"0x000A":["DT","1","HangingProtocolCreationDateTime"],"0x000C":["SQ","1","HangingProtocolDefinitionSequence"],"0x000E":["SQ","1","HangingProtocolUserIdentificationCodeSequence"],"0x0010":["LO","1","HangingProtocolUserGroupName"],"0x0012":["SQ","1","SourceHangingProtocolSequence"],"0x0014":["US","1","NumberOfPriorsReferenced"],"0x0020":["SQ","1","ImageSetsSequence"],"0x0022":["SQ","1","ImageSetSelectorSequence"],"0x0024":["CS","1","ImageSetSelectorUsageFlag"],"0x0026":["AT","1","SelectorAttribute"],"0x0028":["US","1","SelectorValueNumber"],"0x0030":["SQ","1","TimeBasedImageSetsSequence"],"0x0032":["US","1","ImageSetNumber"],"0x0034":["CS","1","ImageSetSelectorCategory"],"0x0038":["US","2","RelativeTime"],"0x003A":["CS","1","RelativeTimeUnits"],"0x003C":["SS","2","AbstractPriorValue"],"0x003E":["SQ","1","AbstractPriorCodeSequence"],"0x0040":["LO","1","ImageSetLabel"],"0x0050":["CS","1","SelectorAttributeVR"],"0x0052":["AT","1-n","SelectorSequencePointer"],"0x0054":["LO","1-n","SelectorSequencePointerPrivateCreator"],"0x0056":["LO","1","SelectorAttributePrivateCreator"],"0x005E":["AE","1-n","SelectorAEValue"],"0x005F":["AS","1-n","SelectorASValue"],"0x0060":["AT","1-n","SelectorATValue"],"0x0061":["DA","1-n","SelectorDAValue"],"0x0062":["CS","1-n","SelectorCSValue"],"0x0063":["DT","1-n","SelectorDTValue"],"0x0064":["IS","1-n","SelectorISValue"],"0x0065":["OB","1","SelectorOBValue"],"0x0066":["LO","1-n","SelectorLOValue"],"0x0067":["OF","1","SelectorOFValue"],"0x0068":["LT","1","SelectorLTValue"],"0x0069":["OW","1","SelectorOWValue"],"0x006A":["PN","1-n","SelectorPNValue"],"0x006B":["TM","1-n","SelectorTMValue"],"0x006C":["SH","1-n","SelectorSHValue"],"0x006D":["UN","1","SelectorUNValue"],"0x006E":["ST","1","SelectorSTValue"],"0x006F":["UC","1-n","SelectorUCValue"],"0x0070":["UT","1","SelectorUTValue"],"0x0071":["UR","1","SelectorURValue"],"0x0072":["DS","1-n","SelectorDSValue"],"0x0073":["OD","1","SelectorODValue"],"0x0074":["FD","1-n","SelectorFDValue"],"0x0075":["OL","1","SelectorOLValue"],"0x0076":["FL","1-n","SelectorFLValue"],"0x0078":["UL","1-n","SelectorULValue"],"0x007A":["US","1-n","SelectorUSValue"],"0x007C":["SL","1-n","SelectorSLValue"],"0x007E":["SS","1-n","SelectorSSValue"],"0x007F":["UI","1-n","SelectorUIValue"],"0x0080":["SQ","1","SelectorCodeSequenceValue"],"0x0081":["OV","1","SelectorOVValue"],"0x0082":["SV","1-n","SelectorSVValue"],"0x0083":["UV","1-n","SelectorUVValue"],"0x0100":["US","1","NumberOfScreens"],"0x0102":["SQ","1","NominalScreenDefinitionSequence"],"0x0104":["US","1","NumberOfVerticalPixels"],"0x0106":["US","1","NumberOfHorizontalPixels"],"0x0108":["FD","4","DisplayEnvironmentSpatialPosition"],"0x010A":["US","1","ScreenMinimumGrayscaleBitDepth"],"0x010C":["US","1","ScreenMinimumColorBitDepth"],"0x010E":["US","1","ApplicationMaximumRepaintTime"],"0x0200":["SQ","1","DisplaySetsSequence"],"0x0202":["US","1","DisplaySetNumber"],"0x0203":["LO","1","DisplaySetLabel"],"0x0204":["US","1","DisplaySetPresentationGroup"],"0x0206":["LO","1","DisplaySetPresentationGroupDescription"],"0x0208":["CS","1","PartialDataDisplayHandling"],"0x0210":["SQ","1","SynchronizedScrollingSequence"],"0x0212":["US","2-n","DisplaySetScrollingGroup"],"0x0214":["SQ","1","NavigationIndicatorSequence"],"0x0216":["US","1","NavigationDisplaySet"],"0x0218":["US","1-n","ReferenceDisplaySets"],"0x0300":["SQ","1","ImageBoxesSequence"],"0x0302":["US","1","ImageBoxNumber"],"0x0304":["CS","1","ImageBoxLayoutType"],"0x0306":["US","1","ImageBoxTileHorizontalDimension"],"0x0308":["US","1","ImageBoxTileVerticalDimension"],"0x0310":["CS","1","ImageBoxScrollDirection"],"0x0312":["CS","1","ImageBoxSmallScrollType"],"0x0314":["US","1","ImageBoxSmallScrollAmount"],"0x0316":["CS","1","ImageBoxLargeScrollType"],"0x0318":["US","1","ImageBoxLargeScrollAmount"],"0x0320":["US","1","ImageBoxOverlapPriority"],"0x0330":["FD","1","CineRelativeToRealTime"],"0x0400":["SQ","1","FilterOperationsSequence"],"0x0402":["CS","1","FilterByCategory"],"0x0404":["CS","1","FilterByAttributePresence"],"0x0406":["CS","1","FilterByOperator"],"0x0420":["US","3","StructuredDisplayBackgroundCIELabValue"],"0x0421":["US","3","EmptyImageBoxCIELabValue"],"0x0422":["SQ","1","StructuredDisplayImageBoxSequence"],"0x0424":["SQ","1","StructuredDisplayTextBoxSequence"],"0x0427":["SQ","1","ReferencedFirstFrameSequence"],"0x0430":["SQ","1","ImageBoxSynchronizationSequence"],"0x0432":["US","2-n","SynchronizedImageBoxList"],"0x0434":["CS","1","TypeOfSynchronization"],"0x0500":["CS","1","BlendingOperationType"],"0x0510":["CS","1","ReformattingOperationType"],"0x0512":["FD","1","ReformattingThickness"],"0x0514":["FD","1","ReformattingInterval"],"0x0516":["CS","1","ReformattingOperationInitialViewDirection"],"0x0520":["CS","1-n","ThreeDRenderingType"],"0x0600":["SQ","1","SortingOperationsSequence"],"0x0602":["CS","1","SortByCategory"],"0x0604":["CS","1","SortingDirection"],"0x0700":["CS","2","DisplaySetPatientOrientation"],"0x0702":["CS","1","VOIType"],"0x0704":["CS","1","PseudoColorType"],"0x0705":["SQ","1","PseudoColorPaletteInstanceReferenceSequence"],"0x0706":["CS","1","ShowGrayscaleInverted"],"0x0710":["CS","1","ShowImageTrueSizeFlag"],"0x0712":["CS","1","ShowGraphicAnnotationFlag"],"0x0714":["CS","1","ShowPatientDemographicsFlag"],"0x0716":["CS","1","ShowAcquisitionTechniquesFlag"],"0x0717":["CS","1","DisplaySetHorizontalJustification"],"0x0718":["CS","1","DisplaySetVerticalJustification"]},"0x0074":{"0x0000":["UL","1","GenericGroupLength"],"0x0120":["FD","1","ContinuationStartMeterset"],"0x0121":["FD","1","ContinuationEndMeterset"],"0x1000":["CS","1","ProcedureStepState"],"0x1002":["SQ","1","ProcedureStepProgressInformationSequence"],"0x1004":["DS","1","ProcedureStepProgress"],"0x1006":["ST","1","ProcedureStepProgressDescription"],"0x1007":["SQ","1","ProcedureStepProgressParametersSequence"],"0x1008":["SQ","1","ProcedureStepCommunicationsURISequence"],"0x100A":["UR","1","ContactURI"],"0x100C":["LO","1","ContactDisplayName"],"0x100E":["SQ","1","ProcedureStepDiscontinuationReasonCodeSequence"],"0x1020":["SQ","1","BeamTaskSequence"],"0x1022":["CS","1","BeamTaskType"],"0x1024":["IS","1","BeamOrderIndexTrial"],"0x1025":["CS","1","AutosequenceFlag"],"0x1026":["FD","1","TableTopVerticalAdjustedPosition"],"0x1027":["FD","1","TableTopLongitudinalAdjustedPosition"],"0x1028":["FD","1","TableTopLateralAdjustedPosition"],"0x102A":["FD","1","PatientSupportAdjustedAngle"],"0x102B":["FD","1","TableTopEccentricAdjustedAngle"],"0x102C":["FD","1","TableTopPitchAdjustedAngle"],"0x102D":["FD","1","TableTopRollAdjustedAngle"],"0x1030":["SQ","1","DeliveryVerificationImageSequence"],"0x1032":["CS","1","VerificationImageTiming"],"0x1034":["CS","1","DoubleExposureFlag"],"0x1036":["CS","1","DoubleExposureOrdering"],"0x1038":["DS","1","DoubleExposureMetersetTrial"],"0x103A":["DS","4","DoubleExposureFieldDeltaTrial"],"0x1040":["SQ","1","RelatedReferenceRTImageSequence"],"0x1042":["SQ","1","GeneralMachineVerificationSequence"],"0x1044":["SQ","1","ConventionalMachineVerificationSequence"],"0x1046":["SQ","1","IonMachineVerificationSequence"],"0x1048":["SQ","1","FailedAttributesSequence"],"0x104A":["SQ","1","OverriddenAttributesSequence"],"0x104C":["SQ","1","ConventionalControlPointVerificationSequence"],"0x104E":["SQ","1","IonControlPointVerificationSequence"],"0x1050":["SQ","1","AttributeOccurrenceSequence"],"0x1052":["AT","1","AttributeOccurrencePointer"],"0x1054":["UL","1","AttributeItemSelector"],"0x1056":["LO","1","AttributeOccurrencePrivateCreator"],"0x1057":["IS","1-n","SelectorSequencePointerItems"],"0x1200":["CS","1","ScheduledProcedureStepPriority"],"0x1202":["LO","1","WorklistLabel"],"0x1204":["LO","1","ProcedureStepLabel"],"0x1210":["SQ","1","ScheduledProcessingParametersSequence"],"0x1212":["SQ","1","PerformedProcessingParametersSequence"],"0x1216":["SQ","1","UnifiedProcedureStepPerformedProcedureSequence"],"0x1220":["SQ","1","RelatedProcedureStepSequence"],"0x1222":["LO","1","ProcedureStepRelationshipType"],"0x1224":["SQ","1","ReplacedProcedureStepSequence"],"0x1230":["LO","1","DeletionLock"],"0x1234":["AE","1","ReceivingAE"],"0x1236":["AE","1","RequestingAE"],"0x1238":["LT","1","ReasonForCancellation"],"0x1242":["CS","1","SCPStatus"],"0x1244":["CS","1","SubscriptionListStatus"],"0x1246":["CS","1","UnifiedProcedureStepListStatus"],"0x1324":["UL","1","BeamOrderIndex"],"0x1338":["FD","1","DoubleExposureMeterset"],"0x133A":["FD","4","DoubleExposureFieldDelta"],"0x1401":["SQ","1","BrachyTaskSequence"],"0x1402":["DS","1","ContinuationStartTotalReferenceAirKerma"],"0x1403":["DS","1","ContinuationEndTotalReferenceAirKerma"],"0x1404":["IS","1","ContinuationPulseNumber"],"0x1405":["SQ","1","ChannelDeliveryOrderSequence"],"0x1406":["IS","1","ReferencedChannelNumber"],"0x1407":["DS","1","StartCumulativeTimeWeight"],"0x1408":["DS","1","EndCumulativeTimeWeight"],"0x1409":["SQ","1","OmittedChannelSequence"],"0x140A":["CS","1","ReasonForChannelOmission"],"0x140B":["LO","1","ReasonForChannelOmissionDescription"],"0x140C":["IS","1","ChannelDeliveryOrderIndex"],"0x140D":["SQ","1","ChannelDeliveryContinuationSequence"],"0x140E":["SQ","1","OmittedApplicationSetupSequence"]},"0x0076":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["LO","1","ImplantAssemblyTemplateName"],"0x0003":["LO","1","ImplantAssemblyTemplateIssuer"],"0x0006":["LO","1","ImplantAssemblyTemplateVersion"],"0x0008":["SQ","1","ReplacedImplantAssemblyTemplateSequence"],"0x000A":["CS","1","ImplantAssemblyTemplateType"],"0x000C":["SQ","1","OriginalImplantAssemblyTemplateSequence"],"0x000E":["SQ","1","DerivationImplantAssemblyTemplateSequence"],"0x0010":["SQ","1","ImplantAssemblyTemplateTargetAnatomySequence"],"0x0020":["SQ","1","ProcedureTypeCodeSequence"],"0x0030":["LO","1","SurgicalTechnique"],"0x0032":["SQ","1","ComponentTypesSequence"],"0x0034":["SQ","1","ComponentTypeCodeSequence"],"0x0036":["CS","1","ExclusiveComponentType"],"0x0038":["CS","1","MandatoryComponentType"],"0x0040":["SQ","1","ComponentSequence"],"0x0055":["US","1","ComponentID"],"0x0060":["SQ","1","ComponentAssemblySequence"],"0x0070":["US","1","Component1ReferencedID"],"0x0080":["US","1","Component1ReferencedMatingFeatureSetID"],"0x0090":["US","1","Component1ReferencedMatingFeatureID"],"0x00A0":["US","1","Component2ReferencedID"],"0x00B0":["US","1","Component2ReferencedMatingFeatureSetID"],"0x00C0":["US","1","Component2ReferencedMatingFeatureID"]},"0x0078":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["LO","1","ImplantTemplateGroupName"],"0x0010":["ST","1","ImplantTemplateGroupDescription"],"0x0020":["LO","1","ImplantTemplateGroupIssuer"],"0x0024":["LO","1","ImplantTemplateGroupVersion"],"0x0026":["SQ","1","ReplacedImplantTemplateGroupSequence"],"0x0028":["SQ","1","ImplantTemplateGroupTargetAnatomySequence"],"0x002A":["SQ","1","ImplantTemplateGroupMembersSequence"],"0x002E":["US","1","ImplantTemplateGroupMemberID"],"0x0050":["FD","3","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0x0060":["FD","9","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0x0070":["SQ","1","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0x0090":["FD","2","TwoDImplantTemplateGroupMemberMatchingPoint"],"0x00A0":["FD","4","TwoDImplantTemplateGroupMemberMatchingAxes"],"0x00B0":["SQ","1","ImplantTemplateGroupVariationDimensionSequence"],"0x00B2":["LO","1","ImplantTemplateGroupVariationDimensionName"],"0x00B4":["SQ","1","ImplantTemplateGroupVariationDimensionRankSequence"],"0x00B6":["US","1","ReferencedImplantTemplateGroupMemberID"],"0x00B8":["US","1","ImplantTemplateGroupVariationDimensionRank"]},"0x0080":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["SQ","1","SurfaceScanAcquisitionTypeCodeSequence"],"0x0002":["SQ","1","SurfaceScanModeCodeSequence"],"0x0003":["SQ","1","RegistrationMethodCodeSequence"],"0x0004":["FD","1","ShotDurationTime"],"0x0005":["FD","1","ShotOffsetTime"],"0x0006":["US","1-n","SurfacePointPresentationValueData"],"0x0007":["US","3-3n","SurfacePointColorCIELabValueData"],"0x0008":["SQ","1","UVMappingSequence"],"0x0009":["SH","1","TextureLabel"],"0x0010":["OF","1","UValueData"],"0x0011":["OF","1","VValueData"],"0x0012":["SQ","1","ReferencedTextureSequence"],"0x0013":["SQ","1","ReferencedSurfaceDataSequence"]},"0x0082":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","AssessmentSummary"],"0x0003":["UT","1","AssessmentSummaryDescription"],"0x0004":["SQ","1","AssessedSOPInstanceSequence"],"0x0005":["SQ","1","ReferencedComparisonSOPInstanceSequence"],"0x0006":["UL","1","NumberOfAssessmentObservations"],"0x0007":["SQ","1","AssessmentObservationsSequence"],"0x0008":["CS","1","ObservationSignificance"],"0x000A":["UT","1","ObservationDescription"],"0x000C":["SQ","1","StructuredConstraintObservationSequence"],"0x0010":["SQ","1","AssessedAttributeValueSequence"],"0x0016":["LO","1","AssessmentSetID"],"0x0017":["SQ","1","AssessmentRequesterSequence"],"0x0018":["LO","1","SelectorAttributeName"],"0x0019":["LO","1","SelectorAttributeKeyword"],"0x0021":["SQ","1","AssessmentTypeCodeSequence"],"0x0022":["SQ","1","ObservationBasisCodeSequence"],"0x0023":["LO","1","AssessmentLabel"],"0x0032":["CS","1","ConstraintType"],"0x0033":["UT","1","SpecificationSelectionGuidance"],"0x0034":["SQ","1","ConstraintValueSequence"],"0x0035":["SQ","1","RecommendedDefaultValueSequence"],"0x0036":["CS","1","ConstraintViolationSignificance"],"0x0037":["UT","1","ConstraintViolationCondition"],"0x0038":["CS","1","ModifiableConstraintFlag"]},"0x0088":{"0x0000":["UL","1","GenericGroupLength"],"0x0130":["SH","1","StorageMediaFileSetID"],"0x0140":["UI","1","StorageMediaFileSetUID"],"0x0200":["SQ","1","IconImageSequence"],"0x0904":["LO","1","TopicTitle"],"0x0906":["ST","1","TopicSubject"],"0x0910":["LO","1","TopicAuthor"],"0x0912":["LO","1-32","TopicKeywords"]},"0x0100":{"0x0000":["UL","1","GenericGroupLength"],"0x0410":["CS","1","SOPInstanceStatus"],"0x0420":["DT","1","SOPAuthorizationDateTime"],"0x0424":["LT","1","SOPAuthorizationComment"],"0x0426":["LO","1","AuthorizationEquipmentCertificationNumber"]},"0x0400":{"0x0000":["UL","1","GenericGroupLength"],"0x0005":["US","1","MACIDNumber"],"0x0010":["UI","1","MACCalculationTransferSyntaxUID"],"0x0015":["CS","1","MACAlgorithm"],"0x0020":["AT","1-n","DataElementsSigned"],"0x0100":["UI","1","DigitalSignatureUID"],"0x0105":["DT","1","DigitalSignatureDateTime"],"0x0110":["CS","1","CertificateType"],"0x0115":["OB","1","CertificateOfSigner"],"0x0120":["OB","1","Signature"],"0x0305":["CS","1","CertifiedTimestampType"],"0x0310":["OB","1","CertifiedTimestamp"],"0x0315":["FL","1",""],"0x0401":["SQ","1","DigitalSignaturePurposeCodeSequence"],"0x0402":["SQ","1","ReferencedDigitalSignatureSequence"],"0x0403":["SQ","1","ReferencedSOPInstanceMACSequence"],"0x0404":["OB","1","MAC"],"0x0500":["SQ","1","EncryptedAttributesSequence"],"0x0510":["UI","1","EncryptedContentTransferSyntaxUID"],"0x0520":["OB","1","EncryptedContent"],"0x0550":["SQ","1","ModifiedAttributesSequence"],"0x0551":["SQ","1","NonconformingModifiedAttributesSequence"],"0x0552":["OB","1","NonconformingDataElementValue"],"0x0561":["SQ","1","OriginalAttributesSequence"],"0x0562":["DT","1","AttributeModificationDateTime"],"0x0563":["LO","1","ModifyingSystem"],"0x0564":["LO","1","SourceOfPreviousValues"],"0x0565":["CS","1","ReasonForTheAttributeModification"],"0x0600":["CS","1","InstanceOriginStatus"]},"0x1000":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","3","EscapeTriplet"],"0x0011":["US","3","RunLengthTriplet"],"0x0012":["US","1","HuffmanTableSize"],"0x0013":["US","3","HuffmanTableTriplet"],"0x0014":["US","1","ShiftTableSize"],"0x0015":["US","3","ShiftTableTriplet"]},"0x1010":{"0x0000":["UL","1","GenericGroupLength"],"0x0004":["US","1-n","ZonalMap"]},"0x2000":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["IS","1","NumberOfCopies"],"0x001E":["SQ","1","PrinterConfigurationSequence"],"0x0020":["CS","1","PrintPriority"],"0x0030":["CS","1","MediumType"],"0x0040":["CS","1","FilmDestination"],"0x0050":["LO","1","FilmSessionLabel"],"0x0060":["IS","1","MemoryAllocation"],"0x0061":["IS","1","MaximumMemoryAllocation"],"0x0062":["CS","1","ColorImagePrintingFlag"],"0x0063":["CS","1","CollationFlag"],"0x0065":["CS","1","AnnotationFlag"],"0x0067":["CS","1","ImageOverlayFlag"],"0x0069":["CS","1","PresentationLUTFlag"],"0x006A":["CS","1","ImageBoxPresentationLUTFlag"],"0x00A0":["US","1","MemoryBitDepth"],"0x00A1":["US","1","PrintingBitDepth"],"0x00A2":["SQ","1","MediaInstalledSequence"],"0x00A4":["SQ","1","OtherMediaAvailableSequence"],"0x00A8":["SQ","1","SupportedImageDisplayFormatsSequence"],"0x0500":["SQ","1","ReferencedFilmBoxSequence"],"0x0510":["SQ","1","ReferencedStoredPrintSequence"]},"0x2010":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["ST","1","ImageDisplayFormat"],"0x0030":["CS","1","AnnotationDisplayFormatID"],"0x0040":["CS","1","FilmOrientation"],"0x0050":["CS","1","FilmSizeID"],"0x0052":["CS","1","PrinterResolutionID"],"0x0054":["CS","1","DefaultPrinterResolutionID"],"0x0060":["CS","1","MagnificationType"],"0x0080":["CS","1","SmoothingType"],"0x00A6":["CS","1","DefaultMagnificationType"],"0x00A7":["CS","1-n","OtherMagnificationTypesAvailable"],"0x00A8":["CS","1","DefaultSmoothingType"],"0x00A9":["CS","1-n","OtherSmoothingTypesAvailable"],"0x0100":["CS","1","BorderDensity"],"0x0110":["CS","1","EmptyImageDensity"],"0x0120":["US","1","MinDensity"],"0x0130":["US","1","MaxDensity"],"0x0140":["CS","1","Trim"],"0x0150":["ST","1","ConfigurationInformation"],"0x0152":["LT","1","ConfigurationInformationDescription"],"0x0154":["IS","1","MaximumCollatedFilms"],"0x015E":["US","1","Illumination"],"0x0160":["US","1","ReflectedAmbientLight"],"0x0376":["DS","2","PrinterPixelSpacing"],"0x0500":["SQ","1","ReferencedFilmSessionSequence"],"0x0510":["SQ","1","ReferencedImageBoxSequence"],"0x0520":["SQ","1","ReferencedBasicAnnotationBoxSequence"]},"0x2020":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","1","ImageBoxPosition"],"0x0020":["CS","1","Polarity"],"0x0030":["DS","1","RequestedImageSize"],"0x0040":["CS","1","RequestedDecimateCropBehavior"],"0x0050":["CS","1","RequestedResolutionID"],"0x00A0":["CS","1","RequestedImageSizeFlag"],"0x00A2":["CS","1","DecimateCropResult"],"0x0110":["SQ","1","BasicGrayscaleImageSequence"],"0x0111":["SQ","1","BasicColorImageSequence"],"0x0130":["SQ","1","ReferencedImageOverlayBoxSequence"],"0x0140":["SQ","1","ReferencedVOILUTBoxSequence"]},"0x2030":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","1","AnnotationPosition"],"0x0020":["LO","1","TextString"]},"0x2040":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SQ","1","ReferencedOverlayPlaneSequence"],"0x0011":["US","1-99","ReferencedOverlayPlaneGroups"],"0x0020":["SQ","1","OverlayPixelDataSequence"],"0x0060":["CS","1","OverlayMagnificationType"],"0x0070":["CS","1","OverlaySmoothingType"],"0x0072":["CS","1","OverlayOrImageMagnification"],"0x0074":["US","1","MagnifyToNumberOfColumns"],"0x0080":["CS","1","OverlayForegroundDensity"],"0x0082":["CS","1","OverlayBackgroundDensity"],"0x0090":["CS","1","OverlayMode"],"0x0100":["CS","1","ThresholdDensity"],"0x0500":["SQ","1","ReferencedImageBoxSequenceRetired"]},"0x2050":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SQ","1","PresentationLUTSequence"],"0x0020":["CS","1","PresentationLUTShape"],"0x0500":["SQ","1","ReferencedPresentationLUTSequence"]},"0x2100":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SH","1","PrintJobID"],"0x0020":["CS","1","ExecutionStatus"],"0x0030":["CS","1","ExecutionStatusInfo"],"0x0040":["DA","1","CreationDate"],"0x0050":["TM","1","CreationTime"],"0x0070":["AE","1","Originator"],"0x0140":["AE","1","DestinationAE"],"0x0160":["SH","1","OwnerID"],"0x0170":["IS","1","NumberOfFilms"],"0x0500":["SQ","1","ReferencedPrintJobSequencePullStoredPrint"]},"0x2110":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["CS","1","PrinterStatus"],"0x0020":["CS","1","PrinterStatusInfo"],"0x0030":["LO","1","PrinterName"],"0x0099":["SH","1","PrintQueueID"]},"0x2120":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["CS","1","QueueStatus"],"0x0050":["SQ","1","PrintJobDescriptionSequence"],"0x0070":["SQ","1","ReferencedPrintJobSequence"]},"0x2130":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SQ","1","PrintManagementCapabilitiesSequence"],"0x0015":["SQ","1","PrinterCharacteristicsSequence"],"0x0030":["SQ","1","FilmBoxContentSequence"],"0x0040":["SQ","1","ImageBoxContentSequence"],"0x0050":["SQ","1","AnnotationContentSequence"],"0x0060":["SQ","1","ImageOverlayBoxContentSequence"],"0x0080":["SQ","1","PresentationLUTContentSequence"],"0x00A0":["SQ","1","ProposedStudySequence"],"0x00C0":["SQ","1","OriginalImageSequence"]},"0x2200":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","LabelUsingInformationExtractedFromInstances"],"0x0002":["UT","1","LabelText"],"0x0003":["CS","1","LabelStyleSelection"],"0x0004":["LT","1","MediaDisposition"],"0x0005":["LT","1","BarcodeValue"],"0x0006":["CS","1","BarcodeSymbology"],"0x0007":["CS","1","AllowMediaSplitting"],"0x0008":["CS","1","IncludeNonDICOMObjects"],"0x0009":["CS","1","IncludeDisplayApplication"],"0x000A":["CS","1","PreserveCompositeInstancesAfterMediaCreation"],"0x000B":["US","1","TotalNumberOfPiecesOfMediaCreated"],"0x000C":["LO","1","RequestedMediaApplicationProfile"],"0x000D":["SQ","1","ReferencedStorageMediaSequence"],"0x000E":["AT","1-n","FailureAttributes"],"0x000F":["CS","1","AllowLossyCompression"],"0x0020":["CS","1","RequestPriority"]},"0x3002":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SH","1","RTImageLabel"],"0x0003":["LO","1","RTImageName"],"0x0004":["ST","1","RTImageDescription"],"0x000A":["CS","1","ReportedValuesOrigin"],"0x000C":["CS","1","RTImagePlane"],"0x000D":["DS","3","XRayImageReceptorTranslation"],"0x000E":["DS","1","XRayImageReceptorAngle"],"0x0010":["DS","6","RTImageOrientation"],"0x0011":["DS","2","ImagePlanePixelSpacing"],"0x0012":["DS","2","RTImagePosition"],"0x0020":["SH","1","RadiationMachineName"],"0x0022":["DS","1","RadiationMachineSAD"],"0x0024":["DS","1","RadiationMachineSSD"],"0x0026":["DS","1","RTImageSID"],"0x0028":["DS","1","SourceToReferenceObjectDistance"],"0x0029":["IS","1","FractionNumber"],"0x0030":["SQ","1","ExposureSequence"],"0x0032":["DS","1","MetersetExposure"],"0x0034":["DS","4","DiaphragmPosition"],"0x0040":["SQ","1","FluenceMapSequence"],"0x0041":["CS","1","FluenceDataSource"],"0x0042":["DS","1","FluenceDataScale"],"0x0050":["SQ","1","PrimaryFluenceModeSequence"],"0x0051":["CS","1","FluenceMode"],"0x0052":["SH","1","FluenceModeID"]},"0x3004":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","DVHType"],"0x0002":["CS","1","DoseUnits"],"0x0004":["CS","1","DoseType"],"0x0005":["CS","1","SpatialTransformOfDose"],"0x0006":["LO","1","DoseComment"],"0x0008":["DS","3","NormalizationPoint"],"0x000A":["CS","1","DoseSummationType"],"0x000C":["DS","2-n","GridFrameOffsetVector"],"0x000E":["DS","1","DoseGridScaling"],"0x0010":["SQ","1","RTDoseROISequence"],"0x0012":["DS","1","DoseValue"],"0x0014":["CS","1-3","TissueHeterogeneityCorrection"],"0x0040":["DS","3","DVHNormalizationPoint"],"0x0042":["DS","1","DVHNormalizationDoseValue"],"0x0050":["SQ","1","DVHSequence"],"0x0052":["DS","1","DVHDoseScaling"],"0x0054":["CS","1","DVHVolumeUnits"],"0x0056":["IS","1","DVHNumberOfBins"],"0x0058":["DS","2-2n","DVHData"],"0x0060":["SQ","1","DVHReferencedROISequence"],"0x0062":["CS","1","DVHROIContributionType"],"0x0070":["DS","1","DVHMinimumDose"],"0x0072":["DS","1","DVHMaximumDose"],"0x0074":["DS","1","DVHMeanDose"]},"0x3006":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SH","1","StructureSetLabel"],"0x0004":["LO","1","StructureSetName"],"0x0006":["ST","1","StructureSetDescription"],"0x0008":["DA","1","StructureSetDate"],"0x0009":["TM","1","StructureSetTime"],"0x0010":["SQ","1","ReferencedFrameOfReferenceSequence"],"0x0012":["SQ","1","RTReferencedStudySequence"],"0x0014":["SQ","1","RTReferencedSeriesSequence"],"0x0016":["SQ","1","ContourImageSequence"],"0x0018":["SQ","1","PredecessorStructureSetSequence"],"0x0020":["SQ","1","StructureSetROISequence"],"0x0022":["IS","1","ROINumber"],"0x0024":["UI","1","ReferencedFrameOfReferenceUID"],"0x0026":["LO","1","ROIName"],"0x0028":["ST","1","ROIDescription"],"0x002A":["IS","3","ROIDisplayColor"],"0x002C":["DS","1","ROIVolume"],"0x0030":["SQ","1","RTRelatedROISequence"],"0x0033":["CS","1","RTROIRelationship"],"0x0036":["CS","1","ROIGenerationAlgorithm"],"0x0037":["SQ","1","ROIDerivationAlgorithmIdentificationSequence"],"0x0038":["LO","1","ROIGenerationDescription"],"0x0039":["SQ","1","ROIContourSequence"],"0x0040":["SQ","1","ContourSequence"],"0x0042":["CS","1","ContourGeometricType"],"0x0044":["DS","1","ContourSlabThickness"],"0x0045":["DS","3","ContourOffsetVector"],"0x0046":["IS","1","NumberOfContourPoints"],"0x0048":["IS","1","ContourNumber"],"0x0049":["IS","1-n","AttachedContours"],"0x004A":["SQ","1","SourcePixelPlanesCharacteristicsSequence"],"0x0050":["DS","3-3n","ContourData"],"0x0080":["SQ","1","RTROIObservationsSequence"],"0x0082":["IS","1","ObservationNumber"],"0x0084":["IS","1","ReferencedROINumber"],"0x0085":["SH","1","ROIObservationLabel"],"0x0086":["SQ","1","RTROIIdentificationCodeSequence"],"0x0088":["ST","1","ROIObservationDescription"],"0x00A0":["SQ","1","RelatedRTROIObservationsSequence"],"0x00A4":["CS","1","RTROIInterpretedType"],"0x00A6":["PN","1","ROIInterpreter"],"0x00B0":["SQ","1","ROIPhysicalPropertiesSequence"],"0x00B2":["CS","1","ROIPhysicalProperty"],"0x00B4":["DS","1","ROIPhysicalPropertyValue"],"0x00B6":["SQ","1","ROIElementalCompositionSequence"],"0x00B7":["US","1","ROIElementalCompositionAtomicNumber"],"0x00B8":["FL","1","ROIElementalCompositionAtomicMassFraction"],"0x00B9":["SQ","1","AdditionalRTROIIdentificationCodeSequence"],"0x00C0":["SQ","1","FrameOfReferenceRelationshipSequence"],"0x00C2":["UI","1","RelatedFrameOfReferenceUID"],"0x00C4":["CS","1","FrameOfReferenceTransformationType"],"0x00C6":["DS","16","FrameOfReferenceTransformationMatrix"],"0x00C8":["LO","1","FrameOfReferenceTransformationComment"],"0x00C9":["SQ","1","PatientLocationCoordinatesSequence"],"0x00CA":["SQ","1","PatientLocationCoordinatesCodeSequence"],"0x00CB":["SQ","1","PatientSupportPositionSequence"]},"0x3008":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SQ","1","MeasuredDoseReferenceSequence"],"0x0012":["ST","1","MeasuredDoseDescription"],"0x0014":["CS","1","MeasuredDoseType"],"0x0016":["DS","1","MeasuredDoseValue"],"0x0020":["SQ","1","TreatmentSessionBeamSequence"],"0x0021":["SQ","1","TreatmentSessionIonBeamSequence"],"0x0022":["IS","1","CurrentFractionNumber"],"0x0024":["DA","1","TreatmentControlPointDate"],"0x0025":["TM","1","TreatmentControlPointTime"],"0x002A":["CS","1","TreatmentTerminationStatus"],"0x002B":["SH","1","TreatmentTerminationCode"],"0x002C":["CS","1","TreatmentVerificationStatus"],"0x0030":["SQ","1","ReferencedTreatmentRecordSequence"],"0x0032":["DS","1","SpecifiedPrimaryMeterset"],"0x0033":["DS","1","SpecifiedSecondaryMeterset"],"0x0036":["DS","1","DeliveredPrimaryMeterset"],"0x0037":["DS","1","DeliveredSecondaryMeterset"],"0x003A":["DS","1","SpecifiedTreatmentTime"],"0x003B":["DS","1","DeliveredTreatmentTime"],"0x0040":["SQ","1","ControlPointDeliverySequence"],"0x0041":["SQ","1","IonControlPointDeliverySequence"],"0x0042":["DS","1","SpecifiedMeterset"],"0x0044":["DS","1","DeliveredMeterset"],"0x0045":["FL","1","MetersetRateSet"],"0x0046":["FL","1","MetersetRateDelivered"],"0x0047":["FL","1-n","ScanSpotMetersetsDelivered"],"0x0048":["DS","1","DoseRateDelivered"],"0x0050":["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],"0x0052":["DS","1","CumulativeDoseToDoseReference"],"0x0054":["DA","1","FirstTreatmentDate"],"0x0056":["DA","1","MostRecentTreatmentDate"],"0x005A":["IS","1","NumberOfFractionsDelivered"],"0x0060":["SQ","1","OverrideSequence"],"0x0061":["AT","1","ParameterSequencePointer"],"0x0062":["AT","1","OverrideParameterPointer"],"0x0063":["IS","1","ParameterItemIndex"],"0x0064":["IS","1","MeasuredDoseReferenceNumber"],"0x0065":["AT","1","ParameterPointer"],"0x0066":["ST","1","OverrideReason"],"0x0067":["US","1","ParameterValueNumber"],"0x0068":["SQ","1","CorrectedParameterSequence"],"0x006A":["FL","1","CorrectionValue"],"0x0070":["SQ","1","CalculatedDoseReferenceSequence"],"0x0072":["IS","1","CalculatedDoseReferenceNumber"],"0x0074":["ST","1","CalculatedDoseReferenceDescription"],"0x0076":["DS","1","CalculatedDoseReferenceDoseValue"],"0x0078":["DS","1","StartMeterset"],"0x007A":["DS","1","EndMeterset"],"0x0080":["SQ","1","ReferencedMeasuredDoseReferenceSequence"],"0x0082":["IS","1","ReferencedMeasuredDoseReferenceNumber"],"0x0090":["SQ","1","ReferencedCalculatedDoseReferenceSequence"],"0x0092":["IS","1","ReferencedCalculatedDoseReferenceNumber"],"0x00A0":["SQ","1","BeamLimitingDeviceLeafPairsSequence"],"0x00B0":["SQ","1","RecordedWedgeSequence"],"0x00C0":["SQ","1","RecordedCompensatorSequence"],"0x00D0":["SQ","1","RecordedBlockSequence"],"0x00D1":["SQ","1","RecordedBlockSlabSequence"],"0x00E0":["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],"0x00F0":["SQ","1","RecordedSnoutSequence"],"0x00F2":["SQ","1","RecordedRangeShifterSequence"],"0x00F4":["SQ","1","RecordedLateralSpreadingDeviceSequence"],"0x00F6":["SQ","1","RecordedRangeModulatorSequence"],"0x0100":["SQ","1","RecordedSourceSequence"],"0x0105":["LO","1","SourceSerialNumber"],"0x0110":["SQ","1","TreatmentSessionApplicationSetupSequence"],"0x0116":["CS","1","ApplicationSetupCheck"],"0x0120":["SQ","1","RecordedBrachyAccessoryDeviceSequence"],"0x0122":["IS","1","ReferencedBrachyAccessoryDeviceNumber"],"0x0130":["SQ","1","RecordedChannelSequence"],"0x0132":["DS","1","SpecifiedChannelTotalTime"],"0x0134":["DS","1","DeliveredChannelTotalTime"],"0x0136":["IS","1","SpecifiedNumberOfPulses"],"0x0138":["IS","1","DeliveredNumberOfPulses"],"0x013A":["DS","1","SpecifiedPulseRepetitionInterval"],"0x013C":["DS","1","DeliveredPulseRepetitionInterval"],"0x0140":["SQ","1","RecordedSourceApplicatorSequence"],"0x0142":["IS","1","ReferencedSourceApplicatorNumber"],"0x0150":["SQ","1","RecordedChannelShieldSequence"],"0x0152":["IS","1","ReferencedChannelShieldNumber"],"0x0160":["SQ","1","BrachyControlPointDeliveredSequence"],"0x0162":["DA","1","SafePositionExitDate"],"0x0164":["TM","1","SafePositionExitTime"],"0x0166":["DA","1","SafePositionReturnDate"],"0x0168":["TM","1","SafePositionReturnTime"],"0x0171":["SQ","1","PulseSpecificBrachyControlPointDeliveredSequence"],"0x0172":["US","1","PulseNumber"],"0x0173":["SQ","1","BrachyPulseControlPointDeliveredSequence"],"0x0200":["CS","1","CurrentTreatmentStatus"],"0x0202":["ST","1","TreatmentStatusComment"],"0x0220":["SQ","1","FractionGroupSummarySequence"],"0x0223":["IS","1","ReferencedFractionNumber"],"0x0224":["CS","1","FractionGroupType"],"0x0230":["CS","1","BeamStopperPosition"],"0x0240":["SQ","1","FractionStatusSummarySequence"],"0x0250":["DA","1","TreatmentDate"],"0x0251":["TM","1","TreatmentTime"]},"0x300A":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SH","1","RTPlanLabel"],"0x0003":["LO","1","RTPlanName"],"0x0004":["ST","1","RTPlanDescription"],"0x0006":["DA","1","RTPlanDate"],"0x0007":["TM","1","RTPlanTime"],"0x0009":["LO","1-n","TreatmentProtocols"],"0x000A":["CS","1","PlanIntent"],"0x000B":["LO","1-n","TreatmentSites"],"0x000C":["CS","1","RTPlanGeometry"],"0x000E":["ST","1","PrescriptionDescription"],"0x0010":["SQ","1","DoseReferenceSequence"],"0x0012":["IS","1","DoseReferenceNumber"],"0x0013":["UI","1","DoseReferenceUID"],"0x0014":["CS","1","DoseReferenceStructureType"],"0x0015":["CS","1","NominalBeamEnergyUnit"],"0x0016":["LO","1","DoseReferenceDescription"],"0x0018":["DS","3","DoseReferencePointCoordinates"],"0x001A":["DS","1","NominalPriorDose"],"0x0020":["CS","1","DoseReferenceType"],"0x0021":["DS","1","ConstraintWeight"],"0x0022":["DS","1","DeliveryWarningDose"],"0x0023":["DS","1","DeliveryMaximumDose"],"0x0025":["DS","1","TargetMinimumDose"],"0x0026":["DS","1","TargetPrescriptionDose"],"0x0027":["DS","1","TargetMaximumDose"],"0x0028":["DS","1","TargetUnderdoseVolumeFraction"],"0x002A":["DS","1","OrganAtRiskFullVolumeDose"],"0x002B":["DS","1","OrganAtRiskLimitDose"],"0x002C":["DS","1","OrganAtRiskMaximumDose"],"0x002D":["DS","1","OrganAtRiskOverdoseVolumeFraction"],"0x0040":["SQ","1","ToleranceTableSequence"],"0x0042":["IS","1","ToleranceTableNumber"],"0x0043":["SH","1","ToleranceTableLabel"],"0x0044":["DS","1","GantryAngleTolerance"],"0x0046":["DS","1","BeamLimitingDeviceAngleTolerance"],"0x0048":["SQ","1","BeamLimitingDeviceToleranceSequence"],"0x004A":["DS","1","BeamLimitingDevicePositionTolerance"],"0x004B":["FL","1","SnoutPositionTolerance"],"0x004C":["DS","1","PatientSupportAngleTolerance"],"0x004E":["DS","1","TableTopEccentricAngleTolerance"],"0x004F":["FL","1","TableTopPitchAngleTolerance"],"0x0050":["FL","1","TableTopRollAngleTolerance"],"0x0051":["DS","1","TableTopVerticalPositionTolerance"],"0x0052":["DS","1","TableTopLongitudinalPositionTolerance"],"0x0053":["DS","1","TableTopLateralPositionTolerance"],"0x0055":["CS","1","RTPlanRelationship"],"0x0070":["SQ","1","FractionGroupSequence"],"0x0071":["IS","1","FractionGroupNumber"],"0x0072":["LO","1","FractionGroupDescription"],"0x0078":["IS","1","NumberOfFractionsPlanned"],"0x0079":["IS","1","NumberOfFractionPatternDigitsPerDay"],"0x007A":["IS","1","RepeatFractionCycleLength"],"0x007B":["LT","1","FractionPattern"],"0x0080":["IS","1","NumberOfBeams"],"0x0082":["DS","3","BeamDoseSpecificationPoint"],"0x0083":["UI","1","ReferencedDoseReferenceUID"],"0x0084":["DS","1","BeamDose"],"0x0086":["DS","1","BeamMeterset"],"0x0088":["FL","1","BeamDosePointDepth"],"0x0089":["FL","1","BeamDosePointEquivalentDepth"],"0x008A":["FL","1","BeamDosePointSSD"],"0x008B":["CS","1","BeamDoseMeaning"],"0x008C":["SQ","1","BeamDoseVerificationControlPointSequence"],"0x008D":["FL","1","AverageBeamDosePointDepth"],"0x008E":["FL","1","AverageBeamDosePointEquivalentDepth"],"0x008F":["FL","1","AverageBeamDosePointSSD"],"0x0090":["CS","1","BeamDoseType"],"0x0091":["DS","1","AlternateBeamDose"],"0x0092":["CS","1","AlternateBeamDoseType"],"0x0093":["CS","1","DepthValueAveragingFlag"],"0x0094":["DS","1","BeamDosePointSourceToExternalContourDistance"],"0x00A0":["IS","1","NumberOfBrachyApplicationSetups"],"0x00A2":["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],"0x00A4":["DS","1","BrachyApplicationSetupDose"],"0x00B0":["SQ","1","BeamSequence"],"0x00B2":["SH","1","TreatmentMachineName"],"0x00B3":["CS","1","PrimaryDosimeterUnit"],"0x00B4":["DS","1","SourceAxisDistance"],"0x00B6":["SQ","1","BeamLimitingDeviceSequence"],"0x00B8":["CS","1","RTBeamLimitingDeviceType"],"0x00BA":["DS","1","SourceToBeamLimitingDeviceDistance"],"0x00BB":["FL","1","IsocenterToBeamLimitingDeviceDistance"],"0x00BC":["IS","1","NumberOfLeafJawPairs"],"0x00BE":["DS","3-n","LeafPositionBoundaries"],"0x00C0":["IS","1","BeamNumber"],"0x00C2":["LO","1","BeamName"],"0x00C3":["ST","1","BeamDescription"],"0x00C4":["CS","1","BeamType"],"0x00C5":["FD","1","BeamDeliveryDurationLimit"],"0x00C6":["CS","1","RadiationType"],"0x00C7":["CS","1","HighDoseTechniqueType"],"0x00C8":["IS","1","ReferenceImageNumber"],"0x00CA":["SQ","1","PlannedVerificationImageSequence"],"0x00CC":["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],"0x00CE":["CS","1","TreatmentDeliveryType"],"0x00D0":["IS","1","NumberOfWedges"],"0x00D1":["SQ","1","WedgeSequence"],"0x00D2":["IS","1","WedgeNumber"],"0x00D3":["CS","1","WedgeType"],"0x00D4":["SH","1","WedgeID"],"0x00D5":["IS","1","WedgeAngle"],"0x00D6":["DS","1","WedgeFactor"],"0x00D7":["FL","1","TotalWedgeTrayWaterEquivalentThickness"],"0x00D8":["DS","1","WedgeOrientation"],"0x00D9":["FL","1","IsocenterToWedgeTrayDistance"],"0x00DA":["DS","1","SourceToWedgeTrayDistance"],"0x00DB":["FL","1","WedgeThinEdgePosition"],"0x00DC":["SH","1","BolusID"],"0x00DD":["ST","1","BolusDescription"],"0x00DE":["DS","1","EffectiveWedgeAngle"],"0x00E0":["IS","1","NumberOfCompensators"],"0x00E1":["SH","1","MaterialID"],"0x00E2":["DS","1","TotalCompensatorTrayFactor"],"0x00E3":["SQ","1","CompensatorSequence"],"0x00E4":["IS","1","CompensatorNumber"],"0x00E5":["SH","1","CompensatorID"],"0x00E6":["DS","1","SourceToCompensatorTrayDistance"],"0x00E7":["IS","1","CompensatorRows"],"0x00E8":["IS","1","CompensatorColumns"],"0x00E9":["DS","2","CompensatorPixelSpacing"],"0x00EA":["DS","2","CompensatorPosition"],"0x00EB":["DS","1-n","CompensatorTransmissionData"],"0x00EC":["DS","1-n","CompensatorThicknessData"],"0x00ED":["IS","1","NumberOfBoli"],"0x00EE":["CS","1","CompensatorType"],"0x00EF":["SH","1","CompensatorTrayID"],"0x00F0":["IS","1","NumberOfBlocks"],"0x00F2":["DS","1","TotalBlockTrayFactor"],"0x00F3":["FL","1","TotalBlockTrayWaterEquivalentThickness"],"0x00F4":["SQ","1","BlockSequence"],"0x00F5":["SH","1","BlockTrayID"],"0x00F6":["DS","1","SourceToBlockTrayDistance"],"0x00F7":["FL","1","IsocenterToBlockTrayDistance"],"0x00F8":["CS","1","BlockType"],"0x00F9":["LO","1","AccessoryCode"],"0x00FA":["CS","1","BlockDivergence"],"0x00FB":["CS","1","BlockMountingPosition"],"0x00FC":["IS","1","BlockNumber"],"0x00FE":["LO","1","BlockName"],"0x0100":["DS","1","BlockThickness"],"0x0102":["DS","1","BlockTransmission"],"0x0104":["IS","1","BlockNumberOfPoints"],"0x0106":["DS","2-2n","BlockData"],"0x0107":["SQ","1","ApplicatorSequence"],"0x0108":["SH","1","ApplicatorID"],"0x0109":["CS","1","ApplicatorType"],"0x010A":["LO","1","ApplicatorDescription"],"0x010C":["DS","1","CumulativeDoseReferenceCoefficient"],"0x010E":["DS","1","FinalCumulativeMetersetWeight"],"0x0110":["IS","1","NumberOfControlPoints"],"0x0111":["SQ","1","ControlPointSequence"],"0x0112":["IS","1","ControlPointIndex"],"0x0114":["DS","1","NominalBeamEnergy"],"0x0115":["DS","1","DoseRateSet"],"0x0116":["SQ","1","WedgePositionSequence"],"0x0118":["CS","1","WedgePosition"],"0x011A":["SQ","1","BeamLimitingDevicePositionSequence"],"0x011C":["DS","2-2n","LeafJawPositions"],"0x011E":["DS","1","GantryAngle"],"0x011F":["CS","1","GantryRotationDirection"],"0x0120":["DS","1","BeamLimitingDeviceAngle"],"0x0121":["CS","1","BeamLimitingDeviceRotationDirection"],"0x0122":["DS","1","PatientSupportAngle"],"0x0123":["CS","1","PatientSupportRotationDirection"],"0x0124":["DS","1","TableTopEccentricAxisDistance"],"0x0125":["DS","1","TableTopEccentricAngle"],"0x0126":["CS","1","TableTopEccentricRotationDirection"],"0x0128":["DS","1","TableTopVerticalPosition"],"0x0129":["DS","1","TableTopLongitudinalPosition"],"0x012A":["DS","1","TableTopLateralPosition"],"0x012C":["DS","3","IsocenterPosition"],"0x012E":["DS","3","SurfaceEntryPoint"],"0x0130":["DS","1","SourceToSurfaceDistance"],"0x0131":["FL","1","AverageBeamDosePointSourceToExternalContourDistance"],"0x0132":["FL","1","SourceToExternalContourDistance"],"0x0133":["FL","3","ExternalContourEntryPoint"],"0x0134":["DS","1","CumulativeMetersetWeight"],"0x0140":["FL","1","TableTopPitchAngle"],"0x0142":["CS","1","TableTopPitchRotationDirection"],"0x0144":["FL","1","TableTopRollAngle"],"0x0146":["CS","1","TableTopRollRotationDirection"],"0x0148":["FL","1","HeadFixationAngle"],"0x014A":["FL","1","GantryPitchAngle"],"0x014C":["CS","1","GantryPitchRotationDirection"],"0x014E":["FL","1","GantryPitchAngleTolerance"],"0x0150":["CS","1","FixationEye"],"0x0151":["DS","1","ChairHeadFramePosition"],"0x0152":["DS","1","HeadFixationAngleTolerance"],"0x0153":["DS","1","ChairHeadFramePositionTolerance"],"0x0154":["DS","1","FixationLightAzimuthalAngleTolerance"],"0x0155":["DS","1","FixationLightPolarAngleTolerance"],"0x0180":["SQ","1","PatientSetupSequence"],"0x0182":["IS","1","PatientSetupNumber"],"0x0183":["LO","1","PatientSetupLabel"],"0x0184":["LO","1","PatientAdditionalPosition"],"0x0190":["SQ","1","FixationDeviceSequence"],"0x0192":["CS","1","FixationDeviceType"],"0x0194":["SH","1","FixationDeviceLabel"],"0x0196":["ST","1","FixationDeviceDescription"],"0x0198":["SH","1","FixationDevicePosition"],"0x0199":["FL","1","FixationDevicePitchAngle"],"0x019A":["FL","1","FixationDeviceRollAngle"],"0x01A0":["SQ","1","ShieldingDeviceSequence"],"0x01A2":["CS","1","ShieldingDeviceType"],"0x01A4":["SH","1","ShieldingDeviceLabel"],"0x01A6":["ST","1","ShieldingDeviceDescription"],"0x01A8":["SH","1","ShieldingDevicePosition"],"0x01B0":["CS","1","SetupTechnique"],"0x01B2":["ST","1","SetupTechniqueDescription"],"0x01B4":["SQ","1","SetupDeviceSequence"],"0x01B6":["CS","1","SetupDeviceType"],"0x01B8":["SH","1","SetupDeviceLabel"],"0x01BA":["ST","1","SetupDeviceDescription"],"0x01BC":["DS","1","SetupDeviceParameter"],"0x01D0":["ST","1","SetupReferenceDescription"],"0x01D2":["DS","1","TableTopVerticalSetupDisplacement"],"0x01D4":["DS","1","TableTopLongitudinalSetupDisplacement"],"0x01D6":["DS","1","TableTopLateralSetupDisplacement"],"0x0200":["CS","1","BrachyTreatmentTechnique"],"0x0202":["CS","1","BrachyTreatmentType"],"0x0206":["SQ","1","TreatmentMachineSequence"],"0x0210":["SQ","1","SourceSequence"],"0x0212":["IS","1","SourceNumber"],"0x0214":["CS","1","SourceType"],"0x0216":["LO","1","SourceManufacturer"],"0x0218":["DS","1","ActiveSourceDiameter"],"0x021A":["DS","1","ActiveSourceLength"],"0x021B":["SH","1","SourceModelID"],"0x021C":["LO","1","SourceDescription"],"0x0222":["DS","1","SourceEncapsulationNominalThickness"],"0x0224":["DS","1","SourceEncapsulationNominalTransmission"],"0x0226":["LO","1","SourceIsotopeName"],"0x0228":["DS","1","SourceIsotopeHalfLife"],"0x0229":["CS","1","SourceStrengthUnits"],"0x022A":["DS","1","ReferenceAirKermaRate"],"0x022B":["DS","1","SourceStrength"],"0x022C":["DA","1","SourceStrengthReferenceDate"],"0x022E":["TM","1","SourceStrengthReferenceTime"],"0x0230":["SQ","1","ApplicationSetupSequence"],"0x0232":["CS","1","ApplicationSetupType"],"0x0234":["IS","1","ApplicationSetupNumber"],"0x0236":["LO","1","ApplicationSetupName"],"0x0238":["LO","1","ApplicationSetupManufacturer"],"0x0240":["IS","1","TemplateNumber"],"0x0242":["SH","1","TemplateType"],"0x0244":["LO","1","TemplateName"],"0x0250":["DS","1","TotalReferenceAirKerma"],"0x0260":["SQ","1","BrachyAccessoryDeviceSequence"],"0x0262":["IS","1","BrachyAccessoryDeviceNumber"],"0x0263":["SH","1","BrachyAccessoryDeviceID"],"0x0264":["CS","1","BrachyAccessoryDeviceType"],"0x0266":["LO","1","BrachyAccessoryDeviceName"],"0x026A":["DS","1","BrachyAccessoryDeviceNominalThickness"],"0x026C":["DS","1","BrachyAccessoryDeviceNominalTransmission"],"0x0271":["DS","1","ChannelEffectiveLength"],"0x0272":["DS","1","ChannelInnerLength"],"0x0273":["SH","1","AfterloaderChannelID"],"0x0274":["DS","1","SourceApplicatorTipLength"],"0x0280":["SQ","1","ChannelSequence"],"0x0282":["IS","1","ChannelNumber"],"0x0284":["DS","1","ChannelLength"],"0x0286":["DS","1","ChannelTotalTime"],"0x0288":["CS","1","SourceMovementType"],"0x028A":["IS","1","NumberOfPulses"],"0x028C":["DS","1","PulseRepetitionInterval"],"0x0290":["IS","1","SourceApplicatorNumber"],"0x0291":["SH","1","SourceApplicatorID"],"0x0292":["CS","1","SourceApplicatorType"],"0x0294":["LO","1","SourceApplicatorName"],"0x0296":["DS","1","SourceApplicatorLength"],"0x0298":["LO","1","SourceApplicatorManufacturer"],"0x029C":["DS","1","SourceApplicatorWallNominalThickness"],"0x029E":["DS","1","SourceApplicatorWallNominalTransmission"],"0x02A0":["DS","1","SourceApplicatorStepSize"],"0x02A1":["IS","1","ApplicatorShapeReferencedROINumber"],"0x02A2":["IS","1","TransferTubeNumber"],"0x02A4":["DS","1","TransferTubeLength"],"0x02B0":["SQ","1","ChannelShieldSequence"],"0x02B2":["IS","1","ChannelShieldNumber"],"0x02B3":["SH","1","ChannelShieldID"],"0x02B4":["LO","1","ChannelShieldName"],"0x02B8":["DS","1","ChannelShieldNominalThickness"],"0x02BA":["DS","1","ChannelShieldNominalTransmission"],"0x02C8":["DS","1","FinalCumulativeTimeWeight"],"0x02D0":["SQ","1","BrachyControlPointSequence"],"0x02D2":["DS","1","ControlPointRelativePosition"],"0x02D4":["DS","3","ControlPoint3DPosition"],"0x02D6":["DS","1","CumulativeTimeWeight"],"0x02E0":["CS","1","CompensatorDivergence"],"0x02E1":["CS","1","CompensatorMountingPosition"],"0x02E2":["DS","1-n","SourceToCompensatorDistance"],"0x02E3":["FL","1","TotalCompensatorTrayWaterEquivalentThickness"],"0x02E4":["FL","1","IsocenterToCompensatorTrayDistance"],"0x02E5":["FL","1","CompensatorColumnOffset"],"0x02E6":["FL","1-n","IsocenterToCompensatorDistances"],"0x02E7":["FL","1","CompensatorRelativeStoppingPowerRatio"],"0x02E8":["FL","1","CompensatorMillingToolDiameter"],"0x02EA":["SQ","1","IonRangeCompensatorSequence"],"0x02EB":["LT","1","CompensatorDescription"],"0x0302":["IS","1","RadiationMassNumber"],"0x0304":["IS","1","RadiationAtomicNumber"],"0x0306":["SS","1","RadiationChargeState"],"0x0308":["CS","1","ScanMode"],"0x0309":["CS","1","ModulatedScanModeType"],"0x030A":["FL","2","VirtualSourceAxisDistances"],"0x030C":["SQ","1","SnoutSequence"],"0x030D":["FL","1","SnoutPosition"],"0x030F":["SH","1","SnoutID"],"0x0312":["IS","1","NumberOfRangeShifters"],"0x0314":["SQ","1","RangeShifterSequence"],"0x0316":["IS","1","RangeShifterNumber"],"0x0318":["SH","1","RangeShifterID"],"0x0320":["CS","1","RangeShifterType"],"0x0322":["LO","1","RangeShifterDescription"],"0x0330":["IS","1","NumberOfLateralSpreadingDevices"],"0x0332":["SQ","1","LateralSpreadingDeviceSequence"],"0x0334":["IS","1","LateralSpreadingDeviceNumber"],"0x0336":["SH","1","LateralSpreadingDeviceID"],"0x0338":["CS","1","LateralSpreadingDeviceType"],"0x033A":["LO","1","LateralSpreadingDeviceDescription"],"0x033C":["FL","1","LateralSpreadingDeviceWaterEquivalentThickness"],"0x0340":["IS","1","NumberOfRangeModulators"],"0x0342":["SQ","1","RangeModulatorSequence"],"0x0344":["IS","1","RangeModulatorNumber"],"0x0346":["SH","1","RangeModulatorID"],"0x0348":["CS","1","RangeModulatorType"],"0x034A":["LO","1","RangeModulatorDescription"],"0x034C":["SH","1","BeamCurrentModulationID"],"0x0350":["CS","1","PatientSupportType"],"0x0352":["SH","1","PatientSupportID"],"0x0354":["LO","1","PatientSupportAccessoryCode"],"0x0355":["LO","1","TrayAccessoryCode"],"0x0356":["FL","1","FixationLightAzimuthalAngle"],"0x0358":["FL","1","FixationLightPolarAngle"],"0x035A":["FL","1","MetersetRate"],"0x0360":["SQ","1","RangeShifterSettingsSequence"],"0x0362":["LO","1","RangeShifterSetting"],"0x0364":["FL","1","IsocenterToRangeShifterDistance"],"0x0366":["FL","1","RangeShifterWaterEquivalentThickness"],"0x0370":["SQ","1","LateralSpreadingDeviceSettingsSequence"],"0x0372":["LO","1","LateralSpreadingDeviceSetting"],"0x0374":["FL","1","IsocenterToLateralSpreadingDeviceDistance"],"0x0380":["SQ","1","RangeModulatorSettingsSequence"],"0x0382":["FL","1","RangeModulatorGatingStartValue"],"0x0384":["FL","1","RangeModulatorGatingStopValue"],"0x0386":["FL","1","RangeModulatorGatingStartWaterEquivalentThickness"],"0x0388":["FL","1","RangeModulatorGatingStopWaterEquivalentThickness"],"0x038A":["FL","1","IsocenterToRangeModulatorDistance"],"0x038F":["FL","1-n","ScanSpotTimeOffset"],"0x0390":["SH","1","ScanSpotTuneID"],"0x0391":["IS","1-n","ScanSpotPrescribedIndices"],"0x0392":["IS","1","NumberOfScanSpotPositions"],"0x0393":["CS","1","ScanSpotReordered"],"0x0394":["FL","1-n","ScanSpotPositionMap"],"0x0395":["CS","1","ScanSpotReorderingAllowed"],"0x0396":["FL","1-n","ScanSpotMetersetWeights"],"0x0398":["FL","2","ScanningSpotSize"],"0x0399":["FL","2-2n","ScanSpotSizesDelivered"],"0x039A":["IS","1","NumberOfPaintings"],"0x03A0":["SQ","1","IonToleranceTableSequence"],"0x03A2":["SQ","1","IonBeamSequence"],"0x03A4":["SQ","1","IonBeamLimitingDeviceSequence"],"0x03A6":["SQ","1","IonBlockSequence"],"0x03A8":["SQ","1","IonControlPointSequence"],"0x03AA":["SQ","1","IonWedgeSequence"],"0x03AC":["SQ","1","IonWedgePositionSequence"],"0x0401":["SQ","1","ReferencedSetupImageSequence"],"0x0402":["ST","1","SetupImageComment"],"0x0410":["SQ","1","MotionSynchronizationSequence"],"0x0412":["FL","3","ControlPointOrientation"],"0x0420":["SQ","1","GeneralAccessorySequence"],"0x0421":["SH","1","GeneralAccessoryID"],"0x0422":["ST","1","GeneralAccessoryDescription"],"0x0423":["CS","1","GeneralAccessoryType"],"0x0424":["IS","1","GeneralAccessoryNumber"],"0x0425":["FL","1","SourceToGeneralAccessoryDistance"],"0x0426":["DS","1","IsocenterToGeneralAccessoryDistance"],"0x0431":["SQ","1","ApplicatorGeometrySequence"],"0x0432":["CS","1","ApplicatorApertureShape"],"0x0433":["FL","1","ApplicatorOpening"],"0x0434":["FL","1","ApplicatorOpeningX"],"0x0435":["FL","1","ApplicatorOpeningY"],"0x0436":["FL","1","SourceToApplicatorMountingPositionDistance"],"0x0440":["IS","1","NumberOfBlockSlabItems"],"0x0441":["SQ","1","BlockSlabSequence"],"0x0442":["DS","1","BlockSlabThickness"],"0x0443":["US","1","BlockSlabNumber"],"0x0450":["SQ","1","DeviceMotionControlSequence"],"0x0451":["CS","1","DeviceMotionExecutionMode"],"0x0452":["CS","1","DeviceMotionObservationMode"],"0x0453":["SQ","1","DeviceMotionParameterCodeSequence"],"0x0501":["FL","1","DistalDepthFraction"],"0x0502":["FL","1","DistalDepth"],"0x0503":["FL","2","NominalRangeModulationFractions"],"0x0504":["FL","2","NominalRangeModulatedRegionDepths"],"0x0505":["SQ","1","DepthDoseParametersSequence"],"0x0506":["SQ","1","DeliveredDepthDoseParametersSequence"],"0x0507":["FL","1","DeliveredDistalDepthFraction"],"0x0508":["FL","1","DeliveredDistalDepth"],"0x0509":["FL","2","DeliveredNominalRangeModulationFractions"],"0x0510":["FL","2","DeliveredNominalRangeModulatedRegionDepths"],"0x0511":["CS","1","DeliveredReferenceDoseDefinition"],"0x0512":["CS","1","ReferenceDoseDefinition"],"0x0600":["US","1","RTControlPointIndex"],"0x0601":["US","1","RadiationGenerationModeIndex"],"0x0602":["US","1","ReferencedDefinedDeviceIndex"],"0x0603":["US","1","RadiationDoseIdentificationIndex"],"0x0604":["US","1","NumberOfRTControlPoints"],"0x0605":["US","1","ReferencedRadiationGenerationModeIndex"],"0x0606":["US","1","TreatmentPositionIndex"],"0x0607":["US","1","ReferencedDeviceIndex"],"0x0608":["LO","1","TreatmentPositionGroupLabel"],"0x0609":["UI","1","TreatmentPositionGroupUID"],"0x060A":["SQ","1","TreatmentPositionGroupSequence"],"0x060B":["US","1","ReferencedTreatmentPositionIndex"],"0x060C":["US","1","ReferencedRadiationDoseIdentificationIndex"],"0x060D":["FD","1","RTAccessoryHolderWaterEquivalentThickness"],"0x060E":["US","1","ReferencedRTAccessoryHolderDeviceIndex"],"0x060F":["CS","1","RTAccessoryHolderSlotExistenceFlag"],"0x0610":["SQ","1","RTAccessoryHolderSlotSequence"],"0x0611":["LO","1","RTAccessoryHolderSlotID"],"0x0612":["FD","1","RTAccessoryHolderSlotDistance"],"0x0613":["FD","1","RTAccessorySlotDistance"],"0x0614":["SQ","1","RTAccessoryHolderDefinitionSequence"],"0x0615":["LO","1","RTAccessoryDeviceSlotID"],"0x0616":["SQ","1","RTRadiationSequence"],"0x0617":["SQ","1","RadiationDoseSequence"],"0x0618":["SQ","1","RadiationDoseIdentificationSequence"],"0x0619":["LO","1","RadiationDoseIdentificationLabel"],"0x061A":["CS","1","ReferenceDoseType"],"0x061B":["CS","1","PrimaryDoseValueIndicator"],"0x061C":["SQ","1","DoseValuesSequence"],"0x061D":["CS","1-n","DoseValuePurpose"],"0x061E":["FD","3","ReferenceDosePointCoordinates"],"0x061F":["SQ","1","RadiationDoseValuesParametersSequence"],"0x0620":["SQ","1","MetersetToDoseMappingSequence"],"0x0621":["SQ","1","ExpectedInVivoMeasurementValuesSequence"],"0x0622":["US","1","ExpectedInVivoMeasurementValueIndex"],"0x0623":["LO","1","RadiationDoseInVivoMeasurementLabel"],"0x0624":["FD","2","RadiationDoseCentralAxisDisplacement"],"0x0625":["FD","1","RadiationDoseValue"],"0x0626":["FD","1","RadiationDoseSourceToSkinDistance"],"0x0627":["FD","3","RadiationDoseMeasurementPointCoordinates"],"0x0628":["FD","1","RadiationDoseSourceToExternalContourDistance"],"0x0629":["SQ","1","RTToleranceSetSequence"],"0x062A":["LO","1","RTToleranceSetLabel"],"0x062B":["SQ","1","AttributeToleranceValuesSequence"],"0x062C":["FD","1","ToleranceValue"],"0x062D":["SQ","1","PatientSupportPositionToleranceSequence"],"0x062E":["FD","1","TreatmentTimeLimit"],"0x062F":["SQ","1","CArmPhotonElectronControlPointSequence"],"0x0630":["SQ","1","ReferencedRTRadiationSequence"],"0x0631":["SQ","1","ReferencedRTInstanceSequence"],"0x0632":["SQ","1","ReferencedRTPatientSetupSequence"],"0x0634":["FD","1","SourceToPatientSurfaceDistance"],"0x0635":["SQ","1","TreatmentMachineSpecialModeCodeSequence"],"0x0636":["US","1","IntendedNumberOfFractions"],"0x0637":["CS","1","RTRadiationSetIntent"],"0x0638":["CS","1","RTRadiationPhysicalAndGeometricContentDetailFlag"],"0x0639":["CS","1","RTRecordFlag"],"0x063A":["SQ","1","TreatmentDeviceIdentificationSequence"],"0x063B":["SQ","1","ReferencedRTPhysicianIntentSequence"],"0x063C":["FD","1","CumulativeMeterset"],"0x063D":["FD","1","DeliveryRate"],"0x063E":["SQ","1","DeliveryRateUnitSequence"],"0x063F":["SQ","1","TreatmentPositionSequence"],"0x0640":["FD","1","RadiationSourceAxisDistance"],"0x0641":["US","1","NumberOfRTBeamLimitingDevices"],"0x0642":["FD","1","RTBeamLimitingDeviceProximalDistance"],"0x0643":["FD","1","RTBeamLimitingDeviceDistalDistance"],"0x0644":["SQ","1","ParallelRTBeamDelimiterDeviceOrientationLabelCodeSequence"],"0x0645":["FD","1","BeamModifierOrientationAngle"],"0x0646":["SQ","1","FixedRTBeamDelimiterDeviceSequence"],"0x0647":["SQ","1","ParallelRTBeamDelimiterDeviceSequence"],"0x0648":["US","1","NumberOfParallelRTBeamDelimiters"],"0x0649":["FD","2-n","ParallelRTBeamDelimiterBoundaries"],"0x064A":["FD","2-n","ParallelRTBeamDelimiterPositions"],"0x064B":["FD","2","RTBeamLimitingDeviceOffset"],"0x064C":["SQ","1","RTBeamDelimiterGeometrySequence"],"0x064D":["SQ","1","RTBeamLimitingDeviceDefinitionSequence"],"0x064E":["CS","1","ParallelRTBeamDelimiterOpeningMode"],"0x064F":["CS","1-n","ParallelRTBeamDelimiterLeafMountingSide"],"0x0650":["UI","1","PatientSetupUID"],"0x0651":["SQ","1","WedgeDefinitionSequence"],"0x0652":["FD","1","RadiationBeamWedgeAngle"],"0x0653":["FD","1","RadiationBeamWedgeThinEdgeDistance"],"0x0654":["FD","1","RadiationBeamEffectiveWedgeAngle"],"0x0655":["US","1","NumberOfWedgePositions"],"0x0656":["SQ","1","RTBeamLimitingDeviceOpeningSequence"],"0x0657":["US","1","NumberOfRTBeamLimitingDeviceOpenings"],"0x0658":["SQ","1","RadiationDosimeterUnitSequence"],"0x0659":["SQ","1","RTDeviceDistanceReferenceLocationCodeSequence"],"0x065A":["SQ","1","RadiationDeviceConfigurationAndCommissioningKeySequence"],"0x065B":["SQ","1","PatientSupportPositionParameterSequence"],"0x065C":["CS","1","PatientSupportPositionSpecificationMethod"],"0x065D":["SQ","1","PatientSupportPositionDeviceParameterSequence"],"0x065E":["US","1","DeviceOrderIndex"],"0x065F":["US","1","PatientSupportPositionParameterOrderIndex"],"0x0660":["SQ","1","PatientSupportPositionDeviceToleranceSequence"],"0x0661":["US","1","PatientSupportPositionToleranceOrderIndex"],"0x0662":["SQ","1","CompensatorDefinitionSequence"],"0x0663":["CS","1","CompensatorMapOrientation"],"0x0664":["OF","1","CompensatorProximalThicknessMap"],"0x0665":["OF","1","CompensatorDistalThicknessMap"],"0x0666":["FD","1","CompensatorBasePlaneOffset"],"0x0667":["SQ","1","CompensatorShapeFabricationCodeSequence"],"0x0668":["SQ","1","CompensatorShapeSequence"],"0x0669":["FD","1","RadiationBeamCompensatorMillingToolDiameter"],"0x066A":["SQ","1","BlockDefinitionSequence"],"0x066B":["OF","1","BlockEdgeData"],"0x066C":["CS","1","BlockOrientation"],"0x066D":["FD","1","RadiationBeamBlockThickness"],"0x066E":["FD","1","RadiationBeamBlockSlabThickness"],"0x066F":["SQ","1","BlockEdgeDataSequence"],"0x0670":["US","1","NumberOfRTAccessoryHolders"],"0x0671":["SQ","1","GeneralAccessoryDefinitionSequence"],"0x0672":["US","1","NumberOfGeneralAccessories"],"0x0673":["SQ","1","BolusDefinitionSequence"],"0x0674":["US","1","NumberOfBoluses"],"0x0675":["UI","1","EquipmentFrameOfReferenceUID"],"0x0676":["ST","1","EquipmentFrameOfReferenceDescription"],"0x0677":["SQ","1","EquipmentReferencePointCoordinatesSequence"],"0x0678":["SQ","1","EquipmentReferencePointCodeSequence"],"0x0679":["FD","1","RTBeamLimitingDeviceAngle"],"0x067A":["FD","1","SourceRollAngle"],"0x067B":["SQ","1","RadiationGenerationModeSequence"],"0x067C":["SH","1","RadiationGenerationModeLabel"],"0x067D":["ST","1","RadiationGenerationModeDescription"],"0x067E":["SQ","1","RadiationGenerationModeMachineCodeSequence"],"0x067F":["SQ","1","RadiationTypeCodeSequence"],"0x0680":["DS","1","NominalEnergy"],"0x0681":["DS","1","MinimumNominalEnergy"],"0x0682":["DS","1","MaximumNominalEnergy"],"0x0683":["SQ","1","RadiationFluenceModifierCodeSequence"],"0x0684":["SQ","1","EnergyUnitCodeSequence"],"0x0685":["US","1","NumberOfRadiationGenerationModes"],"0x0686":["SQ","1","PatientSupportDevicesSequence"],"0x0687":["US","1","NumberOfPatientSupportDevices"],"0x0688":["FD","1","RTBeamModifierDefinitionDistance"],"0x0689":["SQ","1","BeamAreaLimitSequence"],"0x068A":["SQ","1","ReferencedRTPrescriptionSequence"],"0x0700":["UI","1","TreatmentSessionUID"],"0x0701":["CS","1","RTRadiationUsage"],"0x0702":["SQ","1","ReferencedRTRadiationSetSequence"],"0x0703":["SQ","1","ReferencedRTRadiationRecordSequence"],"0x0704":["US","1","RTRadiationSetDeliveryNumber"],"0x0705":["US","1","ClinicalFractionNumber"],"0x0706":["CS","1","RTTreatmentFractionCompletionStatus"],"0x0707":["CS","1","RTRadiationSetUsage"],"0x0708":["CS","1","TreatmentDeliveryContinuationFlag"],"0x0709":["CS","1","TreatmentRecordContentOrigin"],"0x0714":["CS","1","RTTreatmentTerminationStatus"],"0x0715":["SQ","1","RTTreatmentTerminationReasonCodeSequence"],"0x0716":["SQ","1","MachineSpecificTreatmentTerminationCodeSequence"],"0x0722":["SQ","1","RTRadiationSalvageRecordControlPointSequence"],"0x0723":["CS","1","StartingMetersetValueKnownFlag"],"0x0730":["ST","1","TreatmentTerminationDescription"],"0x0731":["SQ","1","TreatmentToleranceViolationSequence"],"0x0732":["CS","1","TreatmentToleranceViolationCategory"],"0x0733":["SQ","1","TreatmentToleranceViolationAttributeSequence"],"0x0734":["ST","1","TreatmentToleranceViolationDescription"],"0x0735":["ST","1","TreatmentToleranceViolationIdentification"],"0x0736":["DT","1","TreatmentToleranceViolationDateTime"],"0x073A":["DT","1","RecordedRTControlPointDateTime"],"0x073B":["US","1","ReferencedRadiationRTControlPointIndex"],"0x073E":["SQ","1","AlternateValueSequence"],"0x073F":["SQ","1","ConfirmationSequence"],"0x0740":["SQ","1","InterlockSequence"],"0x0741":["DT","1","InterlockDateTime"],"0x0742":["ST","1","InterlockDescription"],"0x0743":["SQ","1","InterlockOriginatingDeviceSequence"],"0x0744":["SQ","1","InterlockCodeSequence"],"0x0745":["SQ","1","InterlockResolutionCodeSequence"],"0x0746":["SQ","1","InterlockResolutionUserSequence"],"0x0760":["DT","1","OverrideDateTime"],"0x0761":["SQ","1","TreatmentToleranceViolationTypeCodeSequence"],"0x0762":["SQ","1","TreatmentToleranceViolationCauseCodeSequence"],"0x0772":["SQ","1","MeasuredMetersetToDoseMappingSequence"],"0x0773":["US","1","ReferencedExpectedInVivoMeasurementValueIndex"],"0x0774":["SQ","1","DoseMeasurementDeviceCodeSequence"],"0x0780":["SQ","1","AdditionalParameterRecordingInstanceSequence"],"0x0782":["US","1",""],"0x0783":["ST","1","InterlockOriginDescription"],"0x0784":["SQ","1","RTPatientPositionScopeSequence"],"0x0785":["UI","1","ReferencedTreatmentPositionGroupUID"],"0x0786":["US","1","RadiationOrderIndex"],"0x0787":["SQ","1","OmittedRadiationSequence"],"0x0788":["SQ","1","ReasonForOmissionCodeSequence"],"0x0789":["SQ","1","RTDeliveryStartPatientPositionSequence"],"0x078A":["SQ","1","RTTreatmentPreparationPatientPositionSequence"],"0x078B":["SQ","1","ReferencedRTTreatmentPreparationSequence"],"0x078C":["SQ","1","ReferencedPatientSetupPhotoSequence"],"0x078D":["SQ","1","PatientTreatmentPreparationMethodCodeSequence"],"0x078E":["LT","1","PatientTreatmentPreparationProcedureParameterDescription"],"0x078F":["SQ","1","PatientTreatmentPreparationDeviceSequence"],"0x0790":["SQ","1","PatientTreatmentPreparationProcedureSequence"],"0x0791":["SQ","1","PatientTreatmentPreparationProcedureCodeSequence"],"0x0792":["LT","1","PatientTreatmentPreparationMethodDescription"],"0x0793":["SQ","1","PatientTreatmentPreparationProcedureParameterSequence"],"0x0794":["LT","1","PatientSetupPhotoDescription"],"0x0795":["US","1","PatientTreatmentPreparationProcedureIndex"],"0x0796":["US","1","ReferencedPatientSetupProcedureIndex"],"0x0797":["SQ","1","RTRadiationTaskSequence"],"0x0798":["SQ","1","RTPatientPositionDisplacementSequence"],"0x0799":["SQ","1","RTPatientPositionSequence"],"0x079A":["LO","1","DisplacementReferenceLabel"],"0x079B":["FD","16","DisplacementMatrix"],"0x079C":["SQ","1","PatientSupportDisplacementSequence"],"0x079D":["SQ","1","DisplacementReferenceLocationCodeSequence"],"0x079E":["CS","1","RTRadiationSetDeliveryUsage"]},"0x300C":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SQ","1","ReferencedRTPlanSequence"],"0x0004":["SQ","1","ReferencedBeamSequence"],"0x0006":["IS","1","ReferencedBeamNumber"],"0x0007":["IS","1","ReferencedReferenceImageNumber"],"0x0008":["DS","1","StartCumulativeMetersetWeight"],"0x0009":["DS","1","EndCumulativeMetersetWeight"],"0x000A":["SQ","1","ReferencedBrachyApplicationSetupSequence"],"0x000C":["IS","1","ReferencedBrachyApplicationSetupNumber"],"0x000E":["IS","1","ReferencedSourceNumber"],"0x0020":["SQ","1","ReferencedFractionGroupSequence"],"0x0022":["IS","1","ReferencedFractionGroupNumber"],"0x0040":["SQ","1","ReferencedVerificationImageSequence"],"0x0042":["SQ","1","ReferencedReferenceImageSequence"],"0x0050":["SQ","1","ReferencedDoseReferenceSequence"],"0x0051":["IS","1","ReferencedDoseReferenceNumber"],"0x0055":["SQ","1","BrachyReferencedDoseReferenceSequence"],"0x0060":["SQ","1","ReferencedStructureSetSequence"],"0x006A":["IS","1","ReferencedPatientSetupNumber"],"0x0080":["SQ","1","ReferencedDoseSequence"],"0x00A0":["IS","1","ReferencedToleranceTableNumber"],"0x00B0":["SQ","1","ReferencedBolusSequence"],"0x00C0":["IS","1","ReferencedWedgeNumber"],"0x00D0":["IS","1","ReferencedCompensatorNumber"],"0x00E0":["IS","1","ReferencedBlockNumber"],"0x00F0":["IS","1","ReferencedControlPointIndex"],"0x00F2":["SQ","1","ReferencedControlPointSequence"],"0x00F4":["IS","1","ReferencedStartControlPointIndex"],"0x00F6":["IS","1","ReferencedStopControlPointIndex"],"0x0100":["IS","1","ReferencedRangeShifterNumber"],"0x0102":["IS","1","ReferencedLateralSpreadingDeviceNumber"],"0x0104":["IS","1","ReferencedRangeModulatorNumber"],"0x0111":["SQ","1","OmittedBeamTaskSequence"],"0x0112":["CS","1","ReasonForOmission"],"0x0113":["LO","1","ReasonForOmissionDescription"],"0x0114":["SQ","1","PrescriptionOverviewSequence"],"0x0115":["FL","1","TotalPrescriptionDose"],"0x0116":["SQ","1","PlanOverviewSequence"],"0x0117":["US","1","PlanOverviewIndex"],"0x0118":["US","1","ReferencedPlanOverviewIndex"],"0x0119":["US","1","NumberOfFractionsIncluded"],"0x0120":["SQ","1","DoseCalibrationConditionsSequence"],"0x0121":["FD","1","AbsorbedDoseToMetersetRatio"],"0x0122":["FD","2","DelineatedRadiationFieldSize"],"0x0123":["CS","1","DoseCalibrationConditionsVerifiedFlag"],"0x0124":["FD","1","CalibrationReferencePointDepth"],"0x0125":["SQ","1","GatingBeamHoldTransitionSequence"],"0x0126":["CS","1","BeamHoldTransition"],"0x0127":["DT","1","BeamHoldTransitionDateTime"],"0x0128":["SQ","1","BeamHoldOriginatingDeviceSequence"]},"0x300E":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["CS","1","ApprovalStatus"],"0x0004":["DA","1","ReviewDate"],"0x0005":["TM","1","ReviewTime"],"0x0008":["PN","1","ReviewerName"]},"0x3010":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["SQ","1","RadiobiologicalDoseEffectSequence"],"0x0002":["CS","1","RadiobiologicalDoseEffectFlag"],"0x0003":["SQ","1","EffectiveDoseCalculationMethodCategoryCodeSequence"],"0x0004":["SQ","1","EffectiveDoseCalculationMethodCodeSequence"],"0x0005":["LO","1","EffectiveDoseCalculationMethodDescription"],"0x0006":["UI","1","ConceptualVolumeUID"],"0x0007":["SQ","1","OriginatingSOPInstanceReferenceSequence"],"0x0008":["SQ","1","ConceptualVolumeConstituentSequence"],"0x0009":["SQ","1","EquivalentConceptualVolumeInstanceReferenceSequence"],"0x000A":["SQ","1","EquivalentConceptualVolumesSequence"],"0x000B":["UI","1","ReferencedConceptualVolumeUID"],"0x000C":["UT","1","ConceptualVolumeCombinationExpression"],"0x000D":["US","1","ConceptualVolumeConstituentIndex"],"0x000E":["CS","1","ConceptualVolumeCombinationFlag"],"0x000F":["ST","1","ConceptualVolumeCombinationDescription"],"0x0010":["CS","1","ConceptualVolumeSegmentationDefinedFlag"],"0x0011":["SQ","1","ConceptualVolumeSegmentationReferenceSequence"],"0x0012":["SQ","1","ConceptualVolumeConstituentSegmentationReferenceSequence"],"0x0013":["UI","1","ConstituentConceptualVolumeUID"],"0x0014":["SQ","1","DerivationConceptualVolumeSequence"],"0x0015":["UI","1","SourceConceptualVolumeUID"],"0x0016":["SQ","1","ConceptualVolumeDerivationAlgorithmSequence"],"0x0017":["ST","1","ConceptualVolumeDescription"],"0x0018":["SQ","1","SourceConceptualVolumeSequence"],"0x0019":["SQ","1","AuthorIdentificationSequence"],"0x001A":["LO","1","ManufacturerModelVersion"],"0x001B":["UC","1","DeviceAlternateIdentifier"],"0x001C":["CS","1","DeviceAlternateIdentifierType"],"0x001D":["LT","1","DeviceAlternateIdentifierFormat"],"0x001E":["LO","1","SegmentationCreationTemplateLabel"],"0x001F":["UI","1","SegmentationTemplateUID"],"0x0020":["US","1","ReferencedSegmentReferenceIndex"],"0x0021":["SQ","1","SegmentReferenceSequence"],"0x0022":["US","1","SegmentReferenceIndex"],"0x0023":["SQ","1","DirectSegmentReferenceSequence"],"0x0024":["SQ","1","CombinationSegmentReferenceSequence"],"0x0025":["SQ","1","ConceptualVolumeSequence"],"0x0026":["SQ","1","SegmentedRTAccessoryDeviceSequence"],"0x0027":["SQ","1","SegmentCharacteristicsSequence"],"0x0028":["SQ","1","RelatedSegmentCharacteristicsSequence"],"0x0029":["US","1","SegmentCharacteristicsPrecedence"],"0x002A":["SQ","1","RTSegmentAnnotationSequence"],"0x002B":["SQ","1","SegmentAnnotationCategoryCodeSequence"],"0x002C":["SQ","1","SegmentAnnotationTypeCodeSequence"],"0x002D":["LO","1","DeviceLabel"],"0x002E":["SQ","1","DeviceTypeCodeSequence"],"0x002F":["SQ","1","SegmentAnnotationTypeModifierCodeSequence"],"0x0030":["SQ","1","PatientEquipmentRelationshipCodeSequence"],"0x0031":["UI","1","ReferencedFiducialsUID"],"0x0032":["SQ","1","PatientTreatmentOrientationSequence"],"0x0033":["SH","1","UserContentLabel"],"0x0034":["LO","1","UserContentLongLabel"],"0x0035":["SH","1","EntityLabel"],"0x0036":["LO","1","EntityName"],"0x0037":["ST","1","EntityDescription"],"0x0038":["LO","1","EntityLongLabel"],"0x0039":["US","1","DeviceIndex"],"0x003A":["US","1","RTTreatmentPhaseIndex"],"0x003B":["UI","1","RTTreatmentPhaseUID"],"0x003C":["US","1","RTPrescriptionIndex"],"0x003D":["US","1","RTSegmentAnnotationIndex"],"0x003E":["US","1","BasisRTTreatmentPhaseIndex"],"0x003F":["US","1","RelatedRTTreatmentPhaseIndex"],"0x0040":["US","1","ReferencedRTTreatmentPhaseIndex"],"0x0041":["US","1","ReferencedRTPrescriptionIndex"],"0x0042":["US","1","ReferencedParentRTPrescriptionIndex"],"0x0043":["ST","1","ManufacturerDeviceIdentifier"],"0x0044":["SQ","1","InstanceLevelReferencedPerformedProcedureStepSequence"],"0x0045":["CS","1","RTTreatmentPhaseIntentPresenceFlag"],"0x0046":["CS","1","RadiotherapyTreatmentType"],"0x0047":["CS","1-n","TeletherapyRadiationType"],"0x0048":["CS","1-n","BrachytherapySourceType"],"0x0049":["SQ","1","ReferencedRTTreatmentPhaseSequence"],"0x004A":["SQ","1","ReferencedDirectSegmentInstanceSequence"],"0x004B":["SQ","1","IntendedRTTreatmentPhaseSequence"],"0x004C":["DA","1","IntendedPhaseStartDate"],"0x004D":["DA","1","IntendedPhaseEndDate"],"0x004E":["SQ","1","RTTreatmentPhaseIntervalSequence"],"0x004F":["CS","1","TemporalRelationshipIntervalAnchor"],"0x0050":["FD","1","MinimumNumberOfIntervalDays"],"0x0051":["FD","1","MaximumNumberOfIntervalDays"],"0x0052":["UI","1-n","PertinentSOPClassesInStudy"],"0x0053":["UI","1-n","PertinentSOPClassesInSeries"],"0x0054":["LO","1","RTPrescriptionLabel"],"0x0055":["SQ","1","RTPhysicianIntentPredecessorSequence"],"0x0056":["LO","1","RTTreatmentApproachLabel"],"0x0057":["SQ","1","RTPhysicianIntentSequence"],"0x0058":["US","1","RTPhysicianIntentIndex"],"0x0059":["CS","1","RTTreatmentIntentType"],"0x005A":["UT","1","RTPhysicianIntentNarrative"],"0x005B":["SQ","1","RTProtocolCodeSequence"],"0x005C":["ST","1","ReasonForSuperseding"],"0x005D":["SQ","1","RTDiagnosisCodeSequence"],"0x005E":["US","1","ReferencedRTPhysicianIntentIndex"],"0x005F":["SQ","1","RTPhysicianIntentInputInstanceSequence"],"0x0060":["SQ","1","RTAnatomicPrescriptionSequence"],"0x0061":["UT","1","PriorTreatmentDoseDescription"],"0x0062":["SQ","1","PriorTreatmentReferenceSequence"],"0x0063":["CS","1","DosimetricObjectiveEvaluationScope"],"0x0064":["SQ","1","TherapeuticRoleCategoryCodeSequence"],"0x0065":["SQ","1","TherapeuticRoleTypeCodeSequence"],"0x0066":["US","1","ConceptualVolumeOptimizationPrecedence"],"0x0067":["SQ","1","ConceptualVolumeCategoryCodeSequence"],"0x0068":["CS","1","ConceptualVolumeBlockingConstraint"],"0x0069":["SQ","1","ConceptualVolumeTypeCodeSequence"],"0x006A":["SQ","1","ConceptualVolumeTypeModifierCodeSequence"],"0x006B":["SQ","1","RTPrescriptionSequence"],"0x006C":["SQ","1","DosimetricObjectiveSequence"],"0x006D":["SQ","1","DosimetricObjectiveTypeCodeSequence"],"0x006E":["UI","1","DosimetricObjectiveUID"],"0x006F":["UI","1","ReferencedDosimetricObjectiveUID"],"0x0070":["SQ","1","DosimetricObjectiveParameterSequence"],"0x0071":["SQ","1","ReferencedDosimetricObjectivesSequence"],"0x0073":["CS","1","AbsoluteDosimetricObjectiveFlag"],"0x0074":["FD","1","DosimetricObjectiveWeight"],"0x0075":["CS","1","DosimetricObjectivePurpose"],"0x0076":["SQ","1","PlanningInputInformationSequence"],"0x0077":["LO","1","TreatmentSite"],"0x0078":["SQ","1","TreatmentSiteCodeSequence"],"0x0079":["SQ","1","FractionPatternSequence"],"0x007A":["UT","1","TreatmentTechniqueNotes"],"0x007B":["UT","1","PrescriptionNotes"],"0x007C":["IS","1","NumberOfIntervalFractions"],"0x007D":["US","1","NumberOfFractions"],"0x007E":["US","1","IntendedDeliveryDuration"],"0x007F":["UT","1","FractionationNotes"],"0x0080":["SQ","1","RTTreatmentTechniqueCodeSequence"],"0x0081":["SQ","1","PrescriptionNotesSequence"],"0x0082":["SQ","1","FractionBasedRelationshipSequence"],"0x0083":["CS","1","FractionBasedRelationshipIntervalAnchor"],"0x0084":["FD","1","MinimumHoursBetweenFractions"],"0x0085":["TM","1-n","IntendedFractionStartTime"],"0x0086":["LT","1","IntendedStartDayOfWeek"],"0x0087":["SQ","1","WeekdayFractionPatternSequence"],"0x0088":["SQ","1","DeliveryTimeStructureCodeSequence"],"0x0089":["SQ","1","TreatmentSiteModifierCodeSequence"],"0x0090":["CS","1","RoboticBaseLocationIndicator"],"0x0091":["SQ","1","RoboticPathNodeSetCodeSequence"],"0x0092":["UL","1","RoboticNodeIdentifier"],"0x0093":["FD","3","RTTreatmentSourceCoordinates"],"0x0094":["FD","1","RadiationSourceCoordinateSystemYawAngle"],"0x0095":["FD","1","RadiationSourceCoordinateSystemRollAngle"],"0x0096":["FD","1","RadiationSourceCoordinateSystemPitchAngle"],"0x0097":["SQ","1","RoboticPathControlPointSequence"],"0x0098":["SQ","1","TomotherapeuticControlPointSequence"],"0x0099":["FD","1-n","TomotherapeuticLeafOpenDurations"],"0x009A":["FD","1-n","TomotherapeuticLeafInitialClosedDurations"]},"0x4000":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["LT","1","Arbitrary"],"0x4000":["LT","1","TextComments"]},"0x4008":{"0x0000":["UL","1","GenericGroupLength"],"0x0040":["SH","1","ResultsID"],"0x0042":["LO","1","ResultsIDIssuer"],"0x0050":["SQ","1","ReferencedInterpretationSequence"],"0x00FF":["CS","1","ReportProductionStatusTrial"],"0x0100":["DA","1","InterpretationRecordedDate"],"0x0101":["TM","1","InterpretationRecordedTime"],"0x0102":["PN","1","InterpretationRecorder"],"0x0103":["LO","1","ReferenceToRecordedSound"],"0x0108":["DA","1","InterpretationTranscriptionDate"],"0x0109":["TM","1","InterpretationTranscriptionTime"],"0x010A":["PN","1","InterpretationTranscriber"],"0x010B":["ST","1","InterpretationText"],"0x010C":["PN","1","InterpretationAuthor"],"0x0111":["SQ","1","InterpretationApproverSequence"],"0x0112":["DA","1","InterpretationApprovalDate"],"0x0113":["TM","1","InterpretationApprovalTime"],"0x0114":["PN","1","PhysicianApprovingInterpretation"],"0x0115":["LT","1","InterpretationDiagnosisDescription"],"0x0117":["SQ","1","InterpretationDiagnosisCodeSequence"],"0x0118":["SQ","1","ResultsDistributionListSequence"],"0x0119":["PN","1","DistributionName"],"0x011A":["LO","1","DistributionAddress"],"0x0200":["SH","1","InterpretationID"],"0x0202":["LO","1","InterpretationIDIssuer"],"0x0210":["CS","1","InterpretationTypeID"],"0x0212":["CS","1","InterpretationStatusID"],"0x0300":["ST","1","Impressions"],"0x4000":["ST","1","ResultsComments"]},"0x4010":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","LowEnergyDetectors"],"0x0002":["CS","1","HighEnergyDetectors"],"0x0004":["SQ","1","DetectorGeometrySequence"],"0x1001":["SQ","1","ThreatROIVoxelSequence"],"0x1004":["FL","3","ThreatROIBase"],"0x1005":["FL","3","ThreatROIExtents"],"0x1006":["OB","1","ThreatROIBitmap"],"0x1007":["SH","1","RouteSegmentID"],"0x1008":["CS","1","GantryType"],"0x1009":["CS","1","OOIOwnerType"],"0x100A":["SQ","1","RouteSegmentSequence"],"0x1010":["US","1","PotentialThreatObjectID"],"0x1011":["SQ","1","ThreatSequence"],"0x1012":["CS","1","ThreatCategory"],"0x1013":["LT","1","ThreatCategoryDescription"],"0x1014":["CS","1","ATDAbilityAssessment"],"0x1015":["CS","1","ATDAssessmentFlag"],"0x1016":["FL","1","ATDAssessmentProbability"],"0x1017":["FL","1","Mass"],"0x1018":["FL","1","Density"],"0x1019":["FL","1","ZEffective"],"0x101A":["SH","1","BoardingPassID"],"0x101B":["FL","3","CenterOfMass"],"0x101C":["FL","3","CenterOfPTO"],"0x101D":["FL","6-n","BoundingPolygon"],"0x101E":["SH","1","RouteSegmentStartLocationID"],"0x101F":["SH","1","RouteSegmentEndLocationID"],"0x1020":["CS","1","RouteSegmentLocationIDType"],"0x1021":["CS","1-n","AbortReason"],"0x1023":["FL","1","VolumeOfPTO"],"0x1024":["CS","1","AbortFlag"],"0x1025":["DT","1","RouteSegmentStartTime"],"0x1026":["DT","1","RouteSegmentEndTime"],"0x1027":["CS","1","TDRType"],"0x1028":["CS","1","InternationalRouteSegment"],"0x1029":["LO","1-n","ThreatDetectionAlgorithmAndVersion"],"0x102A":["SH","1","AssignedLocation"],"0x102B":["DT","1","AlarmDecisionTime"],"0x1031":["CS","1","AlarmDecision"],"0x1033":["US","1","NumberOfTotalObjects"],"0x1034":["US","1","NumberOfAlarmObjects"],"0x1037":["SQ","1","PTORepresentationSequence"],"0x1038":["SQ","1","ATDAssessmentSequence"],"0x1039":["CS","1","TIPType"],"0x103A":["CS","1","DICOSVersion"],"0x1041":["DT","1","OOIOwnerCreationTime"],"0x1042":["CS","1","OOIType"],"0x1043":["FL","3","OOISize"],"0x1044":["CS","1","AcquisitionStatus"],"0x1045":["SQ","1","BasisMaterialsCodeSequence"],"0x1046":["CS","1","PhantomType"],"0x1047":["SQ","1","OOIOwnerSequence"],"0x1048":["CS","1","ScanType"],"0x1051":["LO","1","ItineraryID"],"0x1052":["SH","1","ItineraryIDType"],"0x1053":["LO","1","ItineraryIDAssigningAuthority"],"0x1054":["SH","1","RouteID"],"0x1055":["SH","1","RouteIDAssigningAuthority"],"0x1056":["CS","1","InboundArrivalType"],"0x1058":["SH","1","CarrierID"],"0x1059":["CS","1","CarrierIDAssigningAuthority"],"0x1060":["FL","3","SourceOrientation"],"0x1061":["FL","3","SourcePosition"],"0x1062":["FL","1","BeltHeight"],"0x1064":["SQ","1","AlgorithmRoutingCodeSequence"],"0x1067":["CS","1","TransportClassification"],"0x1068":["LT","1","OOITypeDescriptor"],"0x1069":["FL","1","TotalProcessingTime"],"0x106C":["OB","1","DetectorCalibrationData"],"0x106D":["CS","1","AdditionalScreeningPerformed"],"0x106E":["CS","1","AdditionalInspectionSelectionCriteria"],"0x106F":["SQ","1","AdditionalInspectionMethodSequence"],"0x1070":["CS","1","AITDeviceType"],"0x1071":["SQ","1","QRMeasurementsSequence"],"0x1072":["SQ","1","TargetMaterialSequence"],"0x1073":["FD","1","SNRThreshold"],"0x1075":["DS","1","ImageScaleRepresentation"],"0x1076":["SQ","1","ReferencedPTOSequence"],"0x1077":["SQ","1","ReferencedTDRInstanceSequence"],"0x1078":["ST","1","PTOLocationDescription"],"0x1079":["SQ","1","AnomalyLocatorIndicatorSequence"],"0x107A":["FL","3","AnomalyLocatorIndicator"],"0x107B":["SQ","1","PTORegionSequence"],"0x107C":["CS","1","InspectionSelectionCriteria"],"0x107D":["SQ","1","SecondaryInspectionMethodSequence"],"0x107E":["DS","6","PRCSToRCSOrientation"]},"0x4FFE":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["SQ","1","MACParametersSequence"]},"0x5000":{"0x0000":["UL","1","GenericGroupLength"],"0x0005":["US","1","CurveDimensions"],"0x0010":["US","1","NumberOfPoints"],"0x0020":["CS","1","TypeOfData"],"0x0022":["LO","1","CurveDescription"],"0x0030":["SH","1-n","AxisUnits"],"0x0040":["SH","1-n","AxisLabels"],"0x0103":["US","1","DataValueRepresentation"],"0x0104":["US","1-n","MinimumCoordinateValue"],"0x0105":["US","1-n","MaximumCoordinateValue"],"0x0106":["SH","1-n","CurveRange"],"0x0110":["US","1-n","CurveDataDescriptor"],"0x0112":["US","1-n","CoordinateStartValue"],"0x0114":["US","1-n","CoordinateStepValue"],"0x1001":["CS","1","CurveActivationLayer"],"0x2000":["US","1","AudioType"],"0x2002":["US","1","AudioSampleFormat"],"0x2004":["US","1","NumberOfChannels"],"0x2006":["UL","1","NumberOfSamples"],"0x2008":["UL","1","SampleRate"],"0x200A":["UL","1","TotalTime"],"0x200C":["ox","1","AudioSampleData"],"0x200E":["LT","1","AudioComments"],"0x2500":["LO","1","CurveLabel"],"0x2600":["SQ","1","CurveReferencedOverlaySequence"],"0x2610":["US","1","CurveReferencedOverlayGroup"],"0x3000":["ox","1","CurveData"]},"0x5200":{"0x0000":["UL","1","GenericGroupLength"],"0x9229":["SQ","1","SharedFunctionalGroupsSequence"],"0x9230":["SQ","1","PerFrameFunctionalGroupsSequence"]},"0x5400":{"0x0000":["UL","1","GenericGroupLength"],"0x0100":["SQ","1","WaveformSequence"],"0x0110":["ox","1","ChannelMinimumValue"],"0x0112":["ox","1","ChannelMaximumValue"],"0x1004":["US","1","WaveformBitsAllocated"],"0x1006":["CS","1","WaveformSampleInterpretation"],"0x100A":["ox","1","WaveformPaddingValue"],"0x1010":["ox","1","WaveformData"]},"0x5600":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["OF","1","FirstOrderPhaseCorrectionAngle"],"0x0020":["OF","1","SpectroscopyData"]},"0x6000":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","1","OverlayRows"],"0x0011":["US","1","OverlayColumns"],"0x0012":["US","1","OverlayPlanes"],"0x0015":["IS","1","NumberOfFramesInOverlay"],"0x0022":["LO","1","OverlayDescription"],"0x0040":["CS","1","OverlayType"],"0x0045":["LO","1","OverlaySubtype"],"0x0050":["SS","2","OverlayOrigin"],"0x0051":["US","1","ImageFrameOrigin"],"0x0052":["US","1","OverlayPlaneOrigin"],"0x0060":["CS","1","OverlayCompressionCode"],"0x0061":["SH","1","OverlayCompressionOriginator"],"0x0062":["SH","1","OverlayCompressionLabel"],"0x0063":["CS","1","OverlayCompressionDescription"],"0x0066":["AT","1-n","OverlayCompressionStepPointers"],"0x0068":["US","1","OverlayRepeatInterval"],"0x0069":["US","1","OverlayBitsGrouped"],"0x0100":["US","1","OverlayBitsAllocated"],"0x0102":["US","1","OverlayBitPosition"],"0x0110":["CS","1","OverlayFormat"],"0x0200":["US","1","OverlayLocation"],"0x0800":["CS","1-n","OverlayCodeLabel"],"0x0802":["US","1","OverlayNumberOfTables"],"0x0803":["AT","1-n","OverlayCodeTableLocation"],"0x0804":["US","1","OverlayBitsForCodeWord"],"0x1001":["CS","1","OverlayActivationLayer"],"0x1100":["US","1","OverlayDescriptorGray"],"0x1101":["US","1","OverlayDescriptorRed"],"0x1102":["US","1","OverlayDescriptorGreen"],"0x1103":["US","1","OverlayDescriptorBlue"],"0x1200":["US","1-n","OverlaysGray"],"0x1201":["US","1-n","OverlaysRed"],"0x1202":["US","1-n","OverlaysGreen"],"0x1203":["US","1-n","OverlaysBlue"],"0x1301":["IS","1","ROIArea"],"0x1302":["DS","1","ROIMean"],"0x1303":["DS","1","ROIStandardDeviation"],"0x1500":["LO","1","OverlayLabel"],"0x3000":["ox","1","OverlayData"],"0x4000":["LT","1","OverlayComments"]},"0x7F00":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["ox","1","VariablePixelData"],"0x0011":["US","1","VariableNextDataGroup"],"0x0020":["OW","1","VariableCoefficientsSDVN"],"0x0030":["OW","1","VariableCoefficientsSDHN"],"0x0040":["OW","1","VariableCoefficientsSDDN"]},"0x7FE0":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["OV","1","ExtendedOffsetTable"],"0x0002":["OV","1","ExtendedOffsetTableLengths"],"0x0008":["OF","1","FloatPixelData"],"0x0009":["OD","1","DoubleFloatPixelData"],"0x0010":["ox","1","PixelData"],"0x0020":["OW","1","CoefficientsSDVN"],"0x0030":["OW","1","CoefficientsSDHN"],"0x0040":["OW","1","CoefficientsSDDN"]},"0xFFFA":{"0x0000":["UL","1","GenericGroupLength"],"0xFFFA":["SQ","1","DigitalSignaturesSequence"]},"0xFFFC":{"0x0000":["UL","1","GenericGroupLength"],"0xFFFC":["OB","1","DataSetTrailingPadding"]},"0xFFFE":{"0x0000":["UL","1","GenericGroupLength"],"0xE000":["NONE","1","Item"],"0xE00D":["NONE","1","ItemDelimitationItem"],"0xE0DD":["NONE","1","SequenceDelimitationItem"]}},a.dicom.TagGroups={x0000:"Command",x0002:"Meta Element",x0004:"File Set",x0008:"Identifying",x0009:"SPI Identifying",x0010:"Patient",x0012:"Clinical Trial",x0018:"Acquisition",x0019:"SPI Acquisition",x0020:"Image",x0021:"SPI Image",x0022:"Ophtalmology",x0028:"Image Presentation",x0032:"Study",x0038:"Visit",x003A:"Waveform",x0040:"Procedure",x0042:"Encapsulated Document",x0050:"Device Informations",x0054:"Nuclear Medicine",x0060:"Histogram",x0070:"Presentation State",x0072:"Hanging Protocol",x0088:"Storage",x0100:"Authorization",x0400:"Digital Signature",x1000:"Code Table",x1010:"Zonal Map",x2000:"Film Session",x2010:"Film Box",x2020:"Image Box",x2030:"Annotation",x2040:"Overlay Box",x2050:"Presentation LUT",x2100:"Print Job",x2110:"Printer",x2120:"Queue",x2130:"Print Content",x2200:"Media Creation",x3002:"RT Image",x3004:"RT Dose",x3006:"RT StructureSet",x3008:"RT Treatment",x300A:"RT Plan",x300C:"RT Relationship",x300E:"RT Approval",x4000:"Text",x4008:"Results",x4FFE:"MAC Parameters",x5000:"Curve",x5002:"Curve",x5004:"Curve",x5006:"Curve",x5008:"Curve",x500A:"Curve",x500C:"Curve",x500E:"Curve",x5400:"Waveform Data",x6000:"Overlays",x6002:"Overlays",x6004:"Overlays",x6008:"Overlays",x600A:"Overlays",x600C:"Overlays",x600E:"Overlays",xFFFC:"Generic",x7FE0:"Pixel Data",xFFFF:"Unknown"},a.dicom.vr32bitVL=["OB","OD","OF","OL","OV","OW","SQ","SV","UC","UN","UR","UT","UV","ox"],a.dicom.charSetString=["SH","LO","UC","ST","LT","UT","PN"],a.dicom.vrTypes={AE:"string",AS:"string",AT:void 0,CS:"string",DA:"string",DS:"string",DT:"string",FL:"Float32",FD:"Float64",IS:"string",LO:"string",LT:"string",OB:"Uint8",OD:"Uint64",OF:"Uint32",OL:"Uint32",OV:"Uint64",OW:"Uint16",PN:"string",SH:"string",SL:"Int32",SQ:void 0,SS:"Int16",ST:"string",SV:"Int64",TM:"string",UC:"string",UI:"string",UL:"Uint32",UN:"Uint8",UR:"string",US:"Uint16",UT:"string",UV:"Uint64"},a=a||{}).gui=a.gui||{},t=t||{},a.gui.DrawLayer=function(e){e.className+=" drawLayer";var n,r,i,o=this,s=null,l={x:1,y:1},u={x:0,y:0},c={x:0,y:0},d={x:0,y:0},f={x:0,y:0},h=null,p=null,g=(this.getDataIndex=function(){return p},new a.utils.ListenerHandler);function m(e){e.srclayerid=o.getId(),e.dataid=p,g.fireEvent(e)}this.getKonvaStage=function(){return s},this.getKonvaLayer=function(){return s.getLayers()[0]},this.getDrawController=function(){return h},this.setPlaneHelper=function(e){i=e},this.getId=function(){return e.id},this.getBaseSize=function(){return n},this.getOpacity=function(){return s.opacity()},this.setOpacity=function(e){s.opacity(Math.min(Math.max(e,0),1))},this.addFlipOffsetX=function(){var e=s.scale(),t=s.size();(f.x+=t.width/e.x,t=s.offset()).x+=f.x,s.offset(t)},this.addFlipOffsetY=function(){var e=s.scale(),t=s.size();(f.y+=t.height/e.y,t=s.offset()).y+=f.y,s.offset(t)},this.setScale=function(e,t){for(var n=i.getTargetOrientedPositiveXYZ(e),r=(n={x:l.x*n.x,y:l.y*n.y},s.offset()),o=2/(1===Math.abs(e.x)&&1===Math.abs(e.y)&&1===Math.abs(e.z)?(e={x:r.x-d.x,y:r.y-d.y},d={x:0,y:0},s.offset(e)):void 0!==t&&(e={x:(e=i.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()})).x+u.x,y:e.y+u.y},t=a.gui.getScaledOffset(r,s.scale(),n,e),e={x:d.x+t.x-r.x,y:d.y+t.y-r.y},d=e,s.offset(t)),s.scale(n),r=n).x,c=2/r.y,f=s.find("Label"),h=0;h<f.length;++h)f[h].scale({x:o,y:c})},this.setOffset=function(e){e=i.getPlaneOffsetFromOffset3D(e),s.offset({x:e.x+c.x+u.x+d.x+f.x,y:e.y+c.y+u.y+d.y+f.y})},this.setBaseOffset=function(e,t){var n=i.getNativeScrollIndex();return n=i.getPlaneOffsetFromOffset3D({x:(0===n?e:t).getX(),y:(1===n?e:t).getY(),z:(2===n?e:t).getZ()}),(e=u.x!==n.x||u.y!==n.y)&&(t=s.offset(),s.offset({x:t.x-u.x+n.x,y:t.y-u.y+n.y}),u=n),e},this.display=function(t){e.style.display=t?"":"none"},this.isVisible=function(){return""===e.style.display},this.draw=function(){s.draw()},this.initialise=function(i,o,l){n=i,r=o,p=l,(s=new t.Stage({container:e,width:n.x,height:n.y,listening:!1})).getContent().setAttribute("style",""),i=new t.Layer({listening:!1,visible:!0}),s.add(i),h=new a.ctrl.DrawController(i)},this.fitToContainer=function(e,t,n){s.setWidth(t.x),s.setHeight(t.y),t=s.scale().x/l.x;var i=s.scale().y/l.y;l={x:e*r.x,y:e*r.y},s.scale({x:t*l.x,y:i*l.y}),c={x:n.x/l.x,y:n.y/l.y},s.offset({x:c.x+u.x+d.x+f.x,y:c.y+u.y+d.y+f.y})},this.isGroupVisible=function(e){return void 0!==(e=h.getGroup(e))&&e.isVisible()},this.toogleGroupVisibility=function(e){return void 0!==(e=h.getGroup(e))&&(e.visible(!e.isVisible()),this.draw(),!0)},this.deleteDraw=function(e,t){h.deleteDraw(e,m,t)},this.deleteDraws=function(e){h.deleteDraws(m,e)},this.bindInteraction=function(){s.listening(!0),e.style.pointerEvents="auto";for(var t=a.gui.interactionEventNames,n=0;n<t.length;++n)e.addEventListener(t[n],m)},this.unbindInteraction=function(){s.listening(!1),e.style.pointerEvents="none";for(var t=a.gui.interactionEventNames,n=0;n<t.length;++n)e.removeEventListener(t[n],m)},this.setCurrentPosition=function(e,t){return this.getDrawController().activateDrawLayer(t,i.getScrollIndex()),!0},this.addEventListener=function(e,t){g.add(e,t)},this.removeEventListener=function(e,t){g.remove(e,t)}},(a=a||{}).gui=a.gui||{},a.gui.interactionEventNames=["mousedown","mousemove","mouseup","mouseout","wheel","dblclick","touchstart","touchmove","touchend"],a.gui.getElement=function(e,t){var n=document.getElementById(e);return n?void 0===(n=(n=n.getElementsByClassName(t))[n.length-1])?document.getElementById(e+"-"+t):n:null},a.getElement=a.gui.getElement,a.gui.prompt=function(e,t){return prompt(e,t)},a.prompt=a.gui.prompt,a.openRoiDialog,a.gui.getTouchesPositions=function(e){var t=0,n=0;if(0!==e.length&&void 0!==e[0].target)for(var r=e[0].target.offsetParent;r;)isNaN(r.offsetLeft)||(t+=r.offsetLeft),isNaN(r.offsetTop)||(n+=r.offsetTop),r=r.offsetParent;else a.logger.debug("No touch target offset parent.");for(var i=[],o=0;o<e.length;++o)i.push({x:e[o].pageX-t,y:e[o].pageY-n});return i},a.gui.getEventOffset=function(e){var t=[];return void 0!==e.targetTouches&&0!==e.targetTouches.length?t=a.gui.getTouchesPositions(e.targetTouches):void 0!==e.changedTouches&&0!==e.changedTouches.length?t=a.gui.getTouchesPositions(e.changedTouches):t.push({x:e.offsetX,y:e.offsetY}),t},a.gui.canCreateCanvas=function(e,t){var n=document.createElement("canvas"),r=((n.width=e,n.height=t,i=document.createElement("canvas")).width=1,i.height=1,n.getContext("2d")),i=i.getContext("2d");return r&&(r.fillRect(e-1,t-1,1,1),i.drawImage(n,e-1,t-1,1,1,0,0,1,1)),i&&0!==i.getImageData(0,0,1,1).data[3]},(a=a||{}).gui=a.gui||{},a.gui.getLayerDivId=function(e,t){return e+"-layer-"+t},a.gui.getLayerDetailsFromLayerDivId=function(e){return 2!==(e=e.split("-layer-")).length&&a.logger.warn("Not the expected layer div id format..."),{groupDivId:e[0],layerId:e[1]}},a.gui.getLayerDetailsFromEvent=function(e){var t=null;return(e=e.target.closest(".layer"))&&void 0!==e.id?a.gui.getLayerDetailsFromLayerDivId(e.id):t},a.gui.getViewOrientation=function(e,t){var n=a.math.getIdentityMat33();return(n=void 0!==t?e.asOneAndZeros().getInverse().multiply(t):n).getAbs()},a.gui.getTargetOrientation=function(e,t){return t=e.asOneAndZeros().multiply(t),e.asOneAndZeros().getAbs().equals(a.math.getCoronalMat33().getAbs())?t.getAbs():t},a.gui.getScaledOffset=function(e,t,n,r){var i=(r.x-e.x)*t.x;return e=(r.y-e.y)*t.y,{x:r.x-i/n.x,y:r.y-e/n.y}},a.gui.LayerGroup=function(e){var t,n,r=this,i=[],o={x:1,y:1,z:1},s={x:1,y:1,z:1},l={x:0,y:0,z:0},u=null,c=null,d=new a.utils.ListenerHandler,f=!1;function h(){g()}function p(){var e=document.createElement("div");return e.id=a.gui.getLayerDivId(r.getDivId(),i.length),e.className="layer",e.style.pointerEvents="none",e}function g(t){void 0===t&&(t=n),m(),t=(o=i[0]).getViewController().getPlanePositionFromPosition(t);var o=o.planePosToDisplay(t.x,t.y),a=((t=document.createElement("hr")).id=r.getDivId()+"-scroll-crosshair-horizontal",t.className="horizontal",t.style.width=e.offsetWidth+"px",t.style.left="0px",t.style.top=o.y+"px",document.createElement("hr"));a.id=r.getDivId()+"-scroll-crosshair-vertical",a.className="vertical",a.style.width=e.offsetHeight+"px",a.style.left=o.x+"px",a.style.top="0px",e.appendChild(t),e.appendChild(a)}function m(){var e=document.getElementById(r.getDivId()+"-scroll-crosshair-horizontal");e&&e.remove(),(e=document.getElementById(r.getDivId()+"-scroll-crosshair-vertical"))&&e.remove()}function x(e){d.fireEvent(e)}this.getTargetOrientation=function(){return t},this.setTargetOrientation=function(e){t=e},this.getShowCrosshair=function(){return f},this.setShowCrosshair=function(e){(f=e)?(r.addEventListener("offsetchange",h),r.addEventListener("zoomchange",h),g()):(r.removeEventListener("offsetchange",h),r.removeEventListener("zoomchange",h),m())},this.getDivId=function(){return e.id},this.getScale=function(){return o},this.getBaseScale=function(){return s},this.getAddedScale=function(){return{x:o.x/s.x,y:o.y/s.y,z:o.z/s.z}},this.getOffset=function(){return l},this.getNumberOfLayers=function(){return i.length},this.getActiveViewLayer=function(){return i[u]},this.getViewLayersByDataIndex=function(e){for(var t=[],n=0;n<i.length;++n)i[n]instanceof a.gui.ViewLayer&&i[n].getDataIndex()===e&&t.push(i[n]);return t},this.searchViewLayers=function(e){for(var t=[],n=0;n<i.length;++n)i[n]instanceof a.gui.ViewLayer&&i[n].getViewController().equalImageMeta(e)&&t.push(i[n]);return t},this.getViewDataIndices=function(){for(var e=[],t=0;t<i.length;++t)i[t]instanceof a.gui.ViewLayer&&e.push(i[t].getDataIndex());return e},this.getActiveDrawLayer=function(){return i[c]},this.getDrawLayersByDataIndex=function(e){for(var t=[],n=0;n<i.length;++n)i[n]instanceof a.gui.DrawLayer&&i[n].getDataIndex()===e&&t.push(i[n]);return t},this.setActiveViewLayer=function(e){u=e},this.setActiveViewLayerByDataIndex=function(e){for(var t=0;t<i.length;++t)if(i[t]instanceof a.gui.ViewLayer&&i[t].getDataIndex()===e){this.setActiveViewLayer(t);break}},this.setActiveDrawLayer=function(e){c=e},this.setActiveDrawLayerByDataIndex=function(e){for(var t=0;t<i.length;++t)if(i[t]instanceof a.gui.DrawLayer&&i[t].getDataIndex()===e){this.setActiveDrawLayer(t);break}},this.addViewLayer=function(){var t=i.length,n=p(),o=(e.append(n),n=new a.gui.ViewLayer(n),i.push(n),this.setActiveViewLayer(t),n);o.addEventListener("positionchange",r.updateLayersToPositionChange);for(var s=0;s<a.image.viewEventNames.length;++s)o.addEventListener(a.image.viewEventNames[s],x);return o.addEventListener("renderstart",x),o.addEventListener("renderend",x),n},this.addDrawLayer=function(){c=i.length;var t,n=p();return e.append(n),n=new a.gui.DrawLayer(n),i.push(n),(t=n).addEventListener("drawcreate",x),t.addEventListener("drawdelete",x),n},this.empty=function(){i=[],c=u=null;var t=e.getElementsByClassName("layer");if(t)for(;0<t.length;)t[0].remove()},this.updateLayersToPositionChange=function(e){for(var t=0;t<i.length;++t)i[t]instanceof a.gui.ViewLayer&&(i[t].removeEventListener("positionchange",r.updateLayersToPositionChange),i[t].removeEventListener("positionchange",x));for(var o=new a.math.Index(e.value[0]),s=new a.math.Point(e.value[1]),l=(n=s,f&&g(s),null),u=null,c=0;c<i.length;++c){var d,h,p,m=!1,v=(i[c]instanceof a.gui.ViewLayer&&(d=(v=i[c].getViewController()).getOrigin(),h=v.getOrigin(s),u?v.canSetPosition(s)&&void 0!==h&&(v=l.minus(d),v=new a.math.Vector3D(v.getX(),v.getY(),v.getZ()),p=u.minus(h),p=new a.math.Vector3D(p.getX(),p.getY(),p.getZ()),m=i[c].setBaseOffset(v,p)):(l=d,u=h)),!1);!(v=i[c].getId()!==e.srclayerid?i[c].setCurrentPosition(s,o):v)&&m&&i[c].draw()}for(var S=0;S<i.length;++S)i[S]instanceof a.gui.ViewLayer&&(i[S].addEventListener("positionchange",r.updateLayersToPositionChange),i[S].addEventListener("positionchange",x))},this.calculateFitScale=function(){if(0===e.offsetWidth&&0===e.offsetHeight)throw new Error("Cannot fit to zero sized container.");var t=this.getMaxSize();if(void 0!==t)return Math.min(e.offsetWidth/t.x,e.offsetHeight/t.y)},this.setFitScale=function(t){var n=this.getMaxSize();if(void 0!==n){for(var r={x:e.offsetWidth,y:e.offsetHeight},o={x:-.5*(r.x-Math.floor(n.x*t)),y:-.5*(r.y-Math.floor(n.y*t))},a=0;a<i.length;++a)i[a].fitToContainer(t,r,o);f&&g()}},this.getMaxSize=function(){for(var e,t={x:0,y:0},n=0;n<i.length;++n)i[n]instanceof a.gui.ViewLayer&&((e=i[n].getImageWorldSize()).x>t.x&&(t.x=e.x),e.y>t.y&&(t.y=e.y));return 0===t.x&&0===t.y?void 0:t},this.flipScaleZ=function(){s.z*=-1,this.setScale(s)},this.addScale=function(e,t){e={x:o.x*(1+e),y:o.y*(1+e),z:o.z*(1+e)},this.setScale(e,t)},this.setScale=function(e,t){o=e;for(var n=0;n<i.length;++n)i[n].setScale(o,t);e=[e.x,e.y,e.z],void 0!==t&&(e.push(t.getX()),e.push(t.getY()),e.push(t.getZ())),x({type:"zoomchange",value:e})},this.addTranslation=function(e){this.setOffset({x:l.x-e.x,y:l.y-e.y,z:l.z-e.z})},this.setOffset=function(e){l=e;for(var t=0;t<i.length;++t)i[t].setOffset(l);x({type:"offsetchange",value:[l.x,l.y,l.z]})},this.reset=function(){this.setScale(s),this.setOffset({x:0,y:0,z:0})},this.draw=function(){for(var e=0;e<i.length;++e)i[e].draw()},this.display=function(e){for(var t=0;t<i.length;++t)i[t].display(e)},this.addEventListener=function(e,t){d.add(e,t)},this.removeEventListener=function(e,t){d.remove(e,t)}},(a=a||{}).gui=a.gui||{},a.gui.WindowLevelBinder=function(){this.getEventType=function(){return"wlchange"},this.getCallback=function(e){return function(t){var n=e.getViewLayersByDataIndex(t.dataid);0!==n.length&&n[0].getViewController().setWindowLevel(t.value[0],t.value[1])}}},a.gui.PositionBinder=function(){this.getEventType=function(){return"positionchange"},this.getCallback=function(e){return function(t){t=t.value[1];var n=e.getActiveViewLayer().getViewController(),r=n.getCurrentPosition(),i=r.length(),o=t.length;o!==i&&(o===i-1?t.push(r.get(i-1)):o===i+1&&t.pop()),n.setCurrentPosition(new a.math.Point(t))}}},a.gui.ZoomBinder=function(){this.getEventType=function(){return"zoomchange"},this.getCallback=function(e){return function(t){var n,r={x:t.value[0],y:t.value[1],z:t.value[2]};6===t.value.length&&(n=new a.math.Point3D(t.value[3],t.value[4],t.value[5])),e.setScale(r,n),e.draw()}}},a.gui.OffsetBinder=function(){this.getEventType=function(){return"offsetchange"},this.getCallback=function(e){return function(t){e.setOffset({x:t.value[0],y:t.value[1],z:t.value[2]}),e.draw()}}},a.gui.OpacityBinder=function(){this.getEventType=function(){return"opacitychange"},this.getCallback=function(e){return function(t){var n;void 0!==t.dataid&&0!==(n=e.getViewLayersByDataIndex(t.dataid)).length&&(n[0].setOpacity(t.value),n[0].draw())}}},a.gui.Stage=function(){var e=[],t=null,n=[],r=null;function i(t,n){void 0===r[n]&&(r[n]=[]);var i=r[n].find((function(e){return e.binder===t}));return void 0===i&&r[n].push(i={binder:t,callback:function(r){s(n,t),t.getCallback(e[n])(r),o(n,t)}}),i.callback}function o(t,n){for(var r=0;r<e.length;++r)r!==t&&e[t].addEventListener(n.getEventType(),i(n,r))}function s(t,n){for(var r=0;r<e.length;++r)r!==t&&e[t].removeEventListener(n.getEventType(),i(n,r))}this.getLayerGroup=function(t){return e[t]},this.getNumberOfLayerGroups=function(){return e.length},this.getActiveLayerGroup=function(){return this.getLayerGroup(t)},this.getViewLayersByDataIndex=function(t){for(var n=[],r=0;r<e.length;++r)n=n.concat(e[r].getViewLayersByDataIndex(t));return n},this.getDrawLayersByDataIndex=function(t){for(var n=[],r=0;r<e.length;++r)n=n.concat(e[r].getDrawLayersByDataIndex(t));return n},this.addLayerGroup=function(n){t=e.length,n=new a.gui.LayerGroup(n);var i=r&&0!==r.length;return i&&this.unbindLayerGroups(),e.push(n),i&&this.bindLayerGroups(),n},this.getLayerGroupByDivId=function(t){return e.find((function(e){return e.getDivId()===t}))},this.setBinders=function(e){if(null==e)throw new Error("Cannot set null or undefined binders");0!==n.length&&this.unbindLayerGroups(),n=e.slice(),this.bindLayerGroups()},this.empty=function(){this.unbindLayerGroups();for(var n=0;n<e.length;++n)e[n].empty();e=[],t=null},this.reset=function(){for(var t=0;t<e.length;++t)e[t].reset()},this.draw=function(){for(var t=0;t<e.length;++t)e[t].draw()},this.syncLayerGroupScale=function(){for(var t,n=[],r=0;r<e.length;++r){var i=e[r].calculateFitScale();void 0!==i&&(n.push(r),(void 0===t||i<t)&&(t=i))}if(void 0!==t)for(var o=0;o<e.length;++o)n.includes(o)&&e[o].setFitScale(t)},this.bindLayerGroups=function(){if(0!==e.length&&1!==e.length&&0!==n.length){r=new Array(e.length);for(var t=0;t<e.length;++t)for(var i=0;i<n.length;++i)o(t,n[i])}},this.unbindLayerGroups=function(){if(0!==e.length&&1!==e.length&&0!==n.length&&r){for(var t=0;t<e.length;++t)for(var i=0;i<n.length;++i)s(t,n[i]);r=null}}},(a=a||{}).gui=a.gui||{},a.gui.Style=function(){var e="#ffff80",t={x:1,y:1},n={x:1,y:1},r={x:.25,y:.25};this.getFontFamily=function(){return"Verdana"},this.getFontSize=function(){return 10},this.getStrokeWidth=function(){return 2},this.getTextColour=function(){return"#fff"},this.getLineColour=function(){return e},this.setLineColour=function(t){e=t},this.setBaseScale=function(e){t=e},this.setZoomScale=function(e){n=e},this.getBaseScale=function(){return t},this.getZoomScale=function(){return n},this.scale=function(e){return e/t.x},this.applyZoomScale=function(e){return{x:2*e/n.x,y:2*e/n.y}},this.getShadowOffset=function(){return r},this.getTagOpacity=function(){return.2},this.getTextPadding=function(){return 3}},a.gui.Style.prototype.getFontStr=function(){return"normal "+this.getFontSize()+"px sans-serif"},a.gui.Style.prototype.getLineHeight=function(){return this.getFontSize()+this.getFontSize()/5},a.gui.Style.prototype.getScaledFontSize=function(){return this.scale(this.getFontSize())},a.gui.Style.prototype.getScaledStrokeWidth=function(){return this.scale(this.getStrokeWidth())},a.gui.Style.prototype.getShadowLineColour=function(){return a.utils.getShadowColour(this.getLineColour())},(a=a||{}).gui=a.gui||{},a.gui.ViewLayer=function(e){e.className+=" viewLayer";var t,n,r=this,i=null,o=null,s=null,l=null,u=!0,c=null,d=1,f={x:1,y:1},h={x:1,y:1},p={x:0,y:0},g={x:0,y:0},m={x:0,y:0},x={x:0,y:0},v={x:0,y:0},S=null,y=null,b=(this.getDataIndex=function(){return y},new a.utils.ListenerHandler),C=!1;function w(e){if(!a.gui.canCreateCanvas(e.x,e.y))throw new Error("Cannot create canvas with size "+e.x+", "+e.y);t=e,s.width=t.x,s.height=t.y,l.clearRect(0,0,t.x,t.y),c=l.createImageData(t.x,t.y)}function D(e){e.srclayerid=r.getId(),e.dataid=y,b.fireEvent(e)}function T(e){void 0!==e.skipGenerate&&!0===e.skipGenerate||(S=!0,r.draw())}function P(e){void 0!==event.skipGenerate&&!0===event.skipGenerate||(S=!0,r.draw())}function L(e){var t,n;void 0!==e.skipGenerate&&!0===e.skipGenerate||(n=!0,(n=void 0!==e.valid?e.valid:n)?(n=(t=[0,1,2]).indexOf(i.getScrollIndex()),t.splice(n,1),0===e.diffDims.filter((function(e){return-1===t.indexOf(e)})).length&&u||(S=u=!0,r.draw())):u&&(u=!1,r.clear()))}function I(e){void 0!==e.skipGenerate&&!0===e.skipGenerate||(S=!0,r.draw())}this.enableImageSmoothing=function(e){C=e},this.setView=function(e,t){y=t,e.addEventListener("wlchange",T),e.addEventListener("colourchange",P),e.addEventListener("positionchange",L),e.addEventListener("alphafuncchange",I);for(var n=0;n<a.image.viewEventNames.length;++n)e.addEventListener(a.image.viewEventNames[n],D);i=new a.ctrl.ViewController(e,t)},this.getViewController=function(){return i},this.getImageData=function(){return c},this.onimageset=function(e){y===e.dataid&&(i.setImage(e.value[0],y),w(i.getImageSize().get2D()),S=!0)},this.onimagechange=function(e){y===e.dataid&&(S=!0)},this.getId=function(){return e.id},this.getBaseSize=function(){return t},this.getImageWorldSize=function(){return i.getImageWorldSize()},this.getOpacity=function(){return d},this.setOpacity=function(e){e!==d&&D({type:"opacitychange",value:[d=Math.min(Math.max(e,0),1)]})},this.addFlipOffsetX=function(){v.x+=o.width/f.x,p.x+=v.x},this.addFlipOffsetY=function(){v.y+=o.height/f.y,p.y+=v.y},this.setScale=function(e,t){var n=i.getPlaneHelper(),r=n.getTargetOrientedPositiveXYZ(e);r={x:h.x*r.x,y:h.y*r.y},1===Math.abs(e.x)&&1===Math.abs(e.y)&&1===Math.abs(e.z)?(e={x:p.x-x.x,y:p.y-x.y},x={x:0,y:0},p=e):void 0!==t&&(e={x:(e=n.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()})).x+g.x,y:e.y+g.y},n=a.gui.getScaledOffset(p,f,r,e),t={x:x.x+n.x-p.x,y:x.y+n.y-p.y},x=t,p=n),f=r},this.setBaseOffset=function(e,t){var n=(r=i.getPlaneHelper()).getNativeScrollIndex(),r=r.getPlaneOffsetFromOffset3D({x:(0===n?e:t).getX(),y:(1===n?e:t).getY(),z:(2===n?e:t).getZ()});return(n=g.x!==r.x||g.y!==r.y)&&(p={x:p.x-g.x+r.x,y:p.y-g.y+r.y},g=r),n},this.setOffset=function(e){e=i.getPlaneHelper().getPlaneOffsetFromOffset3D(e),p={x:e.x+m.x+g.x+x.x+v.x,y:e.y+m.y+g.y+x.y+v.y}},this.displayToPlaneIndex=function(e,t){return e=this.displayToPlanePos(e,t),new a.math.Index([Math.floor(e.x),Math.floor(e.y)])},this.displayToPlaneScale=function(e,t){return{x:e/f.x,y:t/f.y}},this.displayToPlanePos=function(e,t){return{x:(e=this.displayToPlaneScale(e,t)).x+p.x,y:e.y+p.y}},this.planePosToDisplay=function(e,t){return{x:(e-p.x+g.x)*f.x,y:(t-p.y+g.y)*f.y}},this.displayToMainPlanePos=function(e,t){return{x:(e=this.displayToPlanePos(e,t)).x-g.x,y:e.y-g.y}},this.display=function(t){e.style.display=t?"":"none"},this.isVisible=function(){return""===e.style.display},this.draw=function(){u&&(D({type:"renderstart",layerid:this.getId(),dataid:this.getDataIndex()}),S&&(i.generateImageData(c),s.getContext("2d").putImageData(c,0,0),S=!1),l.globalAlpha=d,this.clear(),l.setTransform(f.x,0,0,f.y,-1*p.x*f.x,-1*p.y*f.y),l.imageSmoothingEnabled=C,l.drawImage(s,0,0),D({type:"renderend",layerid:this.getId(),dataid:this.getDataIndex()}))},this.initialise=function(t,r,i){n=r,d=Math.min(Math.max(i,0),1),o=document.createElement("canvas"),e.appendChild(o),o.getContext?(l=o.getContext("2d"))?(s=document.createElement("canvas"),w(t),S=!0):alert("Error: failed to get the 2D context."):alert("Error: no canvas.getContext method.")},this.fitToContainer=function(e,t,r){var i=!1;if(o.width!==t.x||o.height!==t.y){if(!a.gui.canCreateCanvas(t.x,t.y))throw new Error("Cannot resize canvas "+t.x+", "+t.y);o.width=t.x,o.height=t.y,i=!0}t=f.x/h.x;var s=f.y/h.y,l={x:t*(e={x:e*n.x,y:e*n.y}).x,y:s*e.y};t===l.x&&s===l.y||(h=e,f=l,i=!0),t={x:r.x/e.x,y:r.y/e.y},m.x===t.x&&m.y===t.y||(p={x:(m=t).x+g.x+x.x+v.x,y:m.y+g.y+x.y+v.y},i=!0),i&&this.draw()},this.bindInteraction=function(){e.style.pointerEvents="auto";for(var t=a.gui.interactionEventNames,n=0;n<t.length;++n)e.addEventListener(t[n],D,{passive:!0})},this.unbindInteraction=function(){e.style.pointerEvents="none";for(var t=a.gui.interactionEventNames,n=0;n<t.length;++n)e.removeEventListener(t[n],D)},this.addEventListener=function(e,t){b.add(e,t)},this.removeEventListener=function(e,t){b.remove(e,t)},this.setCurrentPosition=function(e,t){return i.setCurrentPosition(e)},this.clear=function(){l.save(),l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,o.width,o.height),l.restore()},this.align=function(e){o.style.top=e.getCanvas().offsetTop,o.style.left=e.getCanvas().offsetLeft}},(a=a||{}).image=a.image||{},"undefined"!=typeof JpegImage),u="undefined"!=typeof jpeg&&void 0!==jpeg.lossless,c="undefined"!=typeof JpxImage,d=(a.image.AsynchPixelBufferDecoder=function(e,t){var n=new a.utils.ThreadPool(10),r=!1,i=this;this.decode=function(t,o,s){r||(r=!0,n.onworkstart=i.ondecodestart,n.onworkitem=i.ondecodeditem,n.onwork=i.ondecoded,n.onworkend=i.ondecodeend,n.onerror=i.onerror,n.onabort=i.onabort),t=new a.utils.WorkerTask(e,{buffer:t,meta:o},s),n.addWorkerTask(t)},this.abort=function(){n.abort()}},a.image.AsynchPixelBufferDecoder.prototype.ondecodestart=function(e){},a.image.AsynchPixelBufferDecoder.prototype.ondecodeditem=function(e){},a.image.AsynchPixelBufferDecoder.prototype.ondecoded=function(e){},a.image.AsynchPixelBufferDecoder.prototype.ondecodeend=function(e){},a.image.AsynchPixelBufferDecoder.prototype.onerror=function(e){},a.image.AsynchPixelBufferDecoder.prototype.onabort=function(e){},a.image.SynchPixelBufferDecoder=function(e,t){var n=0;this.decode=function(r,i,o){++n;var s=null,d=null;if("jpeg-lossless"===e){if(!u)throw new Error("No JPEG Lossless decoder provided");var f=i.bitsAllocated/8,h=new Uint8Array(r);h=(s=new jpeg.lossless.Decoder).decode(h.buffer,0,h.buffer.byteLength,f),8===i.bitsAllocated?d=new(i.isSigned?Int8Array:Uint8Array)(h.buffer):16===i.bitsAllocated&&(d=new(i.isSigned?Int16Array:Uint16Array)(h.buffer))}else if("jpeg-baseline"===e){if(!l)throw new Error("No JPEG Baseline decoder provided");(s=new JpegImage).parse(r),d=s.getData(s.width,s.height)}else if("jpeg2000"===e){if(!c)throw new Error("No JPEG 2000 decoder provided");(s=new JpxImage).parse(r),d=s.tiles[0].items}else"rle"===e&&(d=(s=new a.decoder.RleDecoder).decode(r,i.bitsAllocated,i.isSigned,i.sliceSize,i.samplesPerPixel,i.planarConfiguration));this.ondecodeditem({data:[d],index:o.itemNumber}),n===t&&(this.ondecoded({}),this.ondecodeend({}))},this.abort=function(){this.onabort({}),this.ondecodeend({})}},a.image.SynchPixelBufferDecoder.prototype.ondecodestart=function(e){},a.image.SynchPixelBufferDecoder.prototype.ondecodeditem=function(e){},a.image.SynchPixelBufferDecoder.prototype.ondecoded=function(e){},a.image.SynchPixelBufferDecoder.prototype.ondecodeend=function(e){},a.image.SynchPixelBufferDecoder.prototype.onerror=function(e){},a.image.SynchPixelBufferDecoder.prototype.onabort=function(e){},a.image.PixelBufferDecoder=function(e,t){var n=null,r=(n=void 0!==a.image.decoderScripts&&void 0!==a.image.decoderScripts[e]?new a.image.AsynchPixelBufferDecoder(a.image.decoderScripts[e],t):new a.image.SynchPixelBufferDecoder(e,t),!1);this.decode=function(e,t,i){r||(r=!0,n.ondecodestart=this.ondecodestart,n.ondecodeditem=this.ondecodeditem,n.ondecoded=this.ondecoded,n.ondecodeend=this.ondecodeend,n.onerror=this.onerror,n.onabort=this.onabort),n.decode(e,t,i)},this.abort=function(){n.abort()}},a.image.PixelBufferDecoder.prototype.ondecodestart=function(e){},a.image.PixelBufferDecoder.prototype.ondecodeditem=function(e){},a.image.PixelBufferDecoder.prototype.ondecoded=function(e){},a.image.PixelBufferDecoder.prototype.ondecodeend=function(e){},a.image.PixelBufferDecoder.prototype.onerror=function(e){},a.image.PixelBufferDecoder.prototype.onabort=function(e){},(a=a||{}).image=a.image||{},a.image.DicomBufferToView=function(){var e,t=this,n=(this.setOptions=function(t){e=t},null),r=[],i=[],o=[];function s(n,o){var s=r[n].getDicomElements(),l=new((l=a.dicom.cleanString(s.getFromKey("x00080060")))&&"SEG"===l?a.image.MaskFactory:a.image.ImageFactory);try{var u=l.create(s,i[n],e.numberOfFiles);t.onloaditem({data:{image:u,info:r[n].getRawDicomElements()},source:o})}catch(n){t.onerror({error:n,source:o}),t.onloadend({source:o})}}this.convert=function(l,u,c){t.onloadstart({source:u,dataIndex:c});var d=new a.dicom.DicomParser,f=new a.ImageFactory;void 0!==e.defaultCharacterSet&&d.setDefaultCharacterSet(e.defaultCharacterSet);try{d.parse(l),f.checkElements(d.getDicomElements())}catch(l){return t.onerror({error:l,source:u}),void t.onloadend({source:u})}var h=d.getRawDicomElements().x7FE00010.value;if(d.getRawDicomElements().x7FE00010.value=[],l=a.dicom.cleanString(d.getRawDicomElements().x00020010.value[0]),l=null!==(f=a.dicom.getSyntaxDecompressionName(l)),r[c]=d,i[c]=h[0],l){var p={bitsAllocated:d.getRawDicomElements().x00280100.value[0],isSigned:1===d.getRawDicomElements().x00280103.value[0]},g=(l=d.getRawDicomElements().x00280011,d.getRawDicomElements().x00280010),m=(void 0!==(void 0!==(void 0!==l&&void 0!==g&&(p.sliceSize=l.value[0]*g.value[0]),l=d.getRawDicomElements().x00280002)&&(p.samplesPerPixel=l.value[0]),g=d.getRawDicomElements().x00280006)&&(p.planarConfiguration=g.value[0]),h.length);null===n&&((n=new a.image.PixelBufferDecoder(f,m)).ondecodeditem=function(e){!function(e){t.onprogress({lengthComputable:!0,loaded:e.itemNumber+1,total:e.numberOfItems,index:e.dataIndex,source:origin});var r=e.dataIndex,l=e.data[0];if(1!==e.numberOfItems){if(void 0===o[r]){o[r]=l.length;var u,c=e.numberOfItems*o[r];try{i[r]=new l.constructor(c)}catch(e){return e instanceof RangeError&&(u=Math.floor(Math.log(c)/Math.log(2)),a.logger.error("Cannot allocate "+l.constructor.name+" of size: "+c+" (>2^"+u+") for decompressed data.")),n.abort(),t.onerror({error:e,source:origin}),t.onloadend({source:origin})}}l.length!==o[r]&&a.logger.warn("Unsupported varying decompressed data size: "+l.length+" != "+o[r]),i[r].set(l,o[r]*e.itemNumber)}else i[r]=l;0===e.itemNumber&&s(r,origin)}(e),e.itemNumber+1===e.numberOfItems&&(t.onload(e),t.onloadend(e))},n.onerror=t.onerror,n.onabort=t.onabort);for(var x=0;x<m;++x)n.decode(h[x],p,{itemNumber:x,numberOfItems:m,dataIndex:c})}else t.onprogress({lengthComputable:!0,loaded:100,total:100,index:c,source:u}),s(c,u),t.onload({source:u}),t.onloadend({source:u})},this.abort=function(){n&&n.abort()}},a.image.DicomBufferToView.prototype.onloadstart=function(e){},a.image.DicomBufferToView.prototype.onloaditem=function(e){},a.image.DicomBufferToView.prototype.onprogress=function(e){},a.image.DicomBufferToView.prototype.onload=function(e){},a.image.DicomBufferToView.prototype.onloadend=function(e){},a.image.DicomBufferToView.prototype.onerror=function(e){},a.image.DicomBufferToView.prototype.onabort=function(e){},(a=a||{}).image=a.image||{},a.image.imageDataToBuffer=function(e){for(var t=e.data.length,n=new Uint8Array(t/4*3),r=0,i=0;i<t;i+=4)n[r]=e.data[i],n[r+1]=e.data[i+1],n[r+2]=e.data[i+2],r+=3;return n},a.image.getDefaultImage=function(e,t,n,r,i,o){return e=new a.image.Size([e,t,1]),t=new a.image.Spacing([1,1,1]),n=new a.math.Point3D(0,0,n),n=new a.image.Geometry(n,e,t),(e=new a.image.Image(n,r,[o])).setPhotometricInterpretation("RGB"),(t={}).BitsStored=8,void 0!==i&&(t.numberOfFiles=i),e.setMeta(t),e},a.image.getViewFromDOMImage=function(e,t){var n=e.width,r=e.height,i=(((i=document.createElement("canvas")).width=n,i.height=r,i=i.getContext("2d")).drawImage(e,0,0),i.getImageData(0,0,n,r)),o={};return"string"==typeof e.origin?o.origin={value:e.origin}:(o.fileName={value:e.origin.name},o.fileType={value:e.origin.type},o.fileLastModifiedDate={value:e.origin.lastModifiedDate}),o.imageWidth={value:n},o.imageHeight={value:r},e=e.index||0,o.imageUid={value:e},i=a.image.imageDataToBuffer(i),{data:{image:a.image.getDefaultImage(n,r,e,i,1,e),info:o},source:t}},a.image.getViewFromDOMVideo=function(e,t,n,r,i,o,s){var l=e.videoWidth,u=e.videoHeight,c=Math.ceil(30*e.duration),d={},f=(e.file&&(d.fileName={value:e.file.name},d.fileType={value:e.file.type},d.fileLastModifiedDate={value:e.file.lastModifiedDate}),d.imageWidth={value:l},d.imageHeight={value:u},d.numberOfFrames={value:c},d.imageUid={value:0},document.createElement("canvas")),h=(f.width=l,f.height=u,f.getContext("2d")),p=(e.addEventListener("seeked",(function t(){m(),(x+=1/30)<=this.duration?this.currentTime=x:(n({source:s}),i({source:s}),e.removeEventListener("seeked",t))}),!1),0),g=null;function m(){r({lengthComputable:!0,loaded:p,total:c,index:o,source:s}),h.drawImage(e,0,0);var n=a.image.imageDataToBuffer(h.getImageData(0,0,l,u));0===p?(g=a.image.getDefaultImage(l,u,1,n,c,o),t({data:{image:g,info:d},source:s})):g.appendFrameBuffer(n,p),++p}var x=0;e.currentTime=x},(a=a||{}).image=a.image||{},a.image.filter=a.image.filter||{},a.image.filter.Threshold=function(){var e=0,t=0,n=(this.getMin=function(){return e},this.setMin=function(t){e=t},this.getMax=function(){return t},this.setMax=function(e){t=e},this.getName=function(){return"Threshold"},null);this.setOriginalImage=function(e){n=e},this.getOriginalImage=function(){return n}},a.image.filter.Threshold.prototype.update=function(){var e=this.getOriginalImage(),t=e.getDataRange().min,n=this;return e.transform((function(e){return e<n.getMin()||e>n.getMax()?t:e}))},a.image.filter.Sharpen=function(){this.getName=function(){return"Sharpen"};var e=null;this.setOriginalImage=function(t){e=t},this.getOriginalImage=function(){return e}},a.image.filter.Sharpen.prototype.update=function(){return this.getOriginalImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])},a.image.filter.Sobel=function(){this.getName=function(){return"Sobel"};var e=null;this.setOriginalImage=function(t){e=t},this.getOriginalImage=function(){return e}},a.image.filter.Sobel.prototype.update=function(){var e=(t=this.getOriginalImage()).convolute2D([1,0,-1,2,0,-2,1,0,-1]),t=t.convolute2D([1,2,1,0,0,0,-1,-2,-1]);return e.compose(t,(function(e,t){return Math.sqrt(e*e+t*t)}))},(a=a||{}).image=a.image||{},a.image.Geometry=function(e,t,n,r,i){var o,s=[e],l={},u=(void 0!==i&&(l[o=i]=[e]),void 0===r&&(r=new a.math.getIdentityMat33),!1);this.getInitialTime=function(){return o},this.getCurrentTotalNumberOfSlices=function(){var e=Object.keys(l);if(0===e.length)return s.length;for(var t=0,n=0;n<e.length;++n)t+=l[e[n]].length;return t},this.hasSlicesAtTime=function(e){return void 0!==l[e]},this.getCurrentNumberOfSlicesBeforeTime=function(e){var t=Object.keys(l);if(0!==t.length){for(var n=0,r=0;r<t.length;++r){var i=t[r];if(parseInt(i,10)===e)break;n+=l[i].length}return n}},this.getOrigin=function(){return s[0]},this.getOrigins=function(){return s},this.includesOrigin=function(e,t){for(var n=0;n<s.length;++n)if(s[n].isSimilar(e,t))return!0;return!1},this.getSize=function(e){var n=t;return e&&void 0!==e&&(e=(e=a.image.getOrientedArray3D([t.get(0),t.get(1),t.get(2)],e)).map(Math.abs),n=new a.image.Size(e.concat(t.getValues().slice(3)))),n},this.getSpacing=function(e){u&&(void 0!==(i=a.image.getSliceGeometrySpacing(s,r))&&n.get(2)!==i&&(a.logger.trace("Updating slice spacing."),(t=n.getValues())[2]=i,n=new a.image.Spacing(t)),u=!1);var t,i=n;return e&&void 0!==e&&(t=(t=a.image.getOrientedArray3D([n.get(0),n.get(1),n.get(2)],e)).map(Math.abs),i=new a.image.Spacing(t)),i},this.getRealSpacing=function(){return this.getSpacing(r.getInverse().asOneAndZeros())},this.getOrientation=function(){return r},this.getSliceIndex=function(e,t){for(var n,i=s,o=(void 0!==t&&(i=l[t]),0),u=e.getDistance(i[0]),c=0;c<i.length;++c)(n=e.getDistance(i[c]))<u&&(u=n,o=c);return t=i[o],t=e.minus(t),0<new a.math.Vector3D(r.get(0,2),r.get(1,2),r.get(2,2)).dotProduct(t)?o+1:o},this.appendOrigin=function(e,n,r){void 0!==r&&l[r].splice(n,0,e),void 0!==r&&r!==o||(u=!0,s.splice(n,0,e),(r=t.getValues())[2]+=1,t=new a.image.Size(r))},this.appendFrame=function(e,r){l[r]=[e],r=t.getValues(),e=n.getValues(),4===r.length?r[3]+=1:(r.push(2),e.push(1)),t=new a.image.Size(r),n=new a.image.Spacing(e)}},a.image.Geometry.prototype.toString=function(){return"Origin: "+this.getOrigin()+", Size: "+this.getSize()+", Spacing: "+this.getSpacing()+", Orientation: "+this.getOrientation()},a.image.Geometry.prototype.equals=function(e){return null!==e&&this.getOrigin().equals(e.getOrigin())&&this.getSize().equals(e.getSize())&&this.getSpacing().equals(e.getSpacing())},a.image.Geometry.prototype.isInBounds=function(e){return this.isIndexInBounds(this.worldToIndex(e))},a.image.Geometry.prototype.isIndexInBounds=function(e,t){return this.getSize().isInBounds(e,t)},a.image.Geometry.prototype.indexToWorld=function(e){var t=this.getSpacing(),n=(t=new a.math.Point3D(e.get(0)*t.get(0),e.get(1)*t.get(1),e.get(2)*t.get(2)),t=this.getOrientation().multiplyPoint3D(t),e=e.getValues(),this.getOrigin());return e[0]=n.getX()+t.getX(),e[1]=n.getY()+t.getY(),e[2]=n.getZ()+t.getZ(),new a.math.Point(e)},a.image.Geometry.prototype.pointToWorld=function(e){var t=this.getSpacing();return e=new a.math.Point3D(e.getX()*t.get(0),e.getY()*t.get(1),e.getZ()*t.get(2)),t=this.getOrientation().multiplyPoint3D(e),e=this.getOrigin(),new a.math.Point3D(e.getX()+t.getX(),e.getY()+t.getY(),e.getZ()+t.getZ())},a.image.Geometry.prototype.worldToIndex=function(e){var t=this.getOrigin(),n=(t=new a.math.Point3D(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),t=this.getOrientation().getInverse().multiplyPoint3D(t),e=e.getValues(),this.getSpacing());return e[0]=Math.round(t.getX()/n.get(0)),e[1]=Math.round(t.getY()/n.get(1)),e[2]=Math.round(t.getZ()/n.get(2)),new a.math.Index(e)},a.image.Geometry.prototype.worldToPoint=function(e){var t=this.getOrigin(),n=(t=new a.math.Point3D(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),t=this.getOrientation().getInverse().multiplyPoint3D(t),e=e.getValues(),this.getSpacing());return e[0]=t.getX()/n.get(0),e[1]=t.getY()/n.get(1),e[2]=t.getZ()/n.get(2),new a.math.Point3D(e[0],e[1],e[2])},a.image.getOrientedArray3D=function(e,t){return t.getInverse().multiplyArray3D(e)},a.image.getDeOrientedArray3D=function(e,t){return t.multiplyArray3D(e)},a.image.getSliceGeometrySpacing=function(e,t,n){if(void 0===n&&(n=!0),!(e.length<=1)){for(var r=t.getInverse(),i=r.multiplyVector3D(e[0]),o=r.multiplyVector3D(e[1]),s=Math.abs(i.getZ()-o.getZ()),l=[],u=0;u<e.length-1;++u){i=r.multiplyVector3D(e[u]),o=r.multiplyVector3D(e[u+1]);var c=Math.abs(i.getZ()-o.getZ());if(0===c)throw new Error("Zero slice spacing."+i.toString()+" "+o.toString());c<s&&(s=c),!n||a.math.isSimilar(s,c,a.math.BIG_EPSILON)||l.push(Math.abs(s-c))}return n&&0!==l.length&&1e-4<(t=l.reduce((function(e,t){return e+t}))/l.length)&&a.logger.warn("Varying slice spacing, mean delta: "+t.toFixed(3)+" ("+l.length+" case(s))"),s}},(a=a||{}).image=a.image||{},a.image.getSliceIndex=function(e,t){var n=t.getInitialTime(),r=[];return r.push(0),r.push(0),r.push(e.getSliceIndex(t.getOrigin(),n)),void 0!==n&&r.push(n),new a.math.Index(r)},a.image.Image=function(e,t,n){var r=new a.image.RescaleSlopeAndIntercept(1,0),i=null,o=!0,s=!0,l="MONOCHROME2",u=0,c=t.length/e.getSize().getTotalSize(),d={},f=null,h=null,p=null,g=new a.utils.ListenerHandler;function m(){return e.getSize().getTotalSize(2)}function x(e){var n=t;if(null===(t=a.dicom.getTypedArray(8*t.BYTES_PER_ELEMENT,d.IsSigned?1:0,e)))throw new Error("Cannot reallocate data for image.");t.set(n)}function v(e){g.fireEvent(e)}this.getImageUid=function(e){var t=n[0];return 1!==n.length&&void 0!==e?n[this.getSecondaryOffset(e)]:t},this.getGeometry=function(){return e},this.getBuffer=function(){return t},this.canQuantify=function(){return 1===this.getNumberOfComponents()},this.canWindowLevel=function(){return null!==this.getPhotometricInterpretation().match(/MONOCHROME/)},this.canScroll=function(e){var t=this.getGeometry().getSize(),n=1;return void 0!==d.numberOfFiles&&(n=d.numberOfFiles),t.canScroll(e)||1!==n},this.getSecondaryOffset=function(t){return e.getSize().indexToOffset(t,2)},this.getRescaleSlopeAndIntercept=function(e){var t=r;if(!this.isConstantRSI()){if(void 0===e)throw new Error("Cannot get non constant RSI with empty slice index.");e=this.getSecondaryOffset(e),void 0!==i[e]?t=i[e]:a.logger.warn("undefined non constant rsi at "+e)}return t},this.setRescaleSlopeAndIntercept=function(e,t){if(o=o&&e.isID(),s){if(!r.equals(e))if("undefined"==typeof index)r=e;else{s=!1,i=[];for(var n=0,a=m();n<a;++n)i.push(n);r=null,i.splice(t,0,e)}}else{if("undefined"==typeof index)throw new Error("Cannot store non constant RSI with empty slice index.");i.splice(t,0,e)}},this.isIdentityRSI=function(){return o},this.isConstantRSI=function(){return s},this.getPhotometricInterpretation=function(){return l},this.setPhotometricInterpretation=function(e){l=e},this.getPlanarConfiguration=function(){return u},this.setPlanarConfiguration=function(e){u=e},this.getNumberOfComponents=function(){return c},this.getMeta=function(){return d},this.setMeta=function(e){d=e},this.getValueAtOffset=function(e){return t[e]},this.getOffsets=function(e){1==c?e=[e]:3==c&&void 0!==e.r&&(e=[e.r,e.g,e.b]);for(var n=[],r=0;r<t.length;r+=c){for(var i=!0,o=0;o<c;++o)if(t[r+o]!==e[o]){i=!1;break}i&&n.push(r)}return n},this.hasValues=function(e){if(void 0===e||0===e.length)return[];for(var n,r=[],i=0;i<e.length;++i)1==c?r.push([e[i]]):3==c&&r.push([e[i].r,e[i].g,e[i].b]);1==c?n=function(e,t){return e[0]===t[0]}:3==c&&(n=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]});for(var o=new Array(e.length),a=(o.fill(!1),r.slice()),s=0,l=t.length;s<l;s+=c){for(var u=[],d=0;d<a.length;++d){for(var f=!0,h=0;h<c;++h)if(t[s+h]!==a[d][h]){f=!1;break}f&&(o[r.findIndex(function(e){return function(t){return n(t,e)}}(a[d]))]=!0,u.push(d))}for(var p=0;p<u.length;++p)a.splice(u[p],1);if(0===a.length)break}return o},this.clone=function(){var e=t.slice(0),r=new a.image.Image(this.getGeometry(),e,n);if(this.isConstantRSI())r.setRescaleSlopeAndIntercept(this.getRescaleSlopeAndIntercept());else for(var o=0;o<m();++o)r.setRescaleSlopeAndIntercept(i[o],o);return r.setPhotometricInterpretation(this.getPhotometricInterpretation()),r.setPlanarConfiguration(this.getPlanarConfiguration()),r.setMeta(this.getMeta()),r},this.appendSlice=function(r){if(null===r)throw new Error("Cannot append null slice");var i,o=r.getGeometry().getSize(),s=e.getSize();if(1!==o.get(2))throw new Error("Cannot append more than one slice");if(s.get(0)!==o.get(0))throw new Error("Cannot append a slice with different number of columns");if(s.get(1)!==o.get(1))throw new Error("Cannot append a slice with different number of rows");if(!e.getOrientation().equals(r.getGeometry().getOrientation(),1e-4))throw new Error("Cannot append a slice with different orientation");if(l!==r.getPhotometricInterpretation())throw new Error("Cannot append a slice with different photometric interpretation");for(i in d)if("windowPresets"!==i&&"numberOfFiles"!==i&&"custom"!==i&&d[i]!==r.getMeta()[i])throw new Error("Cannot append a slice with different "+i);var u=!1,f=(void 0===(o=r.getGeometry().getInitialTime())||e.hasSlicesAtTime(o)||(this.appendFrame(r.getGeometry().getOrigin(),o),s=e.getSize(),u=!0),a.image.getSliceIndex(e,r.getGeometry()));if(s=c*s.getDimSize(2),void 0===d.numberOfFiles)throw new Error("Missing number of files for buffer manipulation.");var h=s*d.numberOfFiles,p=(t.length!==h&&x(h),h=f.get(2)),g=(void 0!==o&&(p+=e.getCurrentNumberOfSlicesBeforeTime(o)),f=p*s,e.getCurrentTotalNumberOfSlices()*s),m=(f<g&&t.set(t.subarray(f,g),f+s),t.set(r.getBuffer(),f),u||e.appendOrigin(r.getGeometry().getOrigin(),h,o),this.setRescaleSlopeAndIntercept(r.getRescaleSlopeAndIntercept(),p),n.length);if(n.splice(p,0,r.getImageUid()),void 0!==d.windowPresets)for(var v=d.windowPresets,S=r.getMeta().windowPresets,y=Object.keys(S),b=0;b<y.length;++b){var C,w=S[C=y[b]],D=v[C];if(void 0!==D){if((void 0===D.perslice||!1===D.perslice)&&!D.wl[0].equals(w.wl[0])){D.perslice=!0;for(var T=0;T<m-1;++T)D.wl.push(D.wl[0])}void 0!==D.perslice&&!0===D.perslice&&v[C].wl.splice(p,0,w.wl[0])}else v[C]=S[C]}},this.appendFrameBuffer=function(n,r){var i=e.getSize();if(i=c*i.getDimSize(2),void 0===d.numberOfFiles)throw new Error("Missing number of files for frame buffer manipulation.");var o=i*d.numberOfFiles;if(t.length!==o&&x(o),r>=d.numberOfFiles)throw new Error("Cannot append a frame at an index above the number of frames");t.set(n,i*r),this.appendFrame()},this.appendFrame=function(t,n){e.appendFrame(t,n),v({type:"appendframe"})},this.getDataRange=function(){return f=f||this.calculateDataRange()},this.getRescaledDataRange=function(){return h=h||this.calculateRescaledDataRange()},this.getHistogram=function(){var e;return p||(e=this.calculateHistogram(),f=e.dataRange,h=e.rescaledDataRange,p=e.histogram),p},this.addEventListener=function(e,t){g.add(e,t)},this.removeEventListener=function(e,t){g.remove(e,t)},this.setAtOffsets=function(e,n){for(var r,i=0,o=e.length;i<o;++i)r=e[i],t[r]=n.r,t[r+1]=n.g,t[r+2]=n.b;v({type:"imagechange"})},this.setAtOffsetsAndGetOriginals=function(e,n){for(var r=[],i=0;i<e.length;++i){var o=e[i],a=3*o[0],s={r:t[a],g:t[1+a],b:t[2+a]},l=[];l.push({index:0,colour:s});for(var u=0;u<o.length;++u){a=3*o[u];var c={r:t[a],g:t[1+a],b:t[2+a]};s.r===c.r&&s.g===c.g&&s.b===c.b||(l.push({index:u,colour:c}),s=c),t[a]=n.r,t[1+a]=n.g,t[2+a]=n.b}r.push(l)}return v({type:"imagechange"}),r},this.setAtOffsetsWithIterator=function(e,n){for(var r=0;r<e.length;++r)for(var i=e[r],o=void 0!==n&&void 0!==n.r?new a.image.colourRange([{index:0,colour:n}],i.length):new a.image.colourRange(n[r],i.length),s=o.next();!s.done;){var l=3*i[s.index];t[l]=s.value.r,t[1+l]=s.value.g,t[2+l]=s.value.b,s=o.next()}v({type:"imagechange"})}},a.image.Image.prototype.getValue=function(e,t,n,r){return e=new a.math.Index([e,t,n,r||0]),this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(e))},a.image.Image.prototype.getValueAtIndex=function(e){return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(e))},a.image.Image.prototype.getRescaledValue=function(e,t,n,r){var i=this.getValue(e,t,n,r=void 0===r?0:r);return this.isIdentityRSI()?i:this.isConstantRSI()?this.getRescaleSlopeAndIntercept().apply(i):(e=new a.math.Index([e,t,n,r]),this.getRescaleSlopeAndIntercept(e).apply(i))},a.image.Image.prototype.getRescaledValueAtIndex=function(e){return this.getRescaledValueAtOffset(this.getGeometry().getSize().indexToOffset(e))},a.image.Image.prototype.getRescaledValueAtOffset=function(e){var t=this.getValueAtOffset(e);return this.isIdentityRSI()?t:this.isConstantRSI()?this.getRescaleSlopeAndIntercept().apply(t):(e=this.getGeometry().getSize().offsetToIndex(e),this.getRescaleSlopeAndIntercept(e).apply(t))},a.image.Image.prototype.calculateDataRange=function(){var e,t=this.getValueAtOffset(0),n=t,r=this.getGeometry().getSize(),i=r.getTotalSize();3<=r.length()&&(i=r.getDimSize(3));for(var o=0;o<i;++o)n<(e=this.getValueAtOffset(o))&&(n=e),e<t&&(t=e);return{min:t,max:n}},a.image.Image.prototype.calculateRescaledDataRange=function(){if(this.isIdentityRSI())return this.getDataRange();var e;if(this.isConstantRSI())return e=this.getDataRange(),{min:(i=this.getRescaleSlopeAndIntercept().apply(e.min))<(e=this.getRescaleSlopeAndIntercept().apply(e.max))?i:e,max:e<i?i:e};var t,n=this.getRescaledValueAtOffset(0),r=n,i=this.getGeometry().getSize(),o=i.getTotalSize();3===i.length()&&(o=i.getDimSize(3));for(var a=0;a<o;++a)r<(t=this.getRescaledValueAtOffset(a))&&(r=t),t<n&&(n=t);return{min:n,max:r}},a.image.Image.prototype.calculateHistogram=function(){for(var e,t=this.getGeometry().getSize(),n=[],r=this.getValueAtOffset(0),i=r,o=this.getRescaledValueAtOffset(0),a=o,s=0,l=t.getTotalSize();s<l;++s)i<(e=this.getValueAtOffset(s))&&(i=e),e<r&&(r=e),a<(e=this.getRescaledValueAtOffset(s))&&(a=e),e<o&&(o=e),n[e]=(n[e]||0)+1;t={min:r,max:i};for(var u={min:o,max:a},c=[],d=o;d<=a;++d)c.push([d,n[d]||0]);return{dataRange:t,rescaledDataRange:u,histogram:c}},a.image.Image.prototype.convolute2D=function(e){if(9!==e.length)throw new Error("The convolution matrix does not have a length of 9; it has "+e.length);for(var t=this.clone(),n=t.getBuffer(),r=this.getGeometry().getSize(),i=r.getDimSize(2)*this.getNumberOfComponents(),o=0;o<r.get(2);++o)this.convoluteBuffer(e,n,o*i);return t},a.image.Image.prototype.convoluteBuffer=function(e,t,n){for(var r=this.getGeometry().getSize(),i=r.get(0),o=r.get(1),a=this.getNumberOfComponents(),s=1,l=1,u=(3===a&&(0===this.getPlanarConfiguration()?s=3:l=r.getDimSize(2)),[]),c=(u[0]=(-i-1)*s,u[1]=-i*s,u[2]=(1-i)*s,u[3]=-s,u[4]=0,u[5]=+s,u[6]=(i-1)*s,u[7]=i*s,u[8]=(i+1)*s,[]),d=(c[0]=u[4],c[1]=u[4],c[2]=u[5],c[3]=u[4],c[4]=u[4],c[5]=u[5],c[6]=u[7],c[7]=u[7],c[8]=u[8],[]),f=(d[0]=u[1],d[1]=u[1],d[2]=u[2],d[3]=u[4],d[4]=u[4],d[5]=u[5],d[6]=u[7],d[7]=u[7],d[8]=u[8],[]),h=(f[0]=u[1],f[1]=u[1],f[2]=u[2],f[3]=u[4],f[4]=u[4],f[5]=u[5],f[6]=u[4],f[7]=u[4],f[8]=u[5],[]),p=(h[0]=u[3],h[1]=u[4],h[2]=u[5],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=u[6],h[7]=u[7],h[8]=u[8],[]),g=(p[0]=u[0],p[1]=u[1],p[2]=u[2],p[3]=u[3],p[4]=u[4],p[5]=u[5],p[6]=u[3],p[7]=u[4],p[8]=u[5],[]),m=(g[0]=u[3],g[1]=u[4],g[2]=u[4],g[3]=u[3],g[4]=u[4],g[5]=u[4],g[6]=u[6],g[7]=u[7],g[8]=u[7],[]),x=(m[0]=u[0],m[1]=u[1],m[2]=u[1],m[3]=u[3],m[4]=u[4],m[5]=u[4],m[6]=u[6],m[7]=u[7],m[8]=u[7],[]),v=(x[0]=u[0],x[1]=u[1],x[2]=u[1],x[3]=u[3],x[4]=u[4],x[5]=u[4],x[6]=u[3],x[7]=u[4],x[8]=u[4],n),S=0,y=[],b=0;b<a;++b){v+=b*l;for(var C=0;C<o;++C)for(var w=0;w<i;++w){y=u,0===w&&0===C?y=c:0===w&&C===o-1?y=f:w===i-1&&0===C?y=g:w===i-1&&C===o-1?y=x:0===w&&C!==o-1&&0!==C?y=d:w===i-1&&C!==o-1&&0!==C?y=m:0!==w&&w!==i-1&&0===C?y=h:0!==w&&w!==i-1&&C===o-1&&(y=p),S=0;for(var D=0;D<9;++D)S+=this.getValueAtOffset(v+y[D])*e[D];t[v]=S,v+=s}}},a.image.Image.prototype.transform=function(e){for(var t=this.clone(),n=t.getBuffer(),r=0,i=n.length;r<i;++r)n[r]=e(t.getValueAtOffset(r));return t},a.image.Image.prototype.compose=function(e,t){for(var n=this.clone(),r=n.getBuffer(),i=0,o=r.length;i<o;++i)r[i]=Math.floor(t(this.getValueAtOffset(i),e.getValueAtOffset(i)));return n},(a=a||{}).image=a.image||{},a.image.ImageFactory=function(){},a.ImageFactory=a.image.ImageFactory,a.image.ImageFactory.prototype.checkElements=function(e){if(!e.getFromKey("x00280011"))throw new Error("Missing or empty DICOM image number of columns");if(!e.getFromKey("x00280010"))throw new Error("Missing or empty DICOM image number of rows")},a.image.ImageFactory.prototype.create=function(e,t,n){if(!(r=e.getFromKey("x00280011")))throw new Error("Missing or empty DICOM image number of columns");if(!(i=e.getFromKey("x00280010")))throw new Error("Missing or empty DICOM image number of rows");var r=[r,i,1],i=((i=e.getFromKey("x00280008"))&&r.push(i),new a.image.Size(r)),o=(r=e.getPixelSpacing(),e.getFromKey("x00020010")),s=(o=a.dicom.cleanString(o),a.dicom.isJpeg2000TransferSyntax(o)),l=a.dicom.isJpegBaselineTransferSyntax(o),u=(o=a.dicom.isJpegLosslessTransferSyntax(o),e.getFromKey("x00200032")),c=new Array(0,0,0),d=(u&&(c=[parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2])]),(u=e.getFromKey("x00200037"))&&(f=new a.math.Vector3D(parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2])),u=new a.math.Vector3D(parseFloat(u[3]),parseFloat(u[4]),parseFloat(u[5])),d=f.crossProduct(u),f=new a.math.Matrix33([f.getX(),u.getX(),d.getX(),f.getY(),u.getY(),d.getY(),f.getZ(),u.getZ(),d.getZ()])),u=new a.math.Point3D(c[0],c[1],c[2]),e.getTime());if(c=new a.image.Geometry(u,i,r,f,d),u=a.dicom.cleanString(e.getFromKey("x00080018")),r=(r=e.getFromKey("x00280002"))||1,(f=i.getTotalSize()*r)!==t.length){if(a.logger.warn("Badly sized pixel buffer: "+t.length+" != "+f),!(f<t.length))throw new Error("Underestimated buffer size, can't fix it...");t=t.slice(0,i.getTotalSize())}d=new a.image.Image(c,t,[u]),(f=e.getFromKey("x00280004"))&&(i=a.dicom.cleanString(f).toUpperCase(),d.setPhotometricInterpretation(i="RGB"===(i=(s||l||o)&&"MONOCHROME1"!==i&&"MONOCHROME2"!==i?"RGB":i)&&1===r?"PALETTE COLOR":i)),(c=e.getFromKey("x00280006"))&&d.setPlanarConfiguration(c),t=1;var f=((u=e.getFromKey("x00281053"))&&(t=parseFloat(u)),0),h=((s=e.getFromKey("x00281052"))&&(f=parseFloat(s)),l=new a.image.RescaleSlopeAndIntercept(t,f),(d.setRescaleSlopeAndIntercept(l),o={numberOfFiles:n,Modality:e.getFromKey("x00080060"),SOPClassUID:e.getFromKey("x00080016"),StudyInstanceUID:e.getFromKey("x0020000D"),SeriesInstanceUID:e.getFromKey("x0020000E"),BitsStored:e.getFromKey("x00280101"),PixelRepresentation:e.getFromKey("x00280103")}).IsSigned=1===o.PixelRepresentation,(r=e.getPixelUnit())&&(o.pixelUnit=r),(i=e.getFromKey("x00200052"))&&(o.FrameOfReferenceUID=i),{}),p=e.getFromKey("x00281050",!0),g=e.getFromKey("x00281051",!0),m=e.getFromKey("x00281055",!0);if(p&&g)for(var x,v=0;v<p.length;++v){var S=parseFloat(p[v],10),y=parseFloat(g[v],10);S&&y&&0!==y&&(h[x=(x="")===(x=m?a.dicom.cleanString(m[v]):x)?"Default"+v:x]={wl:[new a.image.WindowLevel(S,y)],name:x}),0===y&&a.logger.warn("Zero window width found in DICOM.")}return o.windowPresets=h,"PALETTE COLOR"===d.getPhotometricInterpretation()&&(c=e.getFromKey("x00281201"),u=e.getFromKey("x00281202"),s=e.getFromKey("x00281203"),void 0!==(t=e.getFromKey("x00281101"))&&3===t.length&&(16===t[2]?(f=!1,0===(l=t[0])&&(l=65536),(n=e.getDEFromKey("x00281201").vl)!==2*l&&(f=!0,a.logger.info("16bits lut but size is not double. desc: "+l+" vl: "+n)),8===parseInt(e.getFromKey("x00280100"),10)&&(f=!0,a.logger.info("Scaling 16bits color lut since bits allocated is 8.")),f&&(c=c.map(r=function(e){return e>>8}),u=u.map(r),s=s.map(r))):8===t[2]&&(a.logger.info("Scaling 16bits color lut since the lut descriptor is 8."),i=c.slice(0),c=new Uint8Array(i.buffer),i=u.slice(0),u=new Uint8Array(i.buffer),i=s.slice(0),s=new Uint8Array(i.buffer))),o.paletteLut={red:c,green:u,blue:s}),(l=e.getFromKey("x00082144"))&&(o.RecommendedDisplayFrameRate=parseInt(l,10)),d.setMeta(o),d},(a=a||{}).image=a.image||{},a.image.simpleRange=function(e,t,n,r){void 0===r&&(r=1);var i=t;return{next:function(){var t;return i<n?(t={value:e(i),done:!1,index:i},i+=r,t):{done:!0,index:n}}}},a.image.range=function(e,t,n,r,i,o,a,s){void 0===s&&(s=!1);var l=t,u=((a=void 0!==a&&a)?(o*=-1,s?l-=(i-1)*r:r*=-1):s&&(l+=(i-1)*r,r*=-1),o-i*r),c=0,d=0;return{next:function(){var t;return c<n?(t={value:e(l),done:!1,index:l},l+=r,++c,++d===i&&(d=0,l+=u),t):{done:!0,index:l}}}},a.image.rangeRegion=function(e,t,n,r,i,o){var a=t,s=0;return{next:function(){var t;return a<n?(t={value:e(a),done:!1,index:a},a+=r,(s+=1)===i&&(s=0,a+=o),t):{done:!0,index:n}}}},a.image.rangeRegions=function(e,t,n,r,i){var o=t,a=0,s=0;return{next:function(){var t;return o<n?(t={value:e(o),done:!1,index:o},o+=r,(s+=1)===i[a][1]&&(s=0,o+=i[a][2],(a+=1)<i.length&&(o+=i[a][0])),t):{done:!0,index:n}}}},a.image.simpleRange3d=function(e,t,n,r,i){void 0===r&&(r=1);var o=t,a=1,s=((i=void 0!==i&&i)?a=(n-t)/3:r*=3,o+a),l=o+2*a;return{next:function(){var t;return o<n?(t={value:[e(o),e(s),e(l)],done:!1,index:[o,s,l]},o+=r,s+=r,l+=r,t):{done:!0,index:[n]}}}},a.image.range3d=function(e,t,n,r,i,o,s,l,u){var c=[];return u?(c.push(a.image.range(e,t,n,r,i,o,s,l)),c.push(a.image.range(e,t+n*r,n,r,i,o,s,l)),c.push(a.image.range(e,t+2*n*r,n,r,i,o,s,l))):(c.push(a.image.range(e,t,n,r*=3,i,o*=3,s,l)),c.push(a.image.range(e,t+1,n,r,i,o,s,l)),c.push(a.image.range(e,t+2,n,r,i,o,s,l))),{next:function(){var e=c[0].next(),t=c[1].next(),n=c[2].next();return e.done?{done:!0,index:n.index}:{value:[e.value,t.value,n.value],done:!1,index:[e.index,t.index,n.index]}}}},a.image.getIteratorValues=function(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t},a.image.getSliceIterator=function(e,t,n,r){function i(e,t,n,r,i,o,s,l){return 1===d?a.image.range(e,t,n,r,i,o,s,l):3===d?a.image.range3d(e,3*t,n,r,i,o,s,l,f):void 0}var o=e.getGeometry().getSize(),s=2,l=(r&&void 0!==r&&(s=r.getColAbsMax(2).index),t=t.getValues(),t=new a.math.Index(t.map((function(e,t){return t===s||2<t?e:0}))),t=o.indexToOffset(t),null),u=(l=(n=void 0!==n&&n)?function(t){return e.getRescaledValueAtOffset(t)}:function(t){return e.getValueAtOffset(t)},n=o.get(0),o.get(1)),c=o.get(2),d=(o=o.getDimSize(2),e.getNumberOfComponents()),f=1===e.getPlanarConfiguration(),h=null;if(r&&void 0!==r){var p=r.getColAbsMax(0),g=null;if(2===(r=r.getColAbsMax(2)).index)g=n*u,h=0===p.index?i(l,t,g,1,n,n,!1,!1):i(l,t,g,n,u,1,!1,!1);else if(0===r.index)g=c*u,h=1===p.index?i(l,t,g,n,u,o,!1,!1):i(l,t,g,o,c,n,!1,!1);else{if(1!==r.index)throw new Error("Unknown direction: "+r.index);g=c*n,h=0===p.index?i(l,t,g,1,n,o,!1,!1):i(l,t,g,o,c,1,!1,!1)}}else if(1===e.getNumberOfComponents())h=a.image.simpleRange(l,t,t+o);else{if(3!==e.getNumberOfComponents())throw new Error("Unsupported number of components: "+e.getNumberOfComponents());h=a.image.simpleRange3d(l,t*=3,t+(o*=3),1,f)}return h},a.image.getRegionSliceIterator=function(e,t,n,r,i){if(1!==e.getNumberOfComponents())throw new Error("Unsupported number of components for region iterator: "+e.getNumberOfComponents());var o=null,s=(o=(n=void 0!==n&&n)?function(t){return e.getRescaledValueAtOffset(t)}:function(t){return e.getValueAtOffset(t)},n=e.getGeometry().getSize(),void 0===r&&(r=new a.math.Point2D(0,0)),void 0===i&&(i=new a.math.Point2D(n.get(0)-1,n.get(1))),n.indexToOffset(t.getWithNew2D(r.getX(),r.getY())));return t=n.indexToOffset(t.getWithNew2D(i.getX(),i.getY()-1)),i=Math.max(1,i.getX()-r.getX()),r=n.get(0)-i,a.image.rangeRegion(o,s,t+1,1,i,r)},a.image.getVariableRegionSliceIterator=function(e,t,n,r){if(1!==e.getNumberOfComponents())throw new Error("Unsupported number of components for region iterator: "+e.getNumberOfComponents());for(var i,o=null,s=(o=(n=void 0!==n&&n)?function(t){return e.getRescaledValueAtOffset(t)}:function(t){return e.getValueAtOffset(t)},e.getGeometry().getSize()),l=[],u=null,c=(n=null,null),d=0;d<r.length;++d){var f,h=(f=r[d])[1][0]-f[0][0];0!=h&&(c=d,u=u||f[0],l.push([f[0][0],h,s.get(0)-f[1][0]]))}if(null!==c&&(n=r[c][1]),0!==l.length)return i=s.indexToOffset(t.getWithNew2D(u[0],u[1])),t=s.indexToOffset(t.getWithNew2D(n[0],n[1])),a.image.rangeRegions(o,i,t+1,1,l)},a.image.colourRange=function(e,t){var n=0,r=0;return{next:function(){var i;return n<t?(r+1<e.length&&n>=e[r+1].index&&++r,i={value:e[r].colour,done:!1,index:n},++n,i):{done:!0,index:t}}}},(a=a||{}).image=a.image||{},a.image.lut=a.image.lut||{},a.image.lut.range_max=256,a.image.lut.buildLut=function(e){for(var t=[],n=0;n<a.image.lut.range_max;++n)t.push(e(n));return t},a.image.lut.max=function(e){return a.image.lut.range_max-1},a.image.lut.maxFirstThird=function(e){return e<a.image.lut.range_max/3?a.image.lut.range_max-1:0},a.image.lut.maxSecondThird=function(e){var t=a.image.lut.range_max/3;return t<=e&&e<2*t?a.image.lut.range_max-1:0},a.image.lut.maxThirdThird=function(e){return e>=2*a.image.lut.range_max/3?a.image.lut.range_max-1:0},a.image.lut.toMaxFirstThird=function(e){return(e*=3)>a.image.lut.range_max-1?a.image.lut.range_max-1:e},a.image.lut.toMaxSecondThird=function(e){var t=a.image.lut.range_max/3,n=0;return t<=e&&(n=3*(e-t))>a.image.lut.range_max-1?a.image.lut.range_max-1:n},a.image.lut.toMaxThirdThird=function(e){var t=a.image.lut.range_max/3,n=0;return 2*t<=e&&(n=3*(e-2*t))>a.image.lut.range_max-1?a.image.lut.range_max-1:n},a.image.lut.zero=function(e){return 0},a.image.lut.id=function(e){return e},a.image.lut.invId=function(e){return a.image.lut.range_max-1-e},a.image.lut.plain={red:a.image.lut.buildLut(a.image.lut.id),green:a.image.lut.buildLut(a.image.lut.id),blue:a.image.lut.buildLut(a.image.lut.id)},a.image.lut.invPlain={red:a.image.lut.buildLut(a.image.lut.invId),green:a.image.lut.buildLut(a.image.lut.invId),blue:a.image.lut.buildLut(a.image.lut.invId)},a.image.lut.rainbow={blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},a.image.lut.hot={red:a.image.lut.buildLut(a.image.lut.toMaxFirstThird),green:a.image.lut.buildLut(a.image.lut.toMaxSecondThird),blue:a.image.lut.buildLut(a.image.lut.toMaxThirdThird)},a.image.lut.hot_iron={red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255]},a.image.lut.pet={red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,13,11,9,7,5,3,1,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,92,88,84,80,76,72,68,64,60,56,52,48,44,40,36,32,28,24,20,16,12,8,4,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,255]},a.image.lut.hot_metal_blue={red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,93,96,99,102,105,108,111,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,166,169,172,175,178,181,184,187,190,194,198,201,205,209,213,217,221,224,228,232,236,240,244,247,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,9,11,13,15,17,19,21,23,24,26,28,30,32,34,36,38,40,41,43,45,47,49,51,53,55,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,88,90,92,94,96,98,100,102,104,105,107,109,111,113,115,117,119,120,122,124,126,128,130,132,134,136,137,139,141,143,145,147,149,151,152,154,156,158,160,162,164,166,168,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,201,203,205,207,209,211,213,215,216,218,220,222,224,226,228,229,231,233,235,237,239,240,242,244,246,248,250,251,253,255],blue:[0,2,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,197,194,191,188,185,182,179,176,174,171,168,165,162,159,156,153,150,144,138,132,126,121,115,109,103,97,91,85,79,74,68,62,56,50,47,44,41,38,35,32,29,26,24,21,18,15,12,9,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,176,179,182,185,188,191,194,197,200,203,206,210,213,216,219,223,226,229,232,236,239,242,245,249,252,255]},a.image.lut.pet_20step={red:[0,0,0,0,0,0,0,0,0,0,0,0,0,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,192,192,192,192,192,192,192,192,192,192,192,192,192,176,176,176,176,176,176,176,176,176,176,176,176,176,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,96,96,96,96,96,96,96,96,96,96,96,96,96,144,144,144,144,144,144,144,144,144,144,144,144,144,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,176,176,176,176,176,176,176,176,176,176,176,176,176,144,144,144,144,144,144,144,144,144,144,144,144,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,128,176,176,176,176,176,176,176,176,176,176,176,176,176,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255]},a.image.lut.test={red:a.image.lut.buildLut(a.image.lut.id),green:a.image.lut.buildLut(a.image.lut.zero),blue:a.image.lut.buildLut(a.image.lut.zero)},(a=a||{}).image=a.image||{},a.dicom.equalPosPat=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},a.dicom.getComparePosPat=function(e){var t=e.getInverse();return function(e,n){return e=t.multiplyArray3D(e),n=t.multiplyArray3D(n),e[2]-n[2]}},a.dicom.checkTag=function(e,t){var n=e.getFromKey(t.tag);if(1===t.type||2===t.type){if(null==n)throw new Error("Missing or empty "+t.name)}else if(null==n)return;var r=!1;if(Array.isArray(n)){n=n.map((function(e){return a.dicom.cleanString(e)}));for(var i=0;i<t.enum.length;++i){if(!Array.isArray(t.enum[i]))throw new Error("Cannot compare array and non array tag value.");if(a.utils.arraySortEquals(t.enum[i],n)){r=!0;break}}}else"string"==typeof n&&(n=a.dicom.cleanString(n)),r=t.enum.includes(n);if(!r)throw new Error("Unsupported "+t.name+" value: "+n)},a.dicom.requiredDicomSegTags=[{name:"TransferSyntaxUID",tag:"x00020010",type:"1",enum:["1.2.840.10008.1.2.1"]},{name:"MediaStorageSOPClassUID",tag:"x00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"SOPClassUID",tag:"x00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"Modality",tag:"x00080060",type:"1",enum:["SEG"]},{name:"SegmentationType",tag:"x00620001",type:"1",enum:["BINARY"]},{name:"DimensionOrganizationType",tag:"x00209311",type:"3",enum:["3D"]},{name:"ImageType",tag:"x00080008",type:"1",enum:[["DERIVED","PRIMARY"]]},{name:"SamplesPerPixel",tag:"x00280002",type:"1",enum:[1]},{name:"PhotometricInterpretation",tag:"x00280004",type:"1",enum:["MONOCHROME2"]},{name:"PixelRepresentation",tag:"x00280103",type:"1",enum:[0]},{name:"BitsAllocated",tag:"x00280100",type:"1",enum:[1]},{name:"BitsStored",tag:"x00280101",type:"1",enum:[1]},{name:"HighBit",tag:"x00280102",type:"1",enum:[0]}],a.dicom.getDefaultDicomSegJson=function(){for(var e={},t=0;t<a.dicom.requiredDicomSegTags.length;++t){var n=a.dicom.requiredDicomSegTags[t];e[n.name]=n.enum[0]}return e},a.dicom.getDimensionOrganization=function(e){var t=e.getFromKey("x00209221",!0);if(!t||1!==t.length)throw new Error("Unsupported dimension organization sequence length");var n=a.dicom.cleanString(t[0].x00209164.value[0]),r=[],i=e.getFromKey("x00209222",!0);if(i){if(2!==i.length)throw new Error("Unsupported dimension index sequence length");for(var o=0;o<i.length;++o){if((l=a.dicom.cleanString(i[o].x00209164.value[0]))!==n)throw new Error("Dimension Index Sequence contains a unknown Dimension Organization");var s,l={DimensionOrganizationUID:l,DimensionIndexPointer:s=a.dicom.cleanString(i[o].x00209165.value[0])};void 0!==i[o].x00209421&&(l.DimensionDescriptionLabel=a.dicom.cleanString(i[o].x00209421.value[0])),r.push(l)}if("(0020,0032)"!==s)throw new Error("Unsupported non image position as last index")}return{organizations:{value:[{DimensionOrganizationUID:n}]},indices:{value:r}}},a.dicom.getCode=function(e){var t={meaning:a.dicom.cleanString(e.x00080104.value[0])};if(e.x00080100)t.value=e.x00080100.value[0];else if(e.x00080119)t.longValue=e.x00080119.value[0];else{if(!e.x00080120)throw Error("Invalid code with no value, no long value and no urn value.");t.urnValue=e.x00080120.value[0]}if(void 0!==t.value||void 0!==t.longValue){if(!e.x00080102)throw Error("No coding sheme designator when code value or long value is present");t.schemeDesignator=e.x00080102.value[0]}return t},a.dicom.getSegment=function(e){var t,n={number:e.x00620004.value[0],label:a.dicom.cleanString(e.x00620005.value[0]),algorithmType:a.dicom.cleanString(e.x00620008.value[0])};if(e.x00620009&&(n.algorithmName=a.dicom.cleanString(e.x00620009.value[0])),void 0!==e.x0062000C?n.displayValue=e.x006200C.value:void 0!==e.x0062000D&&(t=e.x0062000D.value,t=a.utils.cielabToSrgb(a.utils.uintLabToLab({l:t[0],a:t[1],b:t[2]})),n.displayValue=t),void 0===e.x00620003)throw Error("Missing Segmented Property Category Code Sequence.");if(n.propertyCategoryCode=a.dicom.getCode(e.x00620003.value[0]),void 0===e.x0062000F)throw Error("Missing Segmented Property Type Code Sequence.");return n.propertyTypeCode=a.dicom.getCode(e.x0062000F.value[0]),void 0!==e.x00620020&&(n.trackingId=e.x00620020.value[0],n.trackingUid=e.x00620021.value[0]),n},a.dicom.isEqualSegment=function(e,t){if(void 0===e||void 0===t||null===e||null===t)return!1;var n=e.number===t.number&&e.label===t.label&&e.algorithmType===t.algorithmType;return n=void 0!==e.displayValue.r?void 0!==t.displayValue.r&&n&&a.utils.isEqualRgb(e.displayValue,t.displayValue):n&&e.displayValue===t.displayValue,void 0!==e.algorithmName?void 0!==t.algorithmName&&n&&e.algorithmName===t.algorithmName:n},a.dicom.isSimilarSegment=function(e,t){if(void 0===e||void 0===t||null===e||null===t)return!1;var n=e.number===t.number;return void 0!==e.displayValue.r?void 0!==t.displayValue.r&&(n||a.utils.isEqualRgb(e.displayValue,t.displayValue)):n||e.displayValue===t.displayValue},a.dicom.getSpacingFromMeasure=function(e){if(void 0===e.x00280030)return null;var t=e.x00280030;return t=[parseFloat(t.value[0]),parseFloat(t.value[1])],void 0!==e.x00180050?t.push(parseFloat(e.x00180050.value[0])):void 0!==e.x00180088&&t.push(parseFloat(e.x00180088.value[0])),new a.image.Spacing(t)},a.dicom.getSegmentFrameInfo=function(e){var t=[];if(void 0!==e.x00089124)for(var n=e.x00089124.value,r=0;r<n.length;++r){var i=[];if(void 0!==n[r].x00082112)for(var o=n[r].x00082112.value,s=0;s<o.length;++s){var l={};void 0!==o[s].x00081150&&(l.referencedSOPClassUID=o[s].x00081150.value[0]),void 0!==o[s].x00081155&&(l.referencedSOPInstanceUID=o[s].x00081155.value[0]),i.push(l)}t.push(i)}for(var u=e.x00209111.value[0].x00209157.value,c=e.x0062000A.value[0].x0062000B.value[0],d=e.x00209113.value[0].x00200032.value,f=0;f<d.length;++f)d[f]=parseFloat(d[f],10);return u={dimIndex:u,imagePosPat:d,derivationImages:t,refSegmentNumber:c},void 0!==e.x00209116&&0!==(c=e.x00209116).value.length&&void 0!==(c=c.value[0].x00200037.value)&&(u.imageOrientationPatient=c),void 0!==e.x00289110&&(0!==(c=e.x00289110).value.length?void 0!==(e=a.dicom.getSpacingFromMeasure(c.value[0]))&&(u.spacing=e):a.logger.warn("No shared functional group pixel measure sequence items.")),u},a.image.MaskFactory=function(){},a.image.MaskFactory.prototype.create=function(e,t){for(var n=0;n<a.dicom.requiredDicomSegTags.length;++n)a.dicom.checkTag(e,a.dicom.requiredDicomSegTags[n]);if(!(C=e.getFromKey("x00280011")))throw new Error("Missing or empty DICOM image number of columns");if(!(i=e.getFromKey("x00280010")))throw new Error("Missing or empty DICOM image number of rows");var r=C*i;if((C=(C=e.getFromKey("x00280008"))?parseInt(C,10):1)!==t.length/r)throw new Error("Buffer and numberOfFrames meta are not equal."+C+" "+t.length/r);var i=a.dicom.getDimensionOrganization(e),o=e.getFromKey("x00620002",!0);if(!o||void 0===o)throw new Error("Missing or empty segmentation sequence");for(var s=[],l=!1,u=0;u<o.length;++u){var c=a.dicom.getSegment(o[u]);void 0!==c.displayValue.r&&void 0!==c.displayValue.g&&void 0!==c.displayValue.b&&(l=!0),s.push(c)}var d,f,h=e.getImageSize(),p=((y=e.getFromKey("x52009229",!0))&&0!==y.length&&(void 0!==(y=y[0]).x00209116&&(0!==(b=y.x00209116).value.length?f=b.value[0].x00200037.value:a.logger.warn("No shared functional group plane orientation sequence items.")),void 0!==y.x00289110&&(0!==(b=y.x00289110).value.length?d=a.dicom.getSpacingFromMeasure(b.value[0]):a.logger.warn("No shared functional group pixel measure sequence items."))),e.getFromKey("x52009230",!0));if(!p||void 0===p)throw new Error("Missing or empty per frame functional sequence");if(C!==p.length)throw new Error("perFrameFuncGroupSequence meta and numberOfFrames are not equal.");for(var g=[],m=0;m<p.length;++m)g.push(a.dicom.getSegmentFrameInfo(p[m]));for(var x=[],v=0;v<g.length;++v){if(!function(e,t){return e.some((function(e){return a.dicom.equalPosPat(t,e)}))}(x,g[v].imagePosPat)&&x.push(g[v].imagePosPat),void 0!==g[v].imageOrientationPatient)if(void 0===f)f=g[v].imageOrientationPatient;else if(!a.utils.arraySortEquals(f,g[v].imageOrientationPatient))throw new Error("Unsupported multi orientation dicom seg.");if(void 0!==g[v].spacing)if(void 0===d)d=g[v].spacing;else if(!d.equals(g[v].spacing))throw new Error("Unsupported multi resolution dicom seg.")}if(void 0===d)throw new Error("No spacing found for DICOM SEG");if(void 0===f)throw new Error("No imageOrientationPatient found for DICOM SEG");function S(e){return new a.math.Point3D(e[0],e[1],e[2])}for(var y=new a.math.Vector3D(parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2])),b=new a.math.Vector3D(parseFloat(f[3]),parseFloat(f[4]),parseFloat(f[5])),C=y.crossProduct(b),w=(y=new a.math.Matrix33([y.getX(),b.getX(),C.getX(),y.getY(),b.getY(),C.getY(),y.getZ(),b.getZ(),C.getZ()]),x.sort(a.dicom.getComparePosPat(y)),[]),D=0;D<x.length;++D)w.push(S(x[D]));b=d,C=a.image.getSliceGeometrySpacing(w,y,!1);for(var T,P,L=d.getValues(),I=(void 0!==C&&C!==L[2]&&(L[2]=C,b=new a.image.Spacing(L)),new a.image.Geometry(w[0],h,b,y)),k=[],A=(k.push(x[0]),0),R=1;R<x.length;++R){++A;for(var E=new a.math.Index([0,0,A]),O=I.indexToWorld(E).get3D(),F=w[R],_=F.getDistance(O),M=_;P=void 0,(P=(T=_)>a.math.REAL_WORLD_EPSILON)&&!(P=T>10*a.math.REAL_WORLD_EPSILON)&&a.logger.warn("Using larger real world epsilon in SEG pos pat adding"),P;)if(a.logger.debug("Adding intermediate pos pats for DICOM seg at "+O.toString()),k.push([O.getX(),O.getY(),O.getZ()]),++A,E=new a.math.Index([0,0,A]),O=I.indexToWorld(E).get3D(),M<(_=F.getDistance(O)))throw new Error("Test distance is increasing when adding intermediate pos pats");k.push(x[R])}for(var q=k.length,N=new a.image.Geometry(w[0],h,b,y),U=[0],B=1;B<q;++B)N.appendOrigin(S(k[B]),B),U.push(B);for(var Z=l?3:1,Q=new t.constructor(Z*r*q),z=(Q.fill(0),0);z<g.length;++z)for(var G,V=r*z,W=r*(A=function(e,t){return e.findIndex((function(e){return a.dicom.equalPosPat(t,e)}))}(k,g[z].imagePosPat)),j=s.find(function(e){return function(t){return t.number===e}}(g[z].refSegmentNumber)).displayValue,H=0;H<r;++H)0!==t[V+H]&&(G=Z*(W+H),l?(Q[G]=j.r,Q[1+G]=j.g,Q[2+G]=j.b):Q[G]=j);return C=new a.image.Image(N,Q,U),l&&C.setPhotometricInterpretation("RGB"),(L=a.dicom.getDefaultDicomSegJson()).StudyDate=e.getFromKey("x00080020"),L.StudyTime=e.getFromKey("x00080030"),L.StudyInstanceUID=e.getFromKey("x0020000D"),L.StudyID=e.getFromKey("x00200010"),L.SeriesInstanceUID=e.getFromKey("x0020000E"),L.SeriesNumber=e.getFromKey("x00200011"),L.ReferringPhysicianName=e.getFromKey("x00080090"),L.PatientName=a.dicom.cleanString(e.getFromKey("x00100010")),L.PatientID=a.dicom.cleanString(e.getFromKey("x00100020")),L.PatientBirthDate=e.getFromKey("x00100030"),L.PatientSex=a.dicom.cleanString(e.getFromKey("x00100040")),L.Manufacturer=e.getFromKey("x00080070"),L.ManufacturerModelName=e.getFromKey("x00081090"),L.DeviceSerialNumber=e.getFromKey("x00181000"),L.SoftwareVersions=e.getFromKey("x00181020"),L.DimensionOrganizationSequence=i.organizations,L.DimensionIndexSequence=i.indices,L.custom={segments:s,frameInfos:g,SOPInstanceUID:e.getFromKey("x00080018")},L.numberOfFiles=q,(h=e.getFromKey("x00200052"))&&(L.FrameOfReferenceUID=h),(b=e.getFromKey("x00282110"))&&(L.LossyImageCompression=b),C.setMeta(L),C},(a=a||{}).image=a.image||{},a.image.MaskSegmentHelper=function(e){var t=e.getMeta().custom.segments,n=[];function r(e){return n.findIndex((function(t){return t===e}))}this.hasSegment=function(e){return void 0!==this.getSegment(e)},this.maskHasSegments=function(t){for(var n=[],r=[],i=0;i<t.length;++i){var o=this.getSegment(t[i]);void 0!==o?n.push(o.displayValue):(a.logger.warn("Unknown segment in maskHasSegments: "+t[i]),r.push(i))}for(var s=e.hasValues(n),l=0;l<r.length;++l)s.splice(r[l],0,!1);return s},this.getSegment=function(e){return t.find((function(t){return t.number===e}))},this.getSegments=function(){return t},this.setSegments=function(e){t=e},this.setHiddenSegments=function(e){n=e},this.isHidden=function(e){return-1!==r(e)},this.addToHidden=function(e){this.isHidden(e)?a.logger.warn("Segment is allready in the hidden list: "+e):n.push(e)},this.removeFromHidden=function(e){var t=r(e);-1!==t?n.splice(t,1):a.logger.warn("Segment is not in the hidden list: "+e)},this.getAlphaFunc=function(){for(var e=[{r:0,g:0,b:0}],t=0;t<n.length;++t){var r=this.getSegment(n[t]);void 0!==r&&e.push(r.displayValue)}return function(t){for(var n=0;n<e.length;++n)if(t[0]===e[n].r&&t[1]===e[n].g&&t[2]===e[n].b)return 0;return 255}},this.deleteSegment=function(t,n,r){var i=new a.image.DeleteSegmentCommand(e,this.getSegment(t));i.onExecute=n,i.onUndo=n,i.isValid()&&(i.execute(),r(i),this.isHidden(t)&&this.removeFromHidden(t))}},a.image.DeleteSegmentCommand=function(e,t,n){var r=void 0!==n&&n,i=e.getOffsets(t.displayValue);this.getName=function(){return"Delete-segment"},this.isValid=function(){return 0!==i.length},this.execute=function(){e.setAtOffsets(i,{r:0,g:0,b:0}),r||this.onExecute({type:"masksegmentdelete",segmentnumber:t.number})},this.undo=function(){e.setAtOffsets(i,t.displayValue),this.onUndo({type:"masksegmentredraw",segmentnumber:t.number})}},a.image.DeleteSegmentCommand.prototype.onExecute=function(e){},a.image.DeleteSegmentCommand.prototype.onUndo=function(e){},(a=a||{}).image=a.image||{},a.image.PlaneHelper=function(e,t,n){var r=a.gui.getTargetOrientation(t,n);this.getOffset3DFromPlaneOffset=function(t){return t=new a.math.Vector3D(t.x,t.y,0),t=this.getTargetDeOrientedVector3D(t),new a.math.Vector3D(t.getX()*e.get(0),t.getY()*e.get(1),t.getZ()*e.get(2))},this.getPlaneOffsetFromOffset3D=function(t){return t=new a.math.Vector3D(t.x/e.get(0),t.y/e.get(1),t.z/e.get(2)),{x:(t=this.getTargetOrientedVector3D(t)).getX(),y:t.getY()}},this.getTargetOrientedVector3D=function(e){var t=e;return void 0!==r?r.getInverse().multiplyVector3D(e):t},this.getTargetDeOrientedVector3D=function(e){var t=e;return void 0!==r?r.multiplyVector3D(e):t},this.getImageOrientedVector3D=function(e){var t=e;return void 0!==n&&(e=a.image.getDeOrientedArray3D([e.getX(),e.getY(),e.getZ()],n),t=new a.math.Vector3D(e[0],e[1],e[2])),t},this.getImageDeOrientedVector3D=function(e){var t=e;return void 0!==n&&(e=a.image.getOrientedArray3D([e.getX(),e.getY(),e.getZ()],n),t=new a.math.Vector3D(e[0],e[1],e[2])),t},this.getTargetOrientedPositiveXYZ=function(e){return{x:(e=a.image.getOrientedArray3D([e.x,e.y,e.z],r))[0],y:e[1],z:e[2]}},this.getScrollIndex=function(){return void 0!==n?n.getThirdColMajorDirection():2},this.getNativeScrollIndex=function(){return void 0!==t?t.getThirdColMajorDirection():2}},(a=a||{}).image=a.image||{},a.image.RescaleLut=function(e,t){var n=null,r=!1,i=Math.pow(2,t);this.getRSI=function(){return e},this.isReady=function(){return r},this.initialise=function(){if(!r){n=new Float32Array(i);for(var t=0;t<i;++t)n[t]=e.apply(t);r=!0}},this.getLength=function(){return i},this.getValue=function(e){return n[e]}},(a=a||{}).image=a.image||{},a.image.RescaleSlopeAndIntercept=function(e,t){this.getSlope=function(){return e},this.getIntercept=function(){return t},this.apply=function(n){return n*e+t}},a.image.RescaleSlopeAndIntercept.prototype.equals=function(e){return null!==e&&this.getSlope()===e.getSlope()&&this.getIntercept()===e.getIntercept()},a.image.RescaleSlopeAndIntercept.prototype.toString=function(){return this.getSlope()+", "+this.getIntercept()},a.image.RescaleSlopeAndIntercept.prototype.isID=function(){return 1===this.getSlope()&&0===this.getIntercept()},(a=a||{}).image=a.image||{},a.image.Size=function(e){if(!e||void 0===e)throw new Error("Cannot create size with no values.");if(0===e.length)throw new Error("Cannot create size with empty values.");if(!e.every((function(e){return!isNaN(e)&&0!==e})))throw new Error("Cannot create size with non number or zero values.");this.get=function(t){return e[t]},this.length=function(){return e.length},this.toString=function(){return"("+e.toString()+")"},this.getValues=function(){return e.slice()}},a.image.Size.prototype.moreThanOne=function(e){return this.length()>=e+1&&1!==this.get(e)},a.image.Size.prototype.canScroll3D=function(e){var t=2;return void 0!==e&&(t=e.getThirdColMajorDirection()),this.moreThanOne(t)},a.image.Size.prototype.canScroll=function(e){for(var t=this.canScroll3D(e),n=3;n<this.length();++n)t=t||this.moreThanOne(n);return t},a.image.Size.prototype.getDimSize=function(e,t){if(e>this.length())return null;if(void 0===t)t=0;else if(t<0||e<t)throw new Error("Invalid start value for getDimSize");for(var n=1,r=t;r<e;++r)n*=this.get(r);return n},a.image.Size.prototype.getTotalSize=function(e){return this.getDimSize(this.length(),e)},a.image.Size.prototype.equals=function(e){if(!e)return!1;var t=this.length();if(t!==e.length())return!1;for(var n=0;n<t;++n)if(this.get(n)!==e.get(n))return!1;return!0},a.image.Size.prototype.isInBounds=function(e,t){if(!e)return!1;var n=this.length();if(n!==e.length())return!1;if(void 0===t){t=[];for(var r=0;r<n;++r)t.push(r)}else for(var i=0;i<n;++i)if(t[i]>n-1)throw new Error("Wrong input dir value: "+t[i]);for(var o,a,s=0;s<t.length;++s)if(o=e.get(t[s]),a=this.get(t[s]),!(0<=o&&o<a))return!1;return!0},a.image.Size.prototype.indexToOffset=function(e,t){if(e.length()<this.length())throw new Error("Incompatible index and size length");if(void 0===t)t=0;else if(t<0||t>this.length()-1)throw new Error("Invalid start value for indexToOffset");for(var n=0,r=t;r<this.length();++r)n+=e.get(r)*this.getDimSize(r,t);return n},a.image.Size.prototype.offsetToIndex=function(e){for(var t,n=new Array(this.length()),r=e,i=this.length()-1;0<i;--i)t=this.getDimSize(i),n[i]=Math.floor(r/t),r-=n[i]*t;return n[0]=r,new a.math.Index(n)},a.image.Size.prototype.get2D=function(){return{x:this.get(0),y:this.get(1)}},(a=a||{}).image=a.image||{},a.image.Spacing=function(e){if(!e||void 0===e)throw new Error("Cannot create spacing with no values.");if(0===e.length)throw new Error("Cannot create spacing with empty values.");if(!e.every((function(e){return!isNaN(e)&&0!==e})))throw new Error("Cannot create spacing with non number or zero values.");this.get=function(t){return e[t]},this.length=function(){return e.length},this.toString=function(){return"("+e.toString()+")"},this.getValues=function(){return e.slice()}},a.image.Spacing.prototype.equals=function(e){if(!e)return!1;var t=this.length();if(t!==e.length())return!1;for(var n=0;n<t;++n)if(this.get(n)!==e.get(n))return!1;return!0},a.image.Spacing.prototype.get2D=function(){return{x:this.get(0),y:this.get(1)}},(a=a||{}).image=a.image||{},a.image.viewEventNames=["wlchange","wlpresetadd","colourchange","positionchange","opacitychange","alphafuncchange"],a.image.View=function(e){var t,n=this,r=(e.addEventListener("appendframe",(function(){var e=n.getCurrentIndex();3===e.length()&&((e=e.getValues()).push(0),n.setCurrentIndex(new a.math.Index(e)))})),{}),i={minmax:{name:"minmax"}},o=null,s=null,l=a.image.lut.plain,u=null,c=new a.utils.ListenerHandler,d=(this.getImage=function(){return e},this.setImage=function(t){e=t},this.getOrientation=function(){return t},this.setOrientation=function(e){t=e},this.init=function(){this.setInitialIndex()},this.setInitialIndex=function(){var t=e.getGeometry().getSize(),n=new Array(t.length());n.fill(0),n[0]=Math.floor(t.get(0)/2),n[1]=Math.floor(t.get(1)/2),n[2]=Math.floor(t.get(2)/2),this.setCurrentIndex(new a.math.Index(n),!0)},this.getPlaybackMilliseconds=function(e){return e=e||10,Math.round(1e3/e)},function(e,t){return 255});function f(e){c.fireEvent(e)}this.getAlphaFunction=function(){return d},this.setAlphaFunction=function(e){d=e,f({type:"alphafuncchange"})},this.getCurrentWindowLut=function(t){this.getCurrentIndex()||this.setInitialIndex();var n=this.getCurrentIndex(),l=(void 0===t&&(t=e.getRescaleSlopeAndIntercept(n)),null);return void 0===(o&&void 0!==i[o]&&void 0!==i[o].perslice&&!0===i[o].perslice&&(n=e.getSecondaryOffset(n),l=i[o].wl[n]),l||(s||this.setWindowLevelPresetById(0,!0),l=s),n=r[t.toString()])&&(t=new a.image.RescaleLut(e.getRescaleSlopeAndIntercept(0),e.getMeta().BitsStored),t=new a.image.WindowLut(t,e.getMeta().IsSigned),this.addWindowLut(t),n=t),t=n.getWindowLevel(),l.equals(t)||(n.setWindowLevel(l),n.update(),t&&t.getWidth()===l.getWidth()&&t.getCenter()===l.getCenter()||f({type:"wlchange",value:[l.getCenter(),l.getWidth()],wc:l.getCenter(),ww:l.getWidth(),skipGenerate:!0})),n},this.addWindowLut=function(e){var t=e.getRescaleLut().getRSI();r[t.toString()]=e},this.getWindowPresets=function(){return i},this.getWindowPresetsNames=function(){return Object.keys(i)},this.setWindowPresets=function(e){i=e},this.setDefaultColourMap=function(e){l=e},this.addWindowPresets=function(e){for(var t,n=Object.keys(e),r=0;r<n.length;++r)if(t=n[r],void 0!==i[t]){if(void 0!==i[t].perslice&&!0===i[t].perslice)throw new Error("Cannot add perslice preset");i[t]=e[t]}else i[t]=e[t],f({type:"wlpresetadd",name:t})},this.getColourMap=function(){return l},this.setColourMap=function(e){l=e,f({type:"colourchange",wc:this.getCurrentWindowLut().getWindowLevel().getCenter(),ww:this.getCurrentWindowLut().getWindowLevel().getWidth()})},this.getCurrentPosition=function(){return u},this.getCurrentIndex=function(){var e=this.getCurrentPosition();return e?this.getImage().getGeometry().worldToIndex(e):null},this.canSetPosition=function(t){var n=e.getGeometry(),r=(t=n.worldToIndex(t),[this.getScrollIndex()]);return 4===t.length()&&r.push(3),n.isIndexInBounds(t,r)},this.getOrigin=function(t){var n=e.getGeometry(),r=0;return void 0!==t&&(r=n.worldToIndex(t).get(2)),n.getOrigins()[r]},this.setCurrentPosition=function(t,n){var r=e.getGeometry(),i=r.worldToIndex(t),o=[this.getScrollIndex()];return 4===i.length()&&o.push(3),r.isIndexInBounds(i,o)?this.setCurrentIndex(i,n):(n||f({type:"positionchange",value:[i.getValues(),t.getValues()],valid:!1}),!1)},this.setCurrentIndex=function(t,n){void 0===n&&(n=!1);var r=e.getGeometry(),i=r.indexToWorld(t),o=[this.getScrollIndex()];if(4===t.length()&&o.push(3),!r.isIndexInBounds(t,o))return!1;var a=null,s=null;if(s=this.getCurrentPosition()?this.getCurrentIndex():s)if(s.canCompare(t))a=s.compare(t);else{a=[];for(var l=Math.min(s.length(),t.length()),c=0;c<l;++c)s.get(c)!==t.get(c)&&a.push(c);for(var d=Math.max(s.length(),t.length()),h=l;h<d;++h)a.push(h)}else{a=[];for(var p=0;p<t.length();++p)a.push(p)}return u=i,n||(r={type:"positionchange",value:[t.getValues(),i.getValues()],diffDims:a,data:{imageUid:e.getImageUid(t)}},e.canQuantify()&&(o=e.getRescaledValueAtIndex(t),r.value.push(o)),f(r)),!0},this.setWindowLevel=function(e,t,n,r){var i,l,u;t<1||(void 0===n&&(n="manual"),void 0===r&&(r=!1),(i=new a.image.WindowLevel(e,t)).equals(s)||(l=!s||s.getWidth()!==t,u=!s||s.getCenter()!==e,s=i,o=n,(l||u)&&f({type:"wlchange",value:[e,t],wc:e,ww:t,skipGenerate:r})))},this.setWindowLevelPreset=function(t,n){var r=this.getWindowPresets()[t];if(void 0===r)throw new Error("Unknown window level preset: '"+t+"'");"minmax"===t&&void 0===r.wl&&(r.wl=[this.getWindowLevelMinMax()]);var i,o=r.wl[0];void 0!==r.perslice&&!0===r.perslice&&(i=e.getSecondaryOffset(this.getCurrentIndex()),o=r.wl[i]),this.setWindowLevel(o.getCenter(),o.getWidth(),t,n)},this.setWindowLevelPresetById=function(e,t){var n=Object.keys(this.getWindowPresets());this.setWindowLevelPreset(n[e],t)},this.clone=function(){var e,t=new a.image.View(this.getImage());for(e in r)t.addWindowLut(r[e]);return t.setListeners(this.getListeners()),t},this.addEventListener=function(e,t){c.add(e,t)},this.removeEventListener=function(e,t){c.remove(e,t)}},a.image.View.prototype.getWindowLevelMinMax=function(){var e,t=(e=this.getImage().getRescaledDataRange()).min;return(e=e.max-t)<1&&(a.logger.warn("Zero or negative window width, defaulting to one."),e=1),t+=e/2,new a.image.WindowLevel(t,e)},a.image.View.prototype.setWindowLevelMinMax=function(){var e=this.getWindowLevelMinMax();this.setWindowLevel(e.getCenter(),e.getWidth(),"minmax")},a.image.View.prototype.generateImageData=function(e,t){void 0===t&&(this.getCurrentIndex()||this.setInitialIndex(),t=this.getCurrentIndex());var n=this.getImage(),r=a.image.getSliceIterator(n,t,!1,this.getOrientation()),i=n.getPhotometricInterpretation();switch(i){case"MONOCHROME1":case"MONOCHROME2":a.image.generateImageDataMonochrome(e,r,this.getAlphaFunction(),this.getCurrentWindowLut(),this.getColourMap());break;case"PALETTE COLOR":a.image.generateImageDataPaletteColor(e,r,this.getAlphaFunction(),this.getColourMap(),16===n.getMeta().BitsStored);break;case"RGB":a.image.generateImageDataRgb(e,r,this.getAlphaFunction(),this.getCurrentWindowLut());break;case"YBR_FULL":a.image.generateImageDataYbrFull(e,r,this.getAlphaFunction());break;default:throw new Error("Unsupported photometric interpretation: "+i)}},a.image.View.prototype.incrementIndex=function(e,t){var n=this.getCurrentIndex(),r=((r=new Array(n.length())).fill(0),e<r.length?r[e]=1:console.warn("Cannot increment given index: ",e,r.length),e=new a.math.Index(r),n.add(e));return this.setCurrentIndex(r,t)},a.image.View.prototype.decrementIndex=function(e,t){var n=this.getCurrentIndex(),r=((r=new Array(n.length())).fill(0),e<r.length?r[e]=-1:console.warn("Cannot decrement given index: ",e,r.length),e=new a.math.Index(r),n.add(e));return this.setCurrentIndex(r,t)},a.image.View.prototype.getScrollIndex=function(){var e=this.getOrientation();return void 0!==e?e.getThirdColMajorDirection():2},a.image.View.prototype.decrementScrollIndex=function(e){return this.decrementIndex(this.getScrollIndex(),e)},a.image.View.prototype.incrementScrollIndex=function(e){return this.incrementIndex(this.getScrollIndex(),e)},(a=a||{}).image=a.image||{},a.image.ViewFactory=function(){},a.ViewFactory=a.image.ViewFactory,a.image.ViewFactory.prototype.create=function(e,t){var n,r=new a.image.View(t),i=("MONOCHROME1"===t.getPhotometricInterpretation()?r.setDefaultColourMap(a.image.lut.invPlain):"PALETTE COLOR"===t.getPhotometricInterpretation()&&void 0!==(n=t.getMeta().paletteLut)&&r.setDefaultColourMap(n),{});if((i=void 0!==t.getMeta().windowPresets?t.getMeta().windowPresets:i).minmax={name:"minmax"},void 0!==a.tool&&void 0!==a.tool.defaultpresets){var o,s=t.getMeta().Modality;for(o in a.tool.defaultpresets[s]){var l=a.tool.defaultpresets[s][o];i[o]={wl:new a.image.WindowLevel(l.center,l.width),name:o}}}return r.setWindowPresets(i),r.init(),r},(a=a||{}).image=a.image||{},a.image.generateImageDataMonochrome=function(e,t,n,r,i){for(var o,a=0,s=t.next();!s.done;)o=r.getValue(s.value),e.data[a]=i.red[o],e.data[a+1]=i.green[o],e.data[a+2]=i.blue[o],e.data[a+3]=n(s.value,s.index),a+=4,s=t.next()},(a=a||{}).image=a.image||{},a.image.generateImageDataPaletteColor=function(e,t,n,r,i){i&&a.logger.info("Scaling 16bits data to 8bits.");for(var o,s=0,l=t.next();!l.done;)o=l.value,i?(e.data[s]=r.red[o]>>8,e.data[s+1]=r.green[o]>>8,e.data[s+2]=r.blue[o]>>8):(e.data[s]=r.red[o],e.data[s+1]=r.green[o],e.data[s+2]=r.blue[o]),e.data[s+3]=n(o,l.index),s+=4,l=t.next()},(a=a||{}).image=a.image||{},a.image.generateImageDataRgb=function(e,t,n){for(var r=0,i=t.next();!i.done;)e.data[r]=i.value[0],e.data[r+1]=i.value[1],e.data[r+2]=i.value[2],e.data[r+3]=n(i.value,i.index),r+=4,i=t.next()},(a=a||{}).image=a.image||{},a.image.generateImageDataYbrFull=function(e,t,n){for(var r,i=0,o=t.next();!o.done;)r=a.utils.ybrToRgb(o.value[0],o.value[1],o.value[2]),e.data[i]=r.r,e.data[i+1]=r.g,e.data[i+2]=r.b,e.data[i+3]=n(o.value,o.index),i+=4,o=t.next()},(a=a||{}).image=a.image||{},a.image.MinWindowWidth=1,a.image.validateWindowWidth=function(e){return e<a.image.MinWindowWidth?a.image.MinWindowWidth:e},a.image.WindowLevel=function(e,t){if(t<a.image.MinWindowWidth)throw new Error("Window width shall always be greater than or equal to "+a.image.MinWindowWidth);var n=0,r=0,i=255,o=null,s=null,l=null,u=null;function c(){var a=e+n;o=a-.5-(t-1)/2,s=a-.5+(t-1)/2,l=(i-r)/(t-1),u=(-(a-.5)/(t-1)+.5)*(i-r)+r}c(),this.getCenter=function(){return e},this.getWidth=function(){return t},this.setRange=function(e,t){r=parseInt(e,10),i=parseInt(t,10),c()},this.setSignedOffset=function(e){n=e,c()},this.apply=function(e){return e<=o?r:s<e?i:parseInt(e*l+u,10)}},a.image.WindowLevel.prototype.equals=function(e){return null!==e&&this.getCenter()===e.getCenter()&&this.getWidth()===e.getWidth()},a.image.WindowLevel.prototype.toString=function(){return this.getCenter()+", "+this.getWidth()},(a=a||{}).image=a.image||{},a.image.WindowLut=function(e,t){var n=null,r=null,i=!1,o=0;this.getWindowLevel=function(){return r},this.isSigned=function(){return t},this.getRescaleLut=function(){return e},this.isReady=function(){return i},this.setWindowLevel=function(n){o=0,(r=n).setSignedOffset(0),t&&(n=e.getLength(),o=n/2,r.setSignedOffset(e.getRSI().getSlope()*o)),i=!1},this.update=function(){if(!i){e.isReady()||e.initialise();var t=e.getLength();n=n||new Uint8ClampedArray(t);for(var o=0;o<t;++o)n[o]=r.apply(e.getValue(o));i=!0}},this.getLength=function(){return n.length},this.getValue=function(e){return n[e+o]}},(a=a||{}).io=a.io||{},a.io.DicomDataLoader=function(){var e=this,t={},n=!1,r=(this.setOptions=function(e){t=e},this.isLoading=function(){return n},new a.image.DicomBufferToView);this.load=function(i,o,a){n||(r.setOptions(t),r.onloadstart=e.onloadstart,r.onprogress=e.onprogress,r.onloaditem=e.onloaditem,r.onload=e.onload,r.onloadend=function(t){n=!1,e.onloadend(t)},r.onerror=e.onerror,r.onabort=e.onabort),n=!0,r.convert(i,o,a)},this.abort=function(){n=!1,r.abort()}},a.io.DicomDataLoader.prototype.canLoadFile=function(e){return null===(e=a.utils.getFileExtension(e.name))||"dcm"===e},a.io.DicomDataLoader.prototype.canLoadUrl=function(e,t){if(void 0!==t&&void 0!==t.requestHeaders)return void 0!==t.requestHeaders.find((function(e){return"Accept"===e.name&&a.utils.startsWith(e.value,"application/dicom")&&"+"!==e.value[18]}));t=a.utils.getUrlFromUri(e);var n=null===(e=a.utils.getFileExtension(t.pathname));return e="dcm"===e,null!=(t=t.searchParams.get("contentType"))?"application/dicom"===t:n||e},a.io.DicomDataLoader.prototype.canLoadMemory=function(e){return void 0!==e["Content-Type"]&&"application/dicom"===e["Content-Type"]||void 0!==e.filename&&this.canLoadFile(e.filename)},a.io.DicomDataLoader.prototype.loadFileAs=function(){return a.io.fileContentTypes.ArrayBuffer},a.io.DicomDataLoader.prototype.loadUrlAs=function(){return a.io.urlContentTypes.ArrayBuffer},a.io.DicomDataLoader.prototype.onloadstart=function(e){},a.io.DicomDataLoader.prototype.onprogress=function(e){},a.io.DicomDataLoader.prototype.onloaditem=function(e){},a.io.DicomDataLoader.prototype.onload=function(e){},a.io.DicomDataLoader.prototype.onloadend=function(e){},a.io.DicomDataLoader.prototype.onerror=function(e){},a.io.DicomDataLoader.prototype.onabort=function(e){},a.io.loaderList=a.io.loaderList||[],a.io.loaderList.push("DicomDataLoader"),(a=a||{}).io=a.io||{},a.io.fileContentTypes={Text:0,ArrayBuffer:1,DataURL:2},a.io.FilesLoader=function(){var e,t=this,n=null,r=[],i=null,o=0,s=0;function l(e){n=e,s=o=0,r=[],i=null}function u(e){t.onloaditem(e),c()}function c(e){++o===n.length&&t.onload({source:n})}function d(e){++s===2*n.length&&t.onloadend({source:n})}function f(e,t){return function(n){n.source=t,e(n)}}this.getDefaultCharacterSet=function(){return e},this.setDefaultCharacterSet=function(t){e=t},this.load=function(e){if(void 0!==e&&0!==e.length){l(e),this.onloadstart({source:e});for(var n=new a.utils.MultiProgressHandler(t.onprogress),o=(n.setNToLoad(e.length),[]),s=0;s<a.io.loaderList.length;++s)o.push(new a.io[a.io.loaderList[s]]);for(var h=e[0],p=null,g=!1,m=0;m<o.length;++m)if((p=o[m]).canLoadFile(h)){g=!0,p.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),p.onprogress=n.getUndefinedMonoProgressHandler(1),void 0===p.onloaditem?p.onload=u:(p.onloaditem=t.onloaditem,p.onload=c),p.onloadend=d,p.onerror=t.onerror,p.onabort=t.onabort,i=p;break}if(!g)throw new Error("No loader found for file: "+h.name);for(var x=0;x<e.length;++x){if(h=e[x],!p.canLoadFile(h))throw new Error("Input file of different type: "+h);var v=new FileReader;r.push(v),v.onprogress=f(n.getMonoProgressHandler(x,0),h),v.onload=function(e,t,n){return function(r){e.load(r.target.result,t,n)}}(p,h,x),v.onloadend=d,v.onerror=f(t.onerror,h),v.onabort=f(t.onabort,h),p.loadFileAs()===a.io.fileContentTypes.Text?v.readAsText(h):p.loadFileAs()===a.io.fileContentTypes.DataURL?v.readAsDataURL(h):p.loadFileAs()===a.io.fileContentTypes.ArrayBuffer&&v.readAsArrayBuffer(h)}}},this.abort=function(){for(var e=0;e<r.length;++e)1===r[e].readyState&&r[e].abort();i&&i.isLoading()&&i.abort()}},a.io.FilesLoader.prototype.onloadstart=function(e){},a.io.FilesLoader.prototype.onprogress=function(e){},a.io.FilesLoader.prototype.onloaditem=function(e){},a.io.FilesLoader.prototype.onload=function(e){},a.io.FilesLoader.prototype.onloadend=function(e){},a.io.FilesLoader.prototype.onerror=function(e){},a.io.FilesLoader.prototype.onabort=function(e){},(a=a||{}).io=a.io||{},a.io.JSONTextLoader=function(){var e=this,t=!1;this.setOptions=function(e){},this.isLoading=function(){return t},this.load=function(n,r,i){t=!0,e.onloadstart({source:r});try{e.onprogress({lengthComputable:!0,loaded:100,total:100,index:i,source:r}),e.onload({data:n,source:r})}catch(n){e.onerror({error:n,source:r})}finally{t=!1,e.onloadend({source:r})}},this.abort=function(){t=!1,e.onabort({}),e.onloadend({})}},a.io.JSONTextLoader.prototype.canLoadFile=function(e){return"json"===a.utils.getFileExtension(e.name)},a.io.JSONTextLoader.prototype.canLoadUrl=function(e,t){return void 0!==t&&void 0!==t.requestHeaders?void 0!==t.requestHeaders.find((function(e){return"Accept"===e.name&&a.utils.startsWith(e.value,"application/json")&&a.utils.startsWith(e.value,"application/dicom+json")})):(t=a.utils.getUrlFromUri(e),"json"===a.utils.getFileExtension(t.pathname))},a.io.JSONTextLoader.prototype.canLoadMemory=function(e){return!(void 0===e["Content-Type"]||!e["Content-Type"].includes("json"))||void 0!==e.filename&&this.canLoadFile(e.filename)},a.io.JSONTextLoader.prototype.loadFileAs=function(){return a.io.fileContentTypes.Text},a.io.JSONTextLoader.prototype.loadUrlAs=function(){return a.io.urlContentTypes.Text},a.io.JSONTextLoader.prototype.onloadstart=function(e){},a.io.JSONTextLoader.prototype.onprogress=function(e){},a.io.JSONTextLoader.prototype.onload=function(e){},a.io.JSONTextLoader.prototype.onloadend=function(e){},a.io.JSONTextLoader.prototype.onerror=function(e){},a.io.JSONTextLoader.prototype.onabort=function(e){},a.io.loaderList=a.io.loaderList||[],a.io.loaderList.push("JSONTextLoader"),(a=a||{}).io=a.io||{},a.io.MemoryLoader=function(){var e,t=this,n=null,r=null,i=0,o=0;function s(e){n=e,o=i=0,r=null}function l(e){t.onloaditem(e),u()}function u(e){++i===n.length&&t.onload({source:n})}function c(e){++o===n.length&&t.onloadend({source:n})}this.getDefaultCharacterSet=function(){return e},this.setDefaultCharacterSet=function(t){e=t},this.load=function(e){if(void 0!==e&&0!==e.length){s(e),this.onloadstart({source:e});for(var n=new a.utils.MultiProgressHandler(t.onprogress),i=(n.setNToLoad(e.length),n.setNumberOfDimensions(1),[]),o=0;o<a.io.loaderList.length;++o)i.push(new a.io[a.io.loaderList[o]]);for(var d=e[0],f=null,h=!1,p=0;p<i.length;++p)if((f=i[p]).canLoadMemory(d)){h=!0,f.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),f.onprogress=n.getUndefinedMonoProgressHandler(0),void 0===f.onloaditem?f.onload=l:(f.onloaditem=t.onloaditem,f.onload=u),f.onloadend=c,f.onerror=t.onerror,f.onabort=t.onabort,r=f;break}if(!h)throw new Error("No loader found for data: "+d.filename);for(var g=0;g<e.length;++g){if(d=e[g],!f.canLoadMemory(d))throw new Error("Input data of different type: "+d.filename);f.load(d.data,d.filename,g)}}},this.abort=function(){r&&r.isLoading()&&r.abort()}},a.io.MemoryLoader.prototype.onloadstart=function(e){},a.io.MemoryLoader.prototype.onprogress=function(e){},a.io.MemoryLoader.prototype.onloaditem=function(e){},a.io.MemoryLoader.prototype.onload=function(e){},a.io.MemoryLoader.prototype.onloadend=function(e){},a.io.MemoryLoader.prototype.onerror=function(e){},a.io.MemoryLoader.prototype.onabort=function(e){},(a=a||{}).io=a.io||{},a.io.MultipartLoader=function(){var e=this,t=!1;this.setOptions=function(e){},this.isLoading=function(){return t},this.load=function(n,r,i){this.onloadstart({source:r}),t=!0,(r=new a.io.MemoryLoader).onprogress=function(t){t.loaded=50+t.loaded/2,t.index=i,e.onprogress(t)},r.onloaditem=e.onloaditem,r.onload=e.onload,r.onloadend=function(n){t=!1,e.onloadend(n)},r.onerror=e.onerror,r.onabort=e.onabort,r.load(a.utils.parseMultipart(n))},this.abort=function(){t=!1,e.onabort({}),e.onloadend({})}},a.io.MultipartLoader.prototype.canLoadFile=function(e){return!1},a.io.MultipartLoader.prototype.canLoadUrl=function(e,t){return void 0!==t&&void 0!==t.requestHeaders&&void 0!==t.requestHeaders.find((function(e){return"Accept"===e.name&&a.utils.startsWith(e.value,"multipart/related")}))},a.io.MultipartLoader.prototype.canLoadMemory=function(e){return!1},a.io.MultipartLoader.prototype.loadFileAs=function(){return a.io.fileContentTypes.ArrayBuffer},a.io.MultipartLoader.prototype.loadUrlAs=function(){return a.io.urlContentTypes.ArrayBuffer},a.io.MultipartLoader.prototype.onloadstart=function(e){},a.io.MultipartLoader.prototype.onprogress=function(e){},a.io.MultipartLoader.prototype.onloaditem=function(e){},a.io.MultipartLoader.prototype.onload=function(e){},a.io.MultipartLoader.prototype.onloadend=function(e){},a.io.MultipartLoader.prototype.onerror=function(e){},a.io.MultipartLoader.prototype.onabort=function(e){},a.io.loaderList=a.io.loaderList||[],a.io.loaderList.push("MultipartLoader"),(a=a||{}).io=a.io||{},a.io.RawImageLoader=function(){var e=this,t=!1;this.setOptions=function(e){},this.isLoading=function(){return!0},this.load=function(n,r,i){t=!1;var s,l,u=new Image;u.onload=function(){try{t||(e.onprogress({lengthComputable:!0,loaded:100,total:100,index:i,source:r}),e.onload(a.image.getViewFromDOMImage(this,r)))}catch(n){e.onerror({error:n,source:r})}finally{e.onloadend({source:r})}},u.origin=r,u.index=i,"string"==typeof r?(s=r.split(".").pop().toLowerCase(),u.src=((l=s)&&"jpg"!==s||(l="jpeg"),s=new Blob([n],{type:"image/"+l}),o.URL.createObjectURL(s))):u.src=n},this.abort=function(){t=!0,e.onabort({}),e.onloadend({})}},a.io.RawImageLoader.prototype.canLoadFile=function(e){return e.type.match("image.*")},a.io.RawImageLoader.prototype.canLoadUrl=function(e,t){return void 0!==t&&void 0!==t.requestHeaders?void 0!==t.requestHeaders.find((function(e){return"Accept"===e.name&&a.utils.startsWith(e.value,"image/")})):(t=a.utils.getUrlFromUri(e),e="jpeg"===(e=a.utils.getFileExtension(t.pathname))||"jpg"===e||"png"===e||"gif"===e,null!=(t=t.searchParams.get("contentType"))?"image/jpeg"===t||"image/png"===t||"image/gif"===t:e)},a.io.RawImageLoader.prototype.canLoadMemory=function(e){return void 0!==e.filename&&this.canLoadFile(e.filename)},a.io.RawImageLoader.prototype.loadFileAs=function(){return a.io.fileContentTypes.DataURL},a.io.RawImageLoader.prototype.loadUrlAs=function(){return a.io.urlContentTypes.ArrayBuffer},a.io.RawImageLoader.prototype.onloadstart=function(e){},a.io.RawImageLoader.prototype.onprogress=function(e){},a.io.RawImageLoader.prototype.onload=function(e){},a.io.RawImageLoader.prototype.onloadend=function(e){},a.io.RawImageLoader.prototype.onerror=function(e){},a.io.RawImageLoader.prototype.onabort=function(e){},a.io.loaderList=a.io.loaderList||[],a.io.loaderList.push("RawImageLoader"),(a=a||{}).io=a.io||{},a.io.RawVideoLoader=function(){var e=this;this.setOptions=function(e){},this.isLoading=function(){return!0},this.load=function(t,n,r){var i,s=document.createElement("video");"string"==typeof n?(i=n.split(".").pop().toLowerCase(),s.src=function(e,t){for(var n=new Uint8Array(e),r="",i=0;i<n.byteLength;++i)r+=String.fromCharCode(n[i]);return"data:video/"+t+";base64,"+o.btoa(r)}(t,i)):s.src=t,s.file=n,s.index=r,s.onloadedmetadata=function(){try{a.image.getViewFromDOMVideo(this,e.onloaditem,e.onload,e.onprogress,e.onloadend,r,n)}catch(t){e.onerror({error:t,source:n}),e.onloadend({source:n})}}},this.abort=function(){e.onabort({}),e.onloadend({})}},a.io.RawVideoLoader.prototype.canLoadFile=function(e){return e.type.match("video.*")},a.io.RawVideoLoader.prototype.canLoadUrl=function(e,t){return void 0!==t&&void 0!==t.requestHeaders?void 0!==t.requestHeaders.find((function(e){return"Accept"===e.name&&a.utils.startsWith(e.value,"video/")})):(t=a.utils.getUrlFromUri(e),"mp4"===(e=a.utils.getFileExtension(t.pathname))||"ogg"===e||"webm"===e)},a.io.RawVideoLoader.prototype.canLoadMemory=function(e){return void 0!==e.filename&&this.canLoadFile(e.filename)},a.io.RawVideoLoader.prototype.loadFileAs=function(){return a.io.fileContentTypes.DataURL},a.io.RawVideoLoader.prototype.loadUrlAs=function(){return a.io.urlContentTypes.ArrayBuffer},a.io.RawVideoLoader.prototype.onloadstart=function(e){},a.io.RawVideoLoader.prototype.onprogress=function(e){},a.io.RawVideoLoader.prototype.onloaditem=function(e){},a.io.RawVideoLoader.prototype.onload=function(e){},a.io.RawVideoLoader.prototype.onloadend=function(e){},a.io.RawVideoLoader.prototype.onerror=function(e){},a.io.RawVideoLoader.prototype.onabort=function(e){},a.io.loaderList=a.io.loaderList||[],a.io.loaderList.push("RawVideoLoader"),(a=a||{}).io=a.io||{},t=t||{},a.io.State=function(){this.toJSON=function(e){var t,n=(t=e.getActiveLayerGroup()).getActiveViewLayer().getViewController(),r=n.getCurrentIndex(),i=(t=t.getActiveDrawLayer()).getDrawController();return JSON.stringify({version:"0.5","window-center":n.getWindowLevel().center,"window-width":n.getWindowLevel().width,position:r.getValues(),scale:e.getAddedScale(),offset:e.getOffset(),drawings:t.getKonvaLayer().toObject(),drawingsDetails:i.getDrawStoreDetails()})},this.fromJSON=function(e){var t,n,r,i=null;if("0.1"===(e=JSON.parse(e)).version)n=e,r=a.io.v01Tov02DrawingsAndDetails(n.drawings),n.drawings=a.io.v02Tov03Drawings(r.drawings).toObject(),n.drawingsDetails=a.io.v03Tov04DrawingsDetails(r.drawingsDetails),(n=a.io.v04Tov05Data(n)).drawings=a.io.v04Tov05Drawings(n.drawings),i=n;else if("0.2"===e.version)(r=e).drawings=a.io.v02Tov03Drawings(r.drawings).toObject(),r.drawingsDetails=a.io.v03Tov04DrawingsDetails(a.io.v02Tov03DrawingsDetails(r.drawingsDetails)),(r=a.io.v04Tov05Data(r)).drawings=a.io.v04Tov05Drawings(r.drawings),i=r;else if("0.3"===e.version)(n=e).drawingsDetails=a.io.v03Tov04DrawingsDetails(n.drawingsDetails),(n=a.io.v04Tov05Data(n)).drawings=a.io.v04Tov05Drawings(n.drawings),i=n;else if("0.4"===e.version)t=e,(t=a.io.v04Tov05Data(t)).drawings=a.io.v04Tov05Drawings(t.drawings),i=t;else{if("0.5"!==e.version)throw new Error("Unknown state file format version: '"+e.version+"'.");i=e}return i},this.apply=function(e,t){var n,r,i=((i=e.getActiveLayerGroup().getActiveViewLayer().getViewController()).setWindowLevel(t["window-center"],t["window-width"]),i.setCurrentIndex(new a.math.Index(t.position)),e.getActiveLayerGroup().getBaseScale()),o=null,s=null;s=void 0!==t.scaleCenter?(o={x:t.scale*i.x,y:t.scale*i.y,z:1},n=t.scaleCenter.x-t.scaleCenter.x*t.scale,r=t.scaleCenter.y-t.scaleCenter.y*t.scale,n+=t.translation.x*o.x,r+=t.translation.y*o.y,{x:-n/o.x,y:-r/o.y,z:0}):(o={x:t.scale.x*i.x,y:t.scale.y*i.y,z:i.z},{x:t.offset.x,y:t.offset.y,z:0}),e.getActiveLayerGroup().setScale(o),e.getActiveLayerGroup().setOffset(s),e.render(0),e.setDrawings(t.drawings,t.drawingsDetails)}},a.io.v02Tov03Drawings=function(e){for(var n,r,i=new t.Layer({listening:!1,visible:!0}),o="string"==typeof e?JSON.parse(e):e,s=0,l=o.length;s<l;++s)for(var u=0,c=o[s].length;u<c;++u)if(0!==(r=o[s][u]).length){for(var d=new t.Group({id:a.draw.getDrawPositionGroupId(new a.math.Index([1,1,s,u])),name:"position-group",visible:!1}),f=0,h=r.length;f<h;++f)(n=t.Node.create(r[f])).draggable(!0),n.getChildren().forEach((function(e){e.draggable(!1)})),d.add(n);i.add(d)}return i},a.io.v01Tov02DrawingsAndDetails=function(e){for(var n,r=[],i={},o=0,s=e.length;o<s;++o){r[o]=[];for(var l=0,u=e[o].length;l<u;++l){for(var c,d=[],f=0,h=(c=e[o][l]).length;f<h;++f){(n=t.Node.create(c[f])).visible(!0);var p={x:0,y:0},g=n.getChildren((function(e){return"shape"===e.name()}))[0],m=(g.stroke(a.utils.colourNameToHex(g.stroke())),"line-group"===n.name()&&(n.name("ruler-group"),m=new t.Line({points:[g.points()[0],g.points()[1],g.points()[0],g.points()[1]],name:"shape-tick0"}),n.add(m),m=new t.Line({points:[g.points()[2],g.points()[3],g.points()[2],g.points()[3]],name:"shape-tick1"}),n.add(m)),n.getChildren((function(e){return"arc"===e.name()}))),x=(1===m.length&&m[0].name("shape-arc"),n.getChildren((function(e){return"text"===e.name()}))),v=new t.Text({name:"text",text:""});1===x.length?(p.x=x[0].x(),p.y=x[0].y(),x[0].remove(),v=x[0]):0!==g.points().length&&(p={x:g.points()[0],y:g.points()[1]}),x=new t.Label({x:p.x,y:p.y,name:"label"}),p=(x.add(v),x.add(new t.Tag),n.add(x),d.push(JSON.stringify(n.toObject())),g=v.text()).length,x=null,"ruler-group"===n.name()?(x={length:{value:parseFloat(g.substring(0,p-2)),unit:g.substring(-2)}},g="{length}"):"ellipse-group"===n.name()||"rectangle-group"===n.name()?(x={surface:{value:parseFloat(g.substring(0,p-3)),unit:g.substring(-3)}},g="{surface}"):"protractor-group"!==n.name()&&"rectangle-group"!==n.name()||(x={angle:{value:parseFloat(g.substring(0,p-1)),unit:g.substring(-1)}},g="{angle}"),i[n.id()]={textExpr:g,longText:"",quant:x}}r[o].push(d)}}return{drawings:r,drawingsDetails:i}},a.io.v02Tov03DrawingsDetails=function(e){for(var t={},n="string"==typeof e?JSON.parse(e):e,r=0,i=n.length;r<i;++r)for(var o=0,a=n[r].length;o<a;++o)for(var s=0,l=n[r][o].length;s<l;++s){var u=n[r][o][s];t[u.id]={textExpr:u.textExpr,longText:u.longText,quant:u.quant}}return t},a.io.v03Tov04DrawingsDetails=function(e){for(var t={},n=Object.keys(e),r=0,i=n.length;r<i;++r){var o=e[n[r]];t[n[r]]={meta:{textExpr:o.textExpr,longText:o.longText,quantification:o.quant}}}return t},a.io.v04Tov05Data=function(e){var t=e.position;return e.position=[t.i,t.j,t.k],e},a.io.v04Tov05Drawings=function(e){for(var t=e.children,n=0,r=t.length;n<r;++n){var i=t[n],o=i.attrs.id.split("_"),a=parseInt(o[0].substring(6),10),s=(o=parseInt(o[1].substring(6),10),"#2-");s+=0===a&&0!==o?o:a,i.attrs.id=s}return e},(a=a||{}).io=a.io||{},a.io.urlContentTypes={Text:0,ArrayBuffer:1},a.io.UrlsLoader=function(){var e,t,n=this,r=null,i=[],o=null,s=0,l=0;function u(t){r=t,l=s=0,e=!1,i=[],o=null}function c(e){n.onloaditem(e),d()}function d(e){++s===r.length&&n.onload({source:r})}function f(e){++l===2*r.length&&n.onloadend({source:r})}function h(e,t){return function(n){n.source=t,e(n)}}function p(t,r){if(void 0!==t&&0!==t.length){var s=function(){f(),y<i.length-1&&!e&&i[++y].send(null)};u(t);for(var l=new a.utils.MultiProgressHandler(n.onprogress),p=(l.setNToLoad(t.length),[]),g=0;g<a.io.loaderList.length;++g)p.push(new a.io[a.io.loaderList[g]]);for(var m=t[0],x=null,v=!1,S=0;S<p.length;++S)if((x=p[S]).canLoadUrl(m,r)){v=!0,x.setOptions({numberOfFiles:t.length,defaultCharacterSet:n.getDefaultCharacterSet()}),x.onprogress=l.getUndefinedMonoProgressHandler(1),void 0===x.onloaditem?x.onload=c:(x.onloaditem=n.onloaditem,x.onload=d),x.onloadend=f,x.onerror=n.onerror,x.onabort=n.onabort,o=x;break}if(!v)throw new Error("No loader found for url: "+m);for(var y=0,b=0;b<t.length;++b){if(m=t[b],!x.canLoadUrl(m,r))throw new Error("Input url of different type: "+m);var C=new XMLHttpRequest;if(C.open("GET",m,!0),void 0!==r){if(void 0!==r.requestHeaders)for(var w=r.requestHeaders,D=0;D<w.length;++D)void 0!==w[D].name&&void 0!==w[D].value&&C.setRequestHeader(w[D].name,w[D].value);void 0!==r.withCredentials&&(C.withCredentials=r.withCredentials)}C.onprogress=h(l.getMonoProgressHandler(b,0),m),C.onload=function(e,t,r){return function(i){var o=i.target.status;200!==o&&0!==o?(n.onerror({source:t,error:"GET "+i.target.responseURL+" "+i.target.status+" ("+i.target.statusText+")",target:i.target}),f()):e.load(i.target.response,t,r)}}(x,m,b),C.onloadend=s,C.onerror=h(n.onerror,m),C.onabort=h(n.onabort,m),x.loadUrlAs()===a.io.urlContentTypes.ArrayBuffer&&(C.responseType="arraybuffer"),i.push(C)}var T=i.length;void 0!==r&&void 0!==r.batchSize&&0!==T&&(T=Math.min(r.batchSize,i.length));for(var P=0;P<T;++P)e||i[y=P].send(null)}}this.getDefaultCharacterSet=function(){return t},this.setDefaultCharacterSet=function(e){t=e},this.load=function(e,t){var r,i,o;n.onloadstart({source:e}),1===e.length&&(a.utils.endsWith(e[0],"DICOMDIR")||a.utils.endsWith(e[0],".dcmdir"))?(r=e[0],i=t,(o=new XMLHttpRequest).open("GET",r,!0),o.responseType="arraybuffer",o.onload=function(e){var t=e.target.status;if(200!==t&&0!==t)return n.onerror({source:r,error:"GET "+e.target.responseURL+" "+e.target.status+" ("+e.target.statusText+")",target:e.target}),void n.onloadend({});for(var o=a.dicom.getFileListFromDicomDir(e.target.response)[0][0],s=a.utils.getRootPath(r),l=[],u=0;u<o.length;++u)l.push(s+"/"+o[u]);p(l,i)},o.onerror=function(e){h(n.onerror,r)(e),n.onloadend({})},o.onabort=function(e){h(n.onabort,r)(e),n.onloadend({})},o.send(null)):p(e,t)},this.abort=function(){e=!0;for(var t=0;t<i.length;++t)4!==i[t].readyState&&i[t].abort();o&&o.isLoading()&&o.abort()}},a.io.UrlsLoader.prototype.onloadstart=function(e){},a.io.UrlsLoader.prototype.onprogress=function(e){},a.io.UrlsLoader.prototype.onloaditem=function(e){},a.io.UrlsLoader.prototype.onload=function(e){},a.io.UrlsLoader.prototype.onloadend=function(e){},a.io.UrlsLoader.prototype.onerror=function(e){},a.io.UrlsLoader.prototype.onabort=function(e){},(a=a||{}).io=a.io||{},e=e||{},a.io.ZipLoader=function(){var t=this,n=!1,r=(this.setOptions=function(e){},this.isLoading=function(){return n},""),i=[],o=null;this.load=function(s,l,u){this.onloadstart({source:l}),n=!0,e.loadAsync(s).then((function(e){i=[],o=e.file(/.*\.dcm/),e=i.length,r=o[e].name,o[e].async("arrayBuffer").then((function(e){!function e(s,l,u){i.push({filename:r,data:s}),s=100*i.length/o.length,t.onprogress({lengthComputable:!0,loaded:s/2,total:100,index:u,item:{loaded:s,total:100,source:l}}),i.length<o.length?(s=i.length,r=o[s].name,o[s].async("arrayBuffer").then((function(t){e(t,l,u)}))):((s=new a.io.MemoryLoader).onprogress=function(e){e.loaded=50+e.loaded/2,e.index=u,t.onprogress(e)},s.onloaditem=t.onloaditem,s.onload=t.onload,s.onloadend=function(e){n=!1,t.onloadend(e)},s.onerror=t.onerror,s.onabort=t.onabort,s.load(i))}(e,l,u)}))}))},this.abort=function(){n=!1,t.onabort({}),t.onloadend({})}},a.io.ZipLoader.prototype.canLoadFile=function(e){return"zip"===a.utils.getFileExtension(e.name)},a.io.ZipLoader.prototype.canLoadUrl=function(e,t){return void 0!==t&&void 0!==t.requestHeaders?void 0!==t.requestHeaders.find((function(e){return"Accept"===e.name&&a.utils.startsWith(e.value,"application/zip")})):(t=a.utils.getUrlFromUri(e),"zip"===a.utils.getFileExtension(t.pathname))},a.io.ZipLoader.prototype.canLoadMemory=function(e){return!1},a.io.ZipLoader.prototype.loadFileAs=function(){return a.io.fileContentTypes.ArrayBuffer},a.io.ZipLoader.prototype.loadUrlAs=function(){return a.io.urlContentTypes.ArrayBuffer},a.io.ZipLoader.prototype.onloadstart=function(e){},a.io.ZipLoader.prototype.onprogress=function(e){},a.io.ZipLoader.prototype.onloaditem=function(e){},a.io.ZipLoader.prototype.onload=function(e){},a.io.ZipLoader.prototype.onloadend=function(e){},a.io.ZipLoader.prototype.onerror=function(e){},a.io.ZipLoader.prototype.onabort=function(e){},a.io.loaderList=a.io.loaderList||[],a.io.loaderList.push("ZipLoader"),(a=a||{}).math=a.math||{},a.math.BucketQueue=function(e,t){this.bucketCount=1<<e,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost=void 0!==t?t:function(e){return e},this.buckets=this.buildArray(this.bucketCount)},a.math.BucketQueue.prototype.push=function(e){var t=this.getBucket(e);e.next=this.buckets[t],this.buckets[t]=e,this.size++},a.math.BucketQueue.prototype.pop=function(){if(0===this.size)throw new Error("Cannot pop, bucketQueue is empty.");for(;null===this.buckets[this.loc];)this.loc=(this.loc+1)%this.bucketCount;var e=this.buckets[this.loc];return this.buckets[this.loc]=e.next,e.next=null,this.size--,e},a.math.BucketQueue.prototype.remove=function(e){if(!e)return!1;for(var t=this.getBucket(e),n=this.buckets[t];null!==n&&(null===n.next||e.x!==n.next.x||e.y!==n.next.y);)n=n.next;return null!==n&&(n.next=n.next.next,this.size--,!0)},a.math.BucketQueue.prototype.isEmpty=function(){return 0===this.size},a.math.BucketQueue.prototype.getBucket=function(e){return this.cost(e)&this.mask},a.math.BucketQueue.prototype.buildArray=function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=null;return t},(a=a||{}).math=a.math||{},a.math.mulABC=function(e,t,n){return null!==t&&null!==n?e*t*n:null},a.math.Circle=function(e,t){this.getCenter=function(){return e},this.getRadius=function(){return t}},a.math.Circle.prototype.equals=function(e){return null!==e&&this.getCenter().equals(e.getCenter())&&this.getRadius()===e.getRadius()},a.math.Circle.prototype.getSurface=function(){return Math.PI*this.getRadius()*this.getRadius()},a.math.Circle.prototype.getWorldSurface=function(e,t){return a.math.mulABC(this.getSurface(),e,t)},a.math.Circle.prototype.getRound=function(){for(var e=this.getCenter().getX(),t=this.getCenter().getY(),n=this.getRadius(),r=Math.pow(n,2),i=t+n,o=[],a=t-n;a<i;++a){var s=r-Math.pow(a-t,2);Math.abs(s)<1e-7||(s=Math.sqrt(s))<.5||o.push([[Math.round(e-s),Math.round(a)],[Math.round(e+s),Math.round(a)]])}return o},a.math.Circle.prototype.quantify=function(e,t){var n={},r=e.get2DSpacing();return null!==(r=this.getWorldSurface(r[0],r[1]))&&(n.surface={value:r/100,unit:a.i18n("unit.cm2")}),e.canQuantifyImage()&&0!==(r=this.getRound()).length&&(e=e.getImageVariableRegionValues(r),r=a.math.getStats(e,t),n.min={value:r.getMin(),unit:""},n.max={value:r.getMax(),unit:""},n.mean={value:r.getMean(),unit:""},n.stdDev={value:r.getStdDev(),unit:""},void 0!==r.getMedian&&(n.median={value:r.getMedian(),unit:""}),void 0!==r.getP25&&(n.p25={value:r.getP25(),unit:""}),void 0!==r.getP75&&(n.p75={value:r.getP75(),unit:""})),n},(a=a||{}).math=a.math||{},a.math.mulABC=function(e,t,n){return null!==t&&null!==n?e*t*n:null},a.math.Ellipse=function(e,t,n){this.getCenter=function(){return e},this.getA=function(){return t},this.getB=function(){return n}},a.math.Ellipse.prototype.equals=function(e){return null!==e&&this.getCenter().equals(e.getCenter())&&this.getA()===e.getA()&&this.getB()===e.getB()},a.math.Ellipse.prototype.getSurface=function(){return Math.PI*this.getA()*this.getB()},a.math.Ellipse.prototype.getWorldSurface=function(e,t){return a.math.mulABC(this.getSurface(),e,t)},a.math.Ellipse.prototype.getRound=function(){for(var e=this.getCenter().getX(),t=this.getCenter().getY(),n=this.getA(),r=this.getB(),i=n/r,o=Math.pow(r,2),a=t+r,s=[],l=t-r;l<a;++l){var u=o-Math.pow(l-t,2);Math.abs(u)<1e-7||(u=i*Math.sqrt(u))<.5||s.push([[Math.round(e-u),Math.round(l)],[Math.round(e+u),Math.round(l)]])}return s},a.math.Ellipse.prototype.quantify=function(e,t){var n={},r=e.get2DSpacing();return null!==(r=this.getWorldSurface(r[0],r[1]))&&(n.surface={value:r/100,unit:a.i18n("unit.cm2")}),e.canQuantifyImage()&&0!==(r=this.getRound()).length&&(e=e.getImageVariableRegionValues(r),r=a.math.getStats(e,t),n.min={value:r.getMin(),unit:""},n.max={value:r.getMax(),unit:""},n.mean={value:r.getMean(),unit:""},n.stdDev={value:r.getStdDev(),unit:""},void 0!==r.getMedian&&(n.median={value:r.getMedian(),unit:""}),void 0!==r.getP25&&(n.p25={value:r.getP25(),unit:""}),void 0!==r.getP75&&(n.p75={value:r.getP75(),unit:""})),n},a.math.getEllipseIndices=function(e,t,n){for(var r=e.getValues(),i=r.slice(),o=[],s=(e=t[0],t[1]),l=e/s,u=Math.pow(s,2),c=n[0],d=n[1],f=0;f<s;++f)for(var h=Math.round(l*Math.sqrt(u-Math.pow(f,2))),p=r[d]+f,g=r[d]-f,m=0;m<h;++m){var x=r[c]+m,v=r[c]-m;i[c]=x,i[d]=p,o.push(new a.math.Index(i.slice())),g!==p&&(i[d]=g,o.push(new a.math.Index(i.slice()))),v!==x&&(i[c]=v,i[d]=p,o.push(new a.math.Index(i.slice())),g!==p&&(i[d]=g,o.push(new a.math.Index(i.slice()))))}return o},(a=a||{}).math=a.math||{},a.math.Index=function(e){if(!e||void 0===e)throw new Error("Cannot create index with no values.");if(0===e.length)throw new Error("Cannot create index with empty values.");if(!e.every((function(e){return!isNaN(e)})))throw new Error("Cannot create index with non number values.");this.get=function(t){return e[t]},this.length=function(){return e.length},this.toString=function(){return"("+e.toString()+")"},this.getValues=function(){return e.slice()}},a.math.Index.prototype.canCompare=function(e){return!!e&&this.length()===e.length()},a.math.Index.prototype.equals=function(e){if(!this.canCompare(e))return!1;for(var t=0,n=this.length();t<n;++t)if(this.get(t)!==e.get(t))return!1;return!0},a.math.Index.prototype.compare=function(e){if(!this.canCompare(e))return null;for(var t=[],n=0,r=this.length();n<r;++n)this.get(n)!==e.get(n)&&t.push(n);return t},a.math.Index.prototype.add=function(e){if(!this.canCompare(e))return null;for(var t=[],n=0,r=this.length();n<r;++n)t.push(this.get(n)+e.get(n));return new a.math.Index(t)},a.math.Index.prototype.getWithNew2D=function(e,t){for(var n=[e,t],r=2,i=this.length();r<i;++r)n.push(this.get(r));return new a.math.Index(n)},a.math.getZeroIndex=function(e){return(e=new Array(e)).fill(0),new a.math.Index(e)},a.math.getIndexCompareFunction=function(e){return function(t,n){return t.get(e)-n.get(e)}},a.math.Index.prototype.toStringId=function(e){if(void 0===e){e=[];for(var t=0;t<this.length();++t)e.push(t)}for(var n=0;n<e.length;++n)if(e[n]>=this.length())throw new Error("Non valid dimension for toStringId.");for(var r="",i=0;i<e.length;++i)0!==i&&(r+="_"),r+="#"+e[i]+"-"+this.get(e[i]);return r},a.math.getIndexFromStringId=function(e){for(var t=e.split("_"),n=0,r=0;r<t.length;++r)n<(s=parseInt(t[r].substring(1,2),10))&&(n=s);if(0===n)throw new Error("No dimension found in point stringId");var i=new Array(n);i.fill(0);for(var o=0;o<t.length;++o){var s=parseInt(t[o].substring(1,3),10),l=parseInt(t[o].substring(3),10);i[s]=l}return new a.math.Point(i)},(a=a||{}).math=a.math||{},a.math.Line=function(e,t){this.getBegin=function(){return e},this.getEnd=function(){return t}},a.math.Line.prototype.equals=function(e){return null!==e&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())},a.math.Line.prototype.getDeltaX=function(){return this.getEnd().getX()-this.getBegin().getX()},a.math.Line.prototype.getDeltaY=function(){return this.getEnd().getY()-this.getBegin().getY()},a.math.Line.prototype.getLength=function(){return Math.sqrt(this.getDeltaX()*this.getDeltaX()+this.getDeltaY()*this.getDeltaY())},a.math.Line.prototype.getWorldLength=function(e,t){var n=null;return null!==e&&null!==t&&(e=this.getDeltaX()*e,t=this.getDeltaY()*t,n=Math.sqrt(e*e+t*t)),n},a.math.Line.prototype.getMidpoint=function(){return new a.math.Point2D(parseInt((this.getBegin().getX()+this.getEnd().getX())/2,10),parseInt((this.getBegin().getY()+this.getEnd().getY())/2,10))},a.math.Line.prototype.getSlope=function(){return this.getDeltaY()/this.getDeltaX()},a.math.Line.prototype.getIntercept=function(){return(this.getEnd().getX()*this.getBegin().getY()-this.getBegin().getX()*this.getEnd().getY())/this.getDeltaX()},a.math.Line.prototype.getInclination=function(){return 180-180*Math.atan2(this.getDeltaY(),this.getDeltaX())/Math.PI},a.math.getAngle=function(e,t){var n=e.getDeltaX(),r=(e=e.getDeltaY(),t.getDeltaX());return t=t.getDeltaY(),360-(180-180*Math.atan2(n*t-e*r,n*r+e*t)/Math.PI)},a.math.getPerpendicularLine=function(e,t,n){var r,i,o=0,s=0,l=0,u=0;return u=0!==e.getSlope()?(e=-1/e.getSlope(),r=t.getY()-e*t.getX(),i=n/(2*Math.sqrt(1+e*e)),s=e*(o=t.getX()-i)+r,e*(l=t.getX()+i)+r):(o=t.getX(),s=t.getY()-n/2,l=t.getX(),t.getY()+n/2),new a.math.Line(new a.math.Point2D(o,s),new a.math.Point2D(l,u))},a.math.Line.prototype.quantify=function(e){var t={};return e=e.get2DSpacing(),null!==(e=this.getWorldLength(e[0],e[1]))&&(t.length={value:e,unit:a.i18n("unit.mm")}),t},(a=a||{}).math=a.math||{},void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),a.math.BIG_EPSILON=1e4*Number.EPSILON,a.math.REAL_WORLD_EPSILON=1e-4,a.math.isSimilar=function(e,t,n){return void 0===n&&(n=Number.EPSILON),Math.abs(e-t)<n},a.math.Matrix33=function(e){var t=null;this.get=function(t,n){return e[3*t+n]},this.getInverse=function(){return t=null===t?a.math.getMatrixInverse(this):t}},a.math.Matrix33.prototype.equals=function(e,t){for(var n=0;n<3;++n)for(var r=0;r<3;++r)if(!a.math.isSimilar(this.get(n,r),e.get(n,r),t))return!1;return!0},a.math.Matrix33.prototype.toString=function(){for(var e="[",t=0;t<3;++t){0!==t&&(e+=", \n ");for(var n=0;n<3;++n)0!==n&&(e+=", "),e+=this.get(t,n)}return e+"]"},a.math.Matrix33.prototype.multiply=function(e){for(var t=[],n=0;n<3;++n)for(var r=0;r<3;++r){for(var i=0,o=0;o<3;++o)i+=this.get(n,o)*e.get(o,r);t.push(i)}return new a.math.Matrix33(t)},a.math.Matrix33.prototype.getAbs=function(){for(var e=[],t=0;t<3;++t)for(var n=0;n<3;++n)e.push(Math.abs(this.get(t,n)));return new a.math.Matrix33(e)},a.math.Matrix33.prototype.multiplyArray3D=function(e){if(3!==e.length)throw new Error("Cannot multiply 3x3 matrix with non 3D array: ",e.length);for(var t=[],n=0;n<3;++n){for(var r=0,i=0;i<3;++i)r+=this.get(n,i)*e[i];t.push(r)}return t},a.math.Matrix33.prototype.multiplyVector3D=function(e){return e=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]),new a.math.Vector3D(e[0],e[1],e[2])},a.math.Matrix33.prototype.multiplyPoint3D=function(e){return e=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]),new a.math.Point3D(e[0],e[1],e[2])},a.math.Matrix33.prototype.multiplyIndex3D=function(e){return e=this.multiplyArray3D(e.getValues()),new a.math.Index(e)},a.math.getMatrixInverse=function(e){var t=e.get(0,0),n=e.get(0,1),r=e.get(0,2),i=e.get(1,0),o=e.get(1,1),s=e.get(1,2),l=e.get(2,0),u=e.get(2,1),c=o*(e=e.get(2,2))-s*u,d=s*l-i*e,f=i*u-o*l,h=t*c+n*d+r*f;if(0!=h)return new a.math.Matrix33([(h=1/h)*c,h*(r*u-n*e),h*(n*s-r*o),h*d,h*(t*e-r*l),h*(r*i-t*s),h*f,h*(n*l-t*u),h*(t*o-n*i)]);a.logger.warn("Cannot invert 3*3 matrix with zero determinant.")},a.math.Matrix33.prototype.getRowAbsMax=function(e){var t=[Math.abs(this.get(e,0)),Math.abs(this.get(e,1)),Math.abs(this.get(e,2))],n=Math.max.apply(null,t);return t=t.indexOf(n),{value:this.get(e,t),index:t}},a.math.Matrix33.prototype.getColAbsMax=function(e){var t=[Math.abs(this.get(0,e)),Math.abs(this.get(1,e)),Math.abs(this.get(2,e))],n=Math.max.apply(null,t);return t=t.indexOf(n),{value:this.get(t,e),index:t}},a.math.Matrix33.prototype.asOneAndZeros=function(){for(var e=[],t=0;t<3;++t)for(var n=this.getRowAbsMax(t),r=0<n.value?1:-1,i=0;i<3;++i)i===n.index?e.push(r):e.push(0);return new a.math.Matrix33(e)},a.math.Matrix33.prototype.getThirdColMajorDirection=function(){return this.getColAbsMax(2).index},a.math.getIdentityMat33=function(){return new a.math.Matrix33([1,0,0,0,1,0,0,0,1])},a.math.isIdentityMat33=function(e){return e.equals(a.math.getIdentityMat33())},a.math.getCoronalMat33=function(){return new a.math.Matrix33([1,0,0,0,0,1,0,-1,0])},a.math.getSagittalMat33=function(){return new a.math.Matrix33([0,0,-1,1,0,0,0,-1,0])},a.math.getMatrixFromName=function(e){var t=null;return"axial"===e?t=a.math.getIdentityMat33():"coronal"===e?t=a.math.getCoronalMat33():"sagittal"===e&&(t=a.math.getSagittalMat33()),t},(a=a||{}).math=a.math||{},a.math.Path=function(e,t){this.pointArray=e?e.slice():[],this.controlPointIndexArray=t?t.slice():[]},a.math.Path.prototype.getPoint=function(e){return this.pointArray[e]},a.math.Path.prototype.isControlPoint=function(e){if(-1!==(e=this.pointArray.indexOf(e)))return-1!==this.controlPointIndexArray.indexOf(e);throw new Error("Error: isControlPoint called with not in list point.")},a.math.Path.prototype.getLength=function(){return this.pointArray.length},a.math.Path.prototype.addPoint=function(e){this.pointArray.push(e)},a.math.Path.prototype.addControlPoint=function(e){if(-1===(e=this.pointArray.indexOf(e)))throw new Error("Cannot mark a non registered point as control point.");this.controlPointIndexArray.push(e)},a.math.Path.prototype.addPoints=function(e){this.pointArray=this.pointArray.concat(e)},a.math.Path.prototype.appenPath=function(e){for(var t=this.pointArray.length,n=(this.pointArray=this.pointArray.concat(e.pointArray),[]),r=0;r<e.controlPointIndexArray.length;++r)n[r]=e.controlPointIndexArray[r]+t;this.controlPointIndexArray=this.controlPointIndexArray.concat(n)},(a=a||{}).math=a.math||{},a.math.Point2D=function(e,t){this.getX=function(){return e},this.getY=function(){return t}},a.math.Point2D.prototype.equals=function(e){return null!==e&&this.getX()===e.getX()&&this.getY()===e.getY()},a.math.Point2D.prototype.toString=function(){return"("+this.getX()+", "+this.getY()+")"},a.math.Point2D.prototype.getDistance=function(e){return Math.sqrt((this.getX()-e.getX())*(this.getX()-e.getX())+(this.getY()-e.getY())*(this.getY()-e.getY()))},a.math.Point2D.prototype.getRound=function(){return new a.math.Point2D(Math.round(this.getX()),Math.round(this.getY()))},a.math.Point3D=function(e,t,n){this.getX=function(){return e},this.getY=function(){return t},this.getZ=function(){return n}},a.math.Point3D.prototype.equals=function(e){return null!==e&&this.getX()===e.getX()&&this.getY()===e.getY()&&this.getZ()===e.getZ()},a.math.Point3D.prototype.isSimilar=function(e,t){return null!==e&&a.math.isSimilar(this.getX(),e.getX(),t)&&a.math.isSimilar(this.getY(),e.getY(),t)&&a.math.isSimilar(this.getZ(),e.getZ(),t)},a.math.Point3D.prototype.toString=function(){return"("+this.getX()+", "+this.getY()+", "+this.getZ()+")"},a.math.Point3D.prototype.getDistance=function(e){return Math.sqrt((this.getX()-e.getX())*(this.getX()-e.getX())+(this.getY()-e.getY())*(this.getY()-e.getY())+(this.getZ()-e.getZ())*(this.getZ()-e.getZ()))},a.math.Point3D.prototype.minus=function(e){return new a.math.Vector3D(this.getX()-e.getX(),this.getY()-e.getY(),this.getZ()-e.getZ())},a.math.getEqualPoint3DFunction=function(e){return function(t){return t.equals(e)}},a.math.getSimilarPoint3DFunction=function(e,t){return function(n){return n.isSimilar(e,t)}},a.math.Point=function(e){if(!e||void 0===e)throw new Error("Cannot create point with no values.");if(0===e.length)throw new Error("Cannot create point with empty values.");if(!e.every((function(e){return!isNaN(e)})))throw new Error("Cannot create point with non number values.");this.get=function(t){return e[t]},this.length=function(){return e.length},this.toString=function(){return"("+e.toString()+")"},this.getValues=function(){return e.slice()}},a.math.Point.prototype.canCompare=function(e){return!!e&&this.length()===e.length()},a.math.Point.prototype.equals=function(e){if(!this.canCompare(e))return!1;for(var t=0,n=this.length();t<n;++t)if(this.get(t)!==e.get(t))return!1;return!0},a.math.Point.prototype.compare=function(e){if(!this.canCompare(e))return null;for(var t=[],n=0,r=this.length();n<r;++n)this.get(n)!==e.get(n)&&t.push(n);return t},a.math.Point.prototype.get3D=function(){return new a.math.Point3D(this.get(0),this.get(1),this.get(2))},a.math.Point.prototype.add=function(e){if(!this.canCompare(e))return null;for(var t=[],n=this.getValues(),r=e.getValues(),i=0;i<n.length;++i)t.push(n[i]+r[i]);return new a.math.Point(t)},a.math.Point.prototype.mergeWith3D=function(e){var t=this.getValues();return t[0]=e.getX(),t[1]=e.getY(),t[2]=e.getZ(),new a.math.Point(t)},(a=a||{}).math=a.math||{},a.math.mulABC=function(e,t,n){return null!==t&&null!==n?e*t*n:null},a.math.Rectangle=function(e,t){var n;t.getX()<e.getX()&&(n=e.getX(),e=new a.math.Point2D(t.getX(),e.getY()),t=new a.math.Point2D(n,t.getY())),t.getY()<e.getY()&&(n=e.getY(),e=new a.math.Point2D(e.getX(),t.getY()),t=new a.math.Point2D(t.getX(),n)),this.getBegin=function(){return e},this.getEnd=function(){return t}},a.math.Rectangle.prototype.equals=function(e){return null!==e&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())},a.math.Rectangle.prototype.getSurface=function(){var e=this.getBegin(),t=this.getEnd();return Math.abs(t.getX()-e.getX())*Math.abs(t.getY()-e.getY())},a.math.Rectangle.prototype.getWorldSurface=function(e,t){return a.math.mulABC(this.getSurface(),e,t)},a.math.Rectangle.prototype.getRealWidth=function(){return this.getEnd().getX()-this.getBegin().getX()},a.math.Rectangle.prototype.getRealHeight=function(){return this.getEnd().getY()-this.getBegin().getY()},a.math.Rectangle.prototype.getWidth=function(){return Math.abs(this.getRealWidth())},a.math.Rectangle.prototype.getHeight=function(){return Math.abs(this.getRealHeight())},a.math.Rectangle.prototype.getRound=function(){return{min:this.getBegin().getRound(),max:this.getEnd().getRound()}},a.math.Rectangle.prototype.quantify=function(e,t){var n={},r=e.get2DSpacing();return null!==(r=this.getWorldSurface(r[0],r[1]))&&(n.surface={value:r/100,unit:a.i18n("unit.cm2")}),e.canQuantifyImage()&&(r=this.getRound(),e=e.getImageRegionValues(r.min,r.max),r=a.math.getStats(e,t),n.min={value:r.getMin(),unit:""},n.max={value:r.getMax(),unit:""},n.mean={value:r.getMean(),unit:""},n.stdDev={value:r.getStdDev(),unit:""},void 0!==r.getMedian&&(n.median={value:r.getMedian(),unit:""}),void 0!==r.getP25&&(n.p25={value:r.getP25(),unit:""}),void 0!==r.getP75&&(n.p75={value:r.getP75(),unit:""})),n},(a=a||{}).math=a.math||{},a.math.ROI=function(){var e=[];this.getPoint=function(t){return e[t]},this.getLength=function(){return e.length},this.addPoint=function(t){e.push(t)},this.addPoints=function(t){e=e.concat(t)}},(a=a||{}).math=a.math||{},2/(3*Math.PI));return a.math.computeGreyscale=function(e,t,n){for(var r=[],i=0;i<n;i++){r[i]=[];for(var o=0;o<t;o++){var a=4*(i*t+o);r[i][o]=(e[a]+e[1+a]+e[2+a])/765}}return r.dx=function(e,t){return e+1===this[t].length&&e--,this[t][e+1]-this[t][e]},r.dy=function(e,t){return t+1===this.length&&t--,this[t][e]-this[t+1][e]},r.gradMagnitude=function(e,t){var n=this.dx(e,t);return e=this.dy(e,t),Math.sqrt(n*n+e*e)},r.laplace=function(e,t){var n=-16*this[t][e];return(n+=this[t-2][e])+(this[t-1][e-1]+2*this[t-1][e]+this[t-1][e+1])+(this[t][e-2]+2*this[t][e-1]+2*this[t][e+1]+this[t][e+2])+(this[t+1][e-1]+2*this[t+1][e]+this[t+1][e+1])+this[t+2][e]},r},a.math.computeGradient=function(e){var t=[],n=0,r=0,i=0;for(i=0;i<e.length-1;i++){for(t[i]=[],r=0;r<e[i].length-1;r++)t[i][r]=e.gradMagnitude(r,i),n=Math.max(t[i][r],n);t[i][e[i].length-1]=t[i][e.length-2]}t[e.length-1]=[];for(var o=0;o<t[0].length;o++)t[e.length-1][o]=t[e.length-2][o];for(i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)t[i][r]=1-t[i][r]/n;return t},a.math.computeLaplace=function(e){var t=[];t[0]=[],t[1]=[];for(var n=1;n<e.length;n++)t[0][n]=1,t[1][n]=1;for(var r=2;r<e.length-2;r++){t[r]=[],t[r][0]=1,t[r][1]=1;for(var i=2;i<e[r].length-2;i++)t[r][i]=.33<e.laplace(i,r)?0:1;t[r][e[r].length-2]=1,t[r][e[r].length-1]=1}t[e.length-2]=[],t[e.length-1]=[];for(var o=1;o<e.length;o++)t[e.length-2][o]=1,t[e.length-1][o]=1;return t},a.math.computeGradX=function(e){for(var t=[],n=0;n<e.length;n++){t[n]=[];for(var r=0;r<e[n].length-1;r++)t[n][r]=e.dx(r,n);t[n][e[n].length-1]=t[n][e[n].length-2]}return t},a.math.computeGradY=function(e){for(var t=[],n=0;n<e.length-1;n++){t[n]=[];for(var r=0;r<e[n].length;r++)t[n][r]=e.dy(r,n)}t[e.length-1]=[];for(var i=0;i<e[0].length;i++)t[e.length-1][i]=t[e.length-2][i];return t},a.math.gradUnitVector=function(e,t,n,r,i){e=e[r][n],t=t[r][n],r=Math.sqrt(e*e+t*t),r=Math.max(r,1e-100),i.x=e/r,i.y=t/r},a.math.gradDirection=function(e,t,n,r,i,o){var s={x:-1,y:-1},l={x:-1,y:-1};return a.math.gradUnitVector(e,t,n,r,s),a.math.gradUnitVector(e,t,i,o,l),e=s.y*(i-n)-s.x*(o-r),t=l.y*(i-n)-l.x*(o-r),e<0&&(e=-e,t=-t),n!==i&&r!==o&&(e*=Math.SQRT1_2,t*=Math.SQRT1_2),d*(Math.acos(e)+Math.acos(t))},a.math.computeSides=function(e,t,n,r){for(var i={inside:[],outside:[]},o={x:-1,y:-1},s=0;s<t.length;s++){i.inside[s]=[],i.outside[s]=[];for(var l=0;l<t[s].length;l++){a.math.gradUnitVector(t,n,l,s,o);var u=Math.round(l+e*o.y),c=Math.round(s-e*o.x),d=Math.round(l-e*o.y),f=Math.round(s+e*o.x);u=Math.max(Math.min(u,t[s].length-1),0),d=Math.max(Math.min(d,t[s].length-1),0),c=Math.max(Math.min(c,t.length-1),0),f=Math.max(Math.min(f,t.length-1),0),i.inside[s][l]=r[c][u],i.outside[s][l]=r[f][d]}}return i},a.math.gaussianBlur=function(e,t){t[0]=.4*e[0]+.5*e[1]+.1*e[1],t[1]=.25*e[0]+.4*e[1]+.25*e[2]+.1*e[3];for(var n=2;n<e.length-2;n++)t[n]=.05*e[n-2]+.25*e[n-1]+.4*e[n]+.25*e[n+1]+.05*e[n+2];var r=e.length;t[r-2]=.25*e[r-1]+.4*e[r-2]+.25*e[r-3]+.1*e[r-4],t[r-1]=.4*e[r-1]+.5*e[r-2]+.1*e[r-3]},a.math.Scissors=function(){this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.earchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null},a.math.Scissors.prototype.getTrainingIdx=function(e,t){return Math.round((e-1)*t)},a.math.Scissors.prototype.getTrainedEdge=function(e){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,e)]},a.math.Scissors.prototype.getTrainedGrad=function(e){return this.gradTraining[this.getTrainingIdx(this.gradGran,e)]},a.math.Scissors.prototype.getTrainedInside=function(e){return this.insideTraining[this.getTrainingIdx(this.insideGran,e)]},a.math.Scissors.prototype.getTrainedOutside=function(e){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,e)]},a.math.Scissors.prototype.setWorking=function(e){this.working=e},a.math.Scissors.prototype.setDimensions=function(e,t){this.width=e,this.height=t},a.math.Scissors.prototype.setData=function(e){if(-1===this.width||-1===this.height)throw new Error("Dimensions have not been set.");this.greyscale=a.math.computeGreyscale(e,this.width,this.height),this.laplace=a.math.computeLaplace(this.greyscale),this.gradient=a.math.computeGradient(this.greyscale),this.gradX=a.math.computeGradX(this.greyscale),this.gradY=a.math.computeGradY(this.greyscale),e=a.math.computeSides(this.edgeWidth,this.gradX,this.gradY,this.greyscale),this.inside=e.inside,this.outside=e.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]},a.math.Scissors.prototype.findTrainingPoints=function(e){var t=[];if(null!==this.parents)for(var n=0;n<this.trainingLength&&e;n++)t.push(e),e=this.parents[e.y][e.x];return t},a.math.Scissors.prototype.resetTraining=function(){this.trained=!1},a.math.Scissors.prototype.doTraining=function(e){this.trainingPoints=this.findTrainingPoints(e),this.trainingPoints.length<8||(this.calculateTraining(e=[],this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(e,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(e,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(e,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0)},a.math.Scissors.prototype.calculateTraining=function(e,t,n,r){var i=0;for(e.length=t,i=0;i<t;i++)e[i]=0;var o=1;for(i=0;i<this.trainingPoints.length;i++){var s=this.trainingPoints[i];e[s=this.getTrainingIdx(t,n[s.y][s.x])]+=1,o=Math.max(o,e[s])}for(i=0;i<t;i++)e[i]=1-e[i]/o;a.math.gaussianBlur(e,r)},a.math.Scissors.prototype.addInStaticGrad=function(e,t){for(var n=0;n<this.gradGran;n++)this.gradTraining[n]=Math.min(this.gradTraining[n],1-n*(t-e)/(t*this.gradGran))},a.math.Scissors.prototype.gradDirection=function(e,t,n,r){return a.math.gradDirection(this.gradX,this.gradY,e,t,n,r)},a.math.Scissors.prototype.dist=function(e,t,n,r){var i=this.gradient[r][n],o=(e!==n&&t!==r||(i*=Math.SQRT1_2),this.laplace[r][n]);return n=this.gradDirection(e,t,n,r),this.trained?.3*this.getTrainedGrad(i)+.3*o+.1*(n+this.getTrainedEdge(this.greyscale[t][e])+this.getTrainedInside(this.inside[t][e])+this.getTrainedOutside(this.outside[t][e])):.43*i+.43*o+.11*n},a.math.Scissors.prototype.adj=function(e){for(var t=[],n=Math.max(e.x-1,0),r=Math.max(e.y-1,0),i=Math.min(e.x+1,this.greyscale[0].length-1),o=Math.min(e.y+1,this.greyscale.length-1),a=0,s=r;s<=o;s++)for(var l=n;l<=i;l++)l===e.x&&s===e.y||(t[a++]={x:l,y:s});return t},a.math.Scissors.prototype.setPoint=function(e){this.setWorking(!0),this.curPoint=e;var t=0,n=0;for(this.visited=[],n=0;n<this.height;n++)for(this.visited[n]=[],t=0;t<this.width;t++)this.visited[n][t]=!1;for(this.parents=[],n=0;n<this.height;n++)this.parents[n]=[];for(this.cost=[],n=0;n<this.height;n++)for(this.cost[n]=[],t=0;t<this.width;t++)this.cost[n][t]=Number.MAX_VALUE;this.pq=new a.math.BucketQueue(this.searchGranBits,(function(e){return Math.round(this.searchGran*this.costArr[e.y][e.x])})),this.pq.searchGran=this.searchGran,this.pq.costArr=this.cost,this.pq.push(e),this.cost[e.y][e.x]=0},a.math.Scissors.prototype.doWork=function(){if(this.working){this.timeout=null;for(var e=0,t=[];!this.pq.isEmpty()&&e<this.pointsPerPost;){for(var n=this.pq.pop(),r=(t.push(n),t.push(this.parents[n.y][n.x]),this.visited[n.y][n.x]=!0,this.adj(n)),i=0;i<r.length;i++){var o=r[i],a=this.cost[n.y][n.x]+this.dist(n.x,n.y,o.x,o.y);a<this.cost[o.y][o.x]&&(this.cost[o.y][o.x]!==Number.MAX_VALUE&&this.pq.remove(o),this.cost[o.y][o.x]=a,this.parents[o.y][o.x]=n,this.pq.push(o))}e++}return t}},(a=a||{}).math=a.math||{},a.math.SimpleStats=function(e,t,n,r){this.getMin=function(){return e},this.getMax=function(){return t},this.getMean=function(){return n},this.getStdDev=function(){return r}},a.math.SimpleStats.prototype.equals=function(e){return null!==e&&this.getMin()===e.getMin()&&this.getMax()===e.getMax()&&this.getMean()===e.getMean()&&this.getStdDev()===e.getStdDev()},a.math.SimpleStats.prototype.asObject=function(){return{min:this.getMin(),max:this.getMax(),mean:this.getMean(),stdDev:this.getStdDev()}},a.math.FullStats=function(e,t,n,r,i,o,s){a.math.SimpleStats.call(this,e,t,n,r),this.getMedian=function(){return i},this.getP25=function(){return o},this.getP75=function(){return s}},a.math.FullStats.prototype=Object.create(a.math.SimpleStats.prototype),Object.defineProperty(a.math.FullStats.prototype,"constructor",{value:a.math.FullStats,enumerable:!1,writable:!0}),a.math.getStats=function(e,t){return a.math.includesFullStatsFlags(t)?a.math.getFullStats(e):a.math.getSimpleStats(e)},a.math.includesFullStatsFlags=function(e){return null!=e&&e.includes("median","p25","p75")},a.math.getSimpleStats=function(e){for(var t,n=e[0],r=n,i=0,o=0,s=e.length,l=0;l<s;++l)(t=e[l])<n?n=t:r<t&&(r=t),i+=t,o+=t*t;var u=i/s,c=Math.sqrt(o/s-u*u);return new a.math.SimpleStats(n,r,u,c)},a.math.getFullStats=function(e){var t=a.math.getSimpleStats(e),n=(e.sort((function(e,t){return e-t})),a.math.getPercentile(e,.5)),r=a.math.getPercentile(e,.25);return e=a.math.getPercentile(e,.75),new a.math.FullStats(t.getMin(),t.getMax(),t.getMean(),t.getStdDev(),n,r,e)},a.math.getPercentile=function(e,t){if(0===e.length)throw new Error("Empty array provided for percentile calculation.");if(t<0||1<t)throw new Error("Invalid ratio provided for percentile calculation: "+t);if(0===t)return e[0];if(1===t)return e[e.length-1];t=(e.length-1)*t;var n=Math.floor(t),r=e[n];return r+(e[n+1]-r)*(t-n)},a.math.guid=function(){return Math.random().toString(36).substring(2,15)},(a=a||{}).math=a.math||{},a.math.Vector3D=function(e,t,n){this.getX=function(){return e},this.getY=function(){return t},this.getZ=function(){return n}},a.math.Vector3D.prototype.equals=function(e){return null!==e&&this.getX()===e.getX()&&this.getY()===e.getY()&&this.getZ()===e.getZ()},a.math.Vector3D.prototype.toString=function(){return"("+this.getX()+", "+this.getY()+", "+this.getZ()+")"},a.math.Vector3D.prototype.norm=function(){return Math.sqrt(this.getX()*this.getX()+this.getY()*this.getY()+this.getZ()*this.getZ())},a.math.Vector3D.prototype.crossProduct=function(e){return new a.math.Vector3D(this.getY()*e.getZ()-e.getY()*this.getZ(),this.getZ()*e.getX()-e.getZ()*this.getX(),this.getX()*e.getY()-e.getX()*this.getY())},a.math.Vector3D.prototype.dotProduct=function(e){return this.getX()*e.getX()+this.getY()*e.getY()+this.getZ()*e.getZ()},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.defaultArrowLabelText="",a.tool.draw.ArrowFactory=function(){this.getGroupName=function(){return"line-group"},this.getNPoints=function(){return 2},this.getTimeout=function(){return 0}},a.tool.draw.ArrowFactory.prototype.isFactoryGroup=function(e){return this.getGroupName()===e.name()},a.tool.draw.ArrowFactory.prototype.create=function(e,n,r){var i=new a.math.Line(e[0],e[1]),o=new t.Line({points:[i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()],stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),s=a.math.getPerpendicularLine(i,e[0],n.scale(10)),l=a.math.getPerpendicularLine(i,e[1],n.scale(10)),u=(o.hitFunc((function(e){e.beginPath(),e.moveTo(s.getBegin().getX(),s.getBegin().getY()),e.lineTo(s.getEnd().getX(),s.getEnd().getY()),e.lineTo(l.getEnd().getX(),l.getEnd().getY()),e.lineTo(l.getBegin().getX(),l.getBegin().getY()),e.closePath(),e.fillStrokeShape(this)})),e=new a.math.Point2D(i.getBegin().getX(),i.getBegin().getY()-10),e=new a.math.Line(i.getBegin(),e),(e=a.math.getAngle(i,e))*Math.PI/180),c=5*n.getScaledStrokeWidth(),d=(u=new t.RegularPolygon({x:i.getBegin().getX()+c*Math.sin(u),y:i.getBegin().getY()+c*Math.cos(u),sides:3,radius:c,rotation:-e,fill:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-triangle"}),c=new t.Text({fontSize:n.getFontSize(),fontFamily:n.getFontFamily(),fill:n.getLineColour(),padding:n.getTextPadding(),shadowColor:n.getShadowLineColour(),shadowOffset:n.getShadowOffset(),name:"text"}),e="",e=void 0!==a.tool.draw.arrowLabelText?a.tool.draw.arrowLabelText:a.tool.draw.defaultArrowLabelText,c.setText(e),c.meta={textExpr:e,quantification:{}},i.getBegin().getX()>i.getEnd().getX()?0:-1),f=i.getBegin().getY()>i.getEnd().getY()?-1:0;return((d=new t.Label({x:i.getEnd().getX()+d*c.width(),y:i.getEnd().getY()+f*n.applyZoomScale(15).y,scale:n.applyZoomScale(1),visible:0!==e.length,name:"label"})).add(c),d.add(new t.Tag({fill:n.getLineColour(),opacity:n.getTagOpacity()})),i=new t.Group).name(this.getGroupName()),i.add(d),i.add(u),i.add(o),i.visible(!0),i},a.tool.draw.ArrowFactory.prototype.getAnchors=function(e,t){var n=e.points(),r=[];return r.push(a.tool.draw.getDefaultAnchor(n[0]+e.x(),n[1]+e.y(),"begin",t)),r.push(a.tool.draw.getDefaultAnchor(n[2]+e.x(),n[3]+e.y(),"end",t)),r},a.tool.draw.ArrowFactory.prototype.update=function(e,t,n){var r=(u=e.getParent()).getChildren((function(e){return"shape"===e.name()}))[0],i=u.getChildren((function(e){return"shape-triangle"===e.name()}))[0],o=u.getChildren((function(e){return"label"===e.name()}))[0],s=u.getChildren((function(e){return"begin"===e.id()}))[0],l=u.getChildren((function(e){return"end"===e.id()}))[0];switch(e.id()){case"begin":s.x(e.x()),s.y(e.y());break;case"end":l.x(e.x()),l.y(e.y())}var u=s.x()-r.x(),c=s.y()-r.y(),d=l.x()-r.x(),f=l.y()-r.y(),h=(r.points([u,c,d,f]),new a.math.Point2D(s.x(),s.y())),p=new a.math.Point2D(l.x(),l.y()),g=(h=new a.math.Line(h,p),p=new a.math.Point2D(u,c),u=new a.math.Point2D(d,f),a.math.getPerpendicularLine(h,p,10)),m=a.math.getPerpendicularLine(h,u,10);r.hitFunc((function(e){e.beginPath(),e.moveTo(g.getBegin().getX(),g.getBegin().getY()),e.lineTo(g.getEnd().getX(),g.getEnd().getY()),e.lineTo(m.getEnd().getX(),m.getEnd().getY()),e.lineTo(m.getBegin().getX(),m.getBegin().getY()),e.closePath(),e.fillStrokeShape(this)})),c=new a.math.Point2D(h.getBegin().getX(),h.getBegin().getY()-10),d=new a.math.Line(h.getBegin(),c),p=(f=a.math.getAngle(h,d))*Math.PI/180,(i.x(h.getBegin().getX()+i.radius()*Math.sin(p)),i.y(h.getBegin().getY()+i.radius()*Math.cos(p)),i.rotation(-f),u=o.getText()).setText(u.meta.textExpr),r=h.getBegin().getX()>h.getEnd().getX()?0:-1,c=h.getBegin().getY()>h.getEnd().getY()?-1:0,d={x:h.getEnd().getX()+r*u.width(),y:h.getEnd().getY()+c*t.applyZoomScale(15).y},o.position(d)},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.defaultCircleLabelText="{surface}",a.tool.draw.CircleFactory=function(){this.getGroupName=function(){return"circle-group"},this.getNPoints=function(){return 2},this.getTimeout=function(){return 0}},a.tool.draw.CircleFactory.prototype.isFactoryGroup=function(e){return this.getGroupName()===e.name()},a.tool.draw.CircleFactory.prototype.create=function(e,n,r){var i,o=Math.abs(e[0].getX()-e[1].getX()),s=Math.abs(e[0].getY()-e[1].getY()),l=(o=Math.round(Math.sqrt(o*o+s*s)),s=new a.math.Circle(e[0],o),e=new t.Circle({x:s.getCenter().getX(),y:s.getCenter().getY(),radius:s.getRadius(),stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),o=new t.Text({fontSize:n.getFontSize(),fontFamily:n.getFontFamily(),fill:n.getLineColour(),padding:n.getTextPadding(),shadowColor:n.getShadowLineColour(),shadowOffset:n.getShadowOffset(),name:"text"}),"");return l=void 0!==a.tool.draw.circleLabelText?a.tool.draw.circleLabelText:a.tool.draw.defaultCircleLabelText,r=s.quantify(r,a.utils.getFlags(l)),((o.setText(a.utils.replaceFlags(l,r)),o.meta={textExpr:l,quantification:r},r=new t.Label({x:s.getCenter().getX(),y:s.getCenter().getY(),scale:n.applyZoomScale(1),visible:0!==l.length,name:"label"})).add(o),r.add(new t.Tag({fill:n.getLineColour(),opacity:n.getTagOpacity()})),a.tool.draw.debug&&(i=a.tool.draw.getShadowCircle(s)),l=new t.Group).name(this.getGroupName()),i&&l.add(i),l.add(r),l.add(e),l.visible(!0),l},a.tool.draw.CircleFactory.prototype.getAnchors=function(e,t){var n=e.x(),r=e.y(),i=(e=e.radius(),[]);return i.push(a.tool.draw.getDefaultAnchor(n-e,r,"left",t)),i.push(a.tool.draw.getDefaultAnchor(n+e,r,"right",t)),i.push(a.tool.draw.getDefaultAnchor(n,r-e,"bottom",t)),i.push(a.tool.draw.getDefaultAnchor(n,r+e,"top",t)),i},a.tool.draw.CircleFactory.prototype.update=function(e,t,n){var r,i,o=e.getParent(),s=o.getChildren((function(e){return"shape"===e.name()}))[0],l=o.getChildren((function(e){return"label"===e.name()}))[0],u=o.getChildren((function(e){return"left"===e.id()}))[0],c=o.getChildren((function(e){return"right"===e.id()}))[0],d=o.getChildren((function(e){return"bottom"===e.id()}))[0],f=o.getChildren((function(e){return"top"===e.id()}))[0],h=(a.tool.draw.debug&&(r=o.getChildren((function(e){return"shadow"===e.name()}))[0]),{x:s.x(),y:s.y()});switch(e.id()){case"left":i=h.x-e.x(),u.y(c.y()),c.x(h.x+i),d.y(h.y-i),f.y(h.y+i);break;case"right":i=e.x()-h.x,c.y(u.y()),u.x(h.x-i),d.y(h.y-i),f.y(h.y+i);break;case"bottom":i=h.y-e.y(),d.x(f.x()),u.x(h.x-i),c.x(h.x+i),f.y(h.y+i);break;case"top":i=e.y()-h.y,f.x(d.x()),u.x(h.x-i),c.x(h.x+i),d.y(h.y-i);break;default:a.logger.error("Unhandled anchor id: "+e.id())}s.radius(Math.abs(i)),s=new a.math.Point2D(o.x()+h.x,o.y()+h.y),s=new a.math.Circle(s,i),r&&(r.destroy(),o.add(a.tool.draw.getShadowCircle(s,o))),l.position({x:h.x,y:h.y}),a.tool.draw.updateCircleQuantification(o,n)},a.tool.draw.CircleFactory.prototype.updateQuantification=function(e,t){a.tool.draw.updateCircleQuantification(e,t)},a.tool.draw.updateCircleQuantification=function(e,t){var n=e.getChildren((function(e){return"shape"===e.name()}))[0],r=e.getChildren((function(e){return"label"===e.name()}))[0];e=new a.math.Point2D(e.x()+n.x(),e.y()+n.y()),e=new a.math.Circle(e,n.radius()),n=r.getText(),r=e.quantify(t,a.utils.getFlags(n.meta.textExpr)),n.setText(a.utils.replaceFlags(n.meta.textExpr,r)),n.meta.quantification=r},a.tool.draw.getShadowCircle=function(e,n){for(var r=0,i=0,o=(void 0!==n&&(r=n.x(),i=n.y()),new t.Group),a=(o.name("shadow"),e.getRound()),s=0;s<a.length;++s){var l=(c=a[s])[0][0],u=c[0][1],c=c[1][0];u=new t.Rect({x:l-r,y:u-i,width:c-l,height:1,fill:"grey",strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"}),o.add(u)}return o},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.debug=!1,a.tool.Draw=function(e){var n,r,i=this,o=!1,s=this.shapeFactoryList=null,l=null,u=null,c=(this.shapeName=0,[]),d=null,f="pointer",h=new a.tool.ScrollWheel(e),p=new a.tool.ShapeEditor(e),g=(p.setDrawEventCallback(T),new t.Group),m=new t.Line({points:[-10,-10,10,10],stroke:"red"}),x=new t.Line({points:[10,-10,-10,10],stroke:"red"}),v=(g.width(20),g.height(20),g.add(m),g.add(x),this.style=e.getStyle(),{});function S(e,t){var n=t.getActiveDrawLayer().getKonvaLayer();u&&(u.destroy(),u=null),t=t.getActiveViewLayer().getViewController(),(u=s.create(e,i.style,t)).getChildren(a.draw.isNodeNameShape)[0].listening(!1),n.listening(!1),n.add(u),n.draw()}function y(t,n){var r=n.getActiveDrawLayer().getKonvaLayer(),o=(u&&(u.destroy(),u=null),n.getActiveViewLayer().getViewController()),c=n.getActiveDrawLayer().getDrawController();(t=s.create(t,i.style,o)).id(a.math.guid()),c.getCurrentPosGroup().add(t),r.listening(!0),(l=new a.tool.DrawGroupCommand(t,i.shapeName,r)).onExecute=T,l.onUndo=T,l.execute(),e.addToUndoStack(l),i.setShapeOn(t,n)}function b(e){C(!0,e)}function C(e,t){var n=t.getActiveDrawLayer().getDrawController().getCurrentPosGroup().getChildren();e?n.forEach((function(e){i.setShapeOn(e,t)})):n.forEach((function(e){e.off("mouseover"),e.off("mouseout"),e.draggable(!1),e.off("dragstart.draw"),e.off("dragmove.draw"),e.off("dragend.draw"),e.off("dblclick")})),e=t.getActiveDrawLayer().getKonvaLayer(),0!==n.length&&e.listening(!0),e.draw()}function w(e,t){return{x:(t=t.getActiveDrawLayer().getKonvaStage()).offset().x+e.x/t.scale().x,y:t.offset().y+e.y/t.scale().y}}function D(){var e;void 0!==r&&(document.body.style.cursor=r),void 0!==n&&(n.opacity(1),e=i.style.getLineColour(),n.getChildren(a.draw.canNodeChangeColour).forEach((function(t){t.stroke(e)})))}function T(e){if(void 0!==v[e.type])for(var t=0;t<v[e.type].length;++t)v[e.type][t](e)}this.mousedown=function(t){var n,r,l;o||(n=a.gui.getLayerDetailsFromEvent(t),r=(l=(n=e.getLayerGroupByDivId(n.groupDivId)).getActiveDrawLayer().getKonvaStage()).getIntersection({x:t._x,y:t._y}),i.style.setZoomScale(l.scale()),r?(l=r.getParent().find(".shape")[0])&&l!==p.getShape()&&(p.disable(),p.setShape(l),r=n.getActiveViewLayer().getViewController(),p.setViewController(r),p.enable()):(p.disable(),p.setShape(null),p.setViewController(null),o=!0,s=new i.shapeFactoryList[i.shapeName],c=[],l=n.getActiveViewLayer().displayToPlanePos(t._x,t._y),d=new a.math.Point2D(l.x,l.y),c.push(d)))},this.mousemove=function(t){var n;o&&(n=a.gui.getLayerDetailsFromEvent(t),t=(n=e.getLayerGroupByDivId(n.groupDivId)).getActiveViewLayer().displayToPlanePos(t._x,t._y),(0<Math.abs(t.x-d.getX())||0<Math.abs(t.y-d.getY()))&&(1!==c.length&&void 0!==c[c.length-1].tmp&&c.pop(),(d=new a.math.Point2D(t.x,t.y)).tmp=!0,c.push(d),S(c,n)))},this.mouseup=function(t){o&&(0===c.length?a.logger.warn("Draw mouseup but no points..."):c.length===s.getNPoints()?(t=a.gui.getLayerDetailsFromEvent(t),t=e.getLayerGroupByDivId(t.groupDivId),y(c,t),o=!1):void 0!==c[c.length-1].tmp&&delete c[c.length-1].tmp)},this.dblclick=function(t){void 0===s.getNPoints()&&o&&(0===c.length?a.logger.warn("Draw dblclick but no points..."):(t=a.gui.getLayerDetailsFromEvent(t),t=e.getLayerGroupByDivId(t.groupDivId),y(c,t),o=!1))},this.mouseout=function(e){i.mouseup(e)},this.touchstart=function(e){i.mousedown(e)},this.touchmove=function(t){var n;o&&(n=a.gui.getLayerDetailsFromEvent(t),t=(n=e.getLayerGroupByDivId(n.groupDivId)).getActiveViewLayer().displayToPlanePos(t._x,t._y),(0<Math.abs(t.x-d.getX())||0<Math.abs(t.y-d.getY()))&&(1!==c.length&&c.pop(),d=new a.math.Point2D(t.x,t.y),c.push(d),c.length<s.getNPoints()&&(clearTimeout(this.timer),this.timer=setTimeout((function(){c.push(d)}),s.getTimeout())),S(c,n)))},this.touchend=function(e){i.dblclick(e)},this.wheel=function(e){h.wheel(e)},this.keydown=function(t){var n,r,i;o||(t.context="dwv.tool.Draw",e.onKeydown(t)),"Delete"!==t.key&&"Backspace"!==t.key||!p.isActive()||(n=(i=p.getShape().getParent()).getLayer(),r=a.tool.GetShapeDisplayName(i.getChildren(a.draw.isNodeNameShape)[0]),(i=new a.tool.DeleteGroupCommand(i,r,n)).onExecute=T,i.onUndo=T,i.execute(),e.addToUndoStack(i)),"Escape"===t.key&&null!==u&&(n=u.getLayer(),u.destroy(),u=null,o=!1,c=[],n.draw())},this.activate=function(t){p.disable(),p.setShape(null),p.setViewController(null);var n=e.getActiveLayerGroup();C(t,n),t?(r=document.body.style.cursor,e.addEventListener("positionchange",(function(){b(n)})),this.setFeatures({lineColour:this.style.getLineColour()})):(D(),r=void 0,e.removeEventListener("positionchange",(function(){b(n)})))},this.setShapeOn=function(t,o){t.on("mouseover",(function(){n=t,document.body.style.cursor=f,t.opacity(.75)})),t.on("mouseout",(function(){D(),n=void 0}));var s=o.getActiveDrawLayer().getKonvaLayer(),l=(t.draggable(!0),{x:t.x(),y:t.y()}),u=a.tool.GetShapeDisplayName(t.getChildren(a.draw.isNodeNameShape)[0]),c=null;t.on("dragstart.draw",(function(){c=t.getChildren(a.draw.isNodeNameShape)[0].stroke();var e=o.getActiveDrawLayer().getKonvaStage(),n=e.scale(),r={x:1/n.x,y:1/n.y};g.x(e.offset().x+e.width()/(2*n.x)),g.y(e.offset().y+e.height()/(15*n.y)),g.scale(r),s.add(g),p.setAnchorsActive(!1),s.draw()})),t.on("dragmove.draw",(function(e){for(var n,r=o.getActiveDrawLayer(),l=(a.tool.validateGroupPosition(r.getBaseSize(),this),Object.keys(i.shapeFactoryList)),u=0;u<l.length&&!(n=new i.shapeFactoryList[l[u]]).isFactoryGroup(t);++u);if(void 0===n)throw new Error("Cannot find factory to update quantification.");void 0!==n.updateQuantification&&(r=o.getActiveViewLayer().getViewController(),n.updateQuantification(this,r)),r=w(a.gui.getEventOffset(e.evt)[0],o),e=g.width()*g.scaleX()/2;var d=g.height()*g.scaleY()/2;Math.abs(r.x-g.x())<e&&Math.abs(r.y-g.y())<d?(g.getChildren().forEach((function(e){e.stroke("orange")})),t.getChildren(a.draw.canNodeChangeColour).forEach((function(e){e.stroke("red")}))):(g.getChildren().forEach((function(e){e.stroke("red")})),t.getChildren(a.draw.canNodeChangeColour).forEach((function(e){void 0!==e.stroke&&e.stroke(c)}))),s.draw()})),t.on("dragend.draw",(function(n){var i,d,f,h;g.remove(),void 0!==n&&void 0!==n.evt&&(i=this.x(),d=this.y(),n=w(a.gui.getEventOffset(n.evt)[0],o),f=g.width()*g.scaleX()/2,h=g.height()*g.scaleY()/2,Math.abs(n.x-g.x())<f&&Math.abs(n.y-g.y())<h?(this.x(l.x),this.y(l.y),p.disable(),p.setShape(null),p.setViewController(null),t.getChildren(a.draw.canNodeChangeColour).forEach((function(e){e.stroke(c)})),document.body.style.cursor=r,(f=new a.tool.DeleteGroupCommand(this,u,s)).onExecute=T,f.onUndo=T,f.execute(),e.addToUndoStack(f)):(0===(n={x:i-l.x,y:d-l.y}).x&&0===n.y||((h=new a.tool.MoveGroupCommand(this,u,n,s)).onExecute=T,h.onUndo=T,e.addToUndoStack(h),T({type:"drawmove",id:this.id()})),p.setAnchorsActive(!0),p.resetAnchors()),s.draw(),l={x:this.x(),y:this.y()})})),t.on("dblclick",(function(){var e=this.findOne("Label");if(void 0===e)throw new Error("Could not find the shape label.");function t(t){r.meta=t,r.setText(a.utils.replaceFlags(r.meta.textExpr,r.meta.quantification)),e.setVisible(0!==r.meta.textExpr.length),T({type:"drawchange",id:i}),s.draw()}var n,r=e.getText(),i=this.id();void 0!==a.openRoiDialog?a.openRoiDialog(r.meta,t):null!==(n=a.prompt("Label",r.meta.textExpr))&&(r.meta.textExpr=n,t(r.meta))}))},this.setOptions=function(e){this.shapeFactoryList=e,p.setFactoryList(e)},this.getOptionsType=function(){return"factory"},this.setFeatures=function(e){if(void 0!==e.shapeColour&&this.style.setLineColour(e.shapeColour),void 0!==e.shapeName){if(!this.hasShape(e.shapeName))throw new Error("Unknown shape: '"+e.shapeName+"'");this.shapeName=e.shapeName}void 0!==e.mouseOverCursor&&(f=e.mouseOverCursor)},this.init=function(){},this.getEventNames=function(){return["drawcreate","drawchange","drawmove","drawdelete","drawlabelchange"]},this.addEventListener=function(e,t){void 0===v[e]&&(v[e]=[]),v[e].push(t)},this.removeEventListener=function(e,t){if(void 0!==v[e])for(var n=0;n<v[e].length;++n)v[e][n]===t&&v[e].splice(n,1)}},a.tool.Draw.prototype.hasShape=function(e){return this.shapeFactoryList[e]},a.tool.getAnchorMin=function(e){var t=e.find(".anchor");if(0!==t.length){for(var n=t[0].x(),r=t[0].y(),i=0;i<t.length;++i)n=Math.min(n,t[i].x()),r=Math.min(r,t[i].y());return{x:n,y:r}}},a.tool.boundNodePosition=function(e,t,n){var r=!1;return e.x()<t.x?(e.x(t.x),r=!0):e.x()>n.x&&(e.x(n.x),r=!0),e.y()<t.y?(e.y(t.y),r=!0):e.y()>n.y&&(e.y(n.y),r=!0),r},a.tool.validateGroupPosition=function(e,t){var n=t.getChildren(a.draw.isNodeNameShape)[0],r=a.tool.getAnchorMin(t);if(void 0===r)return null;var i={x:-r.x,y:-r.y};return e={x:e.x-(r.x+Math.abs(n.width())),y:e.y-(r.y+Math.abs(n.height()))},a.tool.boundNodePosition(t,i,e)},a.tool.validateAnchorPosition=function(e,t){var n=t.getParent(),r={x:-n.x(),y:-n.y()};return e={x:e.x-n.x(),y:e.y-n.y()},a.tool.boundNodePosition(t,r,e)},(a=a||{}).tool=a.tool||{},t=t||{},a.tool.GetShapeDisplayName=function(e){var n="shape";return e instanceof t.Line?n=4===e.points().length?"line":6===e.points().length?"protractor":"roi":e instanceof t.Rect?n="rectangle":e instanceof t.Ellipse&&(n="ellipse"),n},a.tool.DrawGroupCommand=function(e,t,n,r){var i=void 0!==r&&r,o=e.getParent();this.getName=function(){return"Draw-"+t},this.execute=function(){o.add(e),n.draw(),i||this.onExecute({type:"drawcreate",id:e.id()})},this.undo=function(){e.remove(),n.draw(),this.onUndo({type:"drawdelete",id:e.id()})}},a.tool.DrawGroupCommand.prototype.onExecute=function(e){},a.tool.DrawGroupCommand.prototype.onUndo=function(e){},a.tool.MoveGroupCommand=function(e,t,n,r){this.getName=function(){return"Move-"+t},this.execute=function(){e.move(n),r.draw(),this.onExecute({type:"drawmove",id:e.id()})},this.undo=function(){var t={x:-n.x,y:-n.y};e.move(t),r.draw(),this.onUndo({type:"drawmove",id:e.id()})}},a.tool.MoveGroupCommand.prototype.onExecute=function(e){},a.tool.MoveGroupCommand.prototype.onUndo=function(e){},a.tool.ChangeGroupCommand=function(e,t,n,r,i,o,a){this.getName=function(){return"Change-"+e},this.execute=function(){t(r,a,o),i.draw(),this.onExecute({type:"drawchange",id:r.getParent().id()})},this.undo=function(){t(n,a,o),i.draw(),this.onUndo({type:"drawchange",id:n.getParent().id()})}},a.tool.ChangeGroupCommand.prototype.onExecute=function(e){},a.tool.ChangeGroupCommand.prototype.onUndo=function(e){},a.tool.DeleteGroupCommand=function(e,t,n){var r=e.getParent();this.getName=function(){return"Delete-"+t},this.execute=function(){e.remove(),n.draw(),this.onExecute({type:"drawdelete",id:e.id()})},this.undo=function(){r.add(e),n.draw(),this.onUndo({type:"drawcreate",id:e.id()})}},a.tool.DeleteGroupCommand.prototype.onExecute=function(e){},a.tool.DeleteGroupCommand.prototype.onUndo=function(e){},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.getDefaultAnchor=function(e,n,r,i){var o=i.applyZoomScale(3);return new t.Ellipse({x:e,y:n,stroke:"#999",fill:"rgba(100,100,100,0.7",strokeWidth:i.getStrokeWidth(),strokeScaleEnabled:!1,radius:{x:Math.abs(o.x),y:Math.abs(o.y)},name:"anchor",id:r,dragOnTop:!1,draggable:!0,visible:!1})},a.tool.ShapeEditor=function(e){var t=null,n=null,r=null,i=null,o=!1,s=null;function l(e){r&&r.getParent()&&r.getParent().find(".anchor").forEach(e)}function u(e){l((function(t){t.visible(e)}))}function c(){l((function(e){e.remove()}))}function d(){if(r&&r.getLayer())for(var t=r.getParent(),i=n.getAnchors(r,e.getStyle()),o=0;o<i.length;++o)h(i[o]),t.add(i[o])}function f(e){var t=e.getParent(),n=e.id(),r=e.x(),i=e.y();return e={getParent:function(){return t},id:function(){return n},x:function(){return r},y:function(){return i}}}function h(t){var o=null,l=a.tool.GetShapeDisplayName(r);t.on("dragstart.edit",(function(e){o=f(this),e.cancelBubble=!0})),t.on("dragmove.edit",(function(t){var r=a.gui.getLayerDetailsFromEvent(t.evt);r=e.getLayerGroupByDivId(r.groupDivId).getActiveDrawLayer(),a.tool.validateAnchorPosition(r.getBaseSize(),this),n.update(this,e.getStyle(),i),this.getLayer()?this.getLayer().draw():a.logger.warn("No layer to draw the anchor!"),t.cancelBubble=!0})),t.on("dragend.edit",(function(t){var r=f(this),u=new a.tool.ChangeGroupCommand(l,n.update,o,r,this.getLayer(),i,e.getStyle());u.onExecute=s,u.onUndo=s,u.execute(),e.addToUndoStack(u),o=r,t.cancelBubble=!0})),t.on("mousedown touchstart",(function(){this.moveToTop()})),t.on("mouseover.edit",(function(){this.stroke("#ddd"),this.getLayer()?this.getLayer().draw():a.logger.warn("No layer to draw the anchor!")})),t.on("mouseout.edit",(function(){this.stroke("#999"),this.getLayer()?this.getLayer().draw():a.logger.warn("No layer to draw the anchor!")}))}this.setFactoryList=function(e){t=e},this.setShape=function(e){if(r=e){c();var i=r.getParent(),o=Object.keys(t);n=null;for(var a=0;a<o.length;++a){var s=new t[o[a]];if(s.isFactoryGroup(i)){n=s;break}}if(null===n)throw new Error("Could not find a factory to update shape.");d()}},this.setViewController=function(e){i=e},this.getShape=function(){return r},this.isActive=function(){return o},this.setDrawEventCallback=function(e){s=e},this.enable=function(){o=!0,r&&(u(!0),r.getLayer()&&r.getLayer().draw())},this.disable=function(){o=!1,r&&(u(!1),r.getLayer()&&r.getLayer().draw())},this.resetAnchors=function(){c(),d(),u(!0)},this.setAnchorsActive=function(e){l(e?function(e){h(e)}:function(e){e.off("dragstart.edit"),e.off("dragmove.edit"),e.off("dragend.edit"),e.off("mousedown touchstart"),e.off("mouseover.edit"),e.off("mouseout.edit")})}},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.defaultEllipseLabelText="{surface}",a.tool.draw.EllipseFactory=function(){this.getGroupName=function(){return"ellipse-group"},this.getNPoints=function(){return 2},this.getTimeout=function(){return 0}},a.tool.draw.EllipseFactory.prototype.isFactoryGroup=function(e){return this.getGroupName()===e.name()},a.tool.draw.EllipseFactory.prototype.create=function(e,n,r){var i,o=Math.abs(e[0].getX()-e[1].getX()),s=Math.abs(e[0].getY()-e[1].getY()),l=(e=new a.math.Ellipse(e[0],o,s),o=new t.Ellipse({x:e.getCenter().getX(),y:e.getCenter().getY(),radius:{x:e.getA(),y:e.getB()},stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),s=new t.Text({fontSize:n.getFontSize(),fontFamily:n.getFontFamily(),fill:n.getLineColour(),padding:n.getTextPadding(),shadowColor:n.getShadowLineColour(),shadowOffset:n.getShadowOffset(),name:"text"}),"");return l=void 0!==a.tool.draw.ellipseLabelText?a.tool.draw.ellipseLabelText:a.tool.draw.defaultEllipseLabelText,r=e.quantify(r,a.utils.getFlags(l)),((s.setText(a.utils.replaceFlags(l,r)),s.meta={textExpr:l,quantification:r},r=new t.Label({x:e.getCenter().getX(),y:e.getCenter().getY(),scale:n.applyZoomScale(1),visible:0!==l.length,name:"label"})).add(s),r.add(new t.Tag({fill:n.getLineColour(),opacity:n.getTagOpacity()})),a.tool.draw.debug&&(i=a.tool.draw.getShadowEllipse(e)),l=new t.Group).name(this.getGroupName()),i&&l.add(i),l.add(r),l.add(o),l.visible(!0),l},a.tool.draw.EllipseFactory.prototype.getAnchors=function(e,t){var n=e.x(),r=e.y(),i=(e=e.radius(),[]);return i.push(a.tool.draw.getDefaultAnchor(n-e.x,r-e.y,"topLeft",t)),i.push(a.tool.draw.getDefaultAnchor(n+e.x,r-e.y,"topRight",t)),i.push(a.tool.draw.getDefaultAnchor(n+e.x,r+e.y,"bottomRight",t)),i.push(a.tool.draw.getDefaultAnchor(n-e.x,r+e.y,"bottomLeft",t)),i},a.tool.draw.EllipseFactory.prototype.update=function(e,t,n){var r,i=e.getParent(),o=i.getChildren((function(e){return"shape"===e.name()}))[0],s=i.getChildren((function(e){return"label"===e.name()}))[0],l=i.getChildren((function(e){return"topLeft"===e.id()}))[0],u=i.getChildren((function(e){return"topRight"===e.id()}))[0],c=i.getChildren((function(e){return"bottomRight"===e.id()}))[0],d=i.getChildren((function(e){return"bottomLeft"===e.id()}))[0];switch(a.tool.draw.debug&&(r=i.getChildren((function(e){return"shadow"===e.name()}))[0]),e.id()){case"topLeft":l.x(e.x()),l.y(e.y()),u.y(e.y()),d.x(e.x());break;case"topRight":u.x(e.x()),u.y(e.y()),l.y(e.y()),c.x(e.x());break;case"bottomRight":c.x(e.x()),c.y(e.y()),d.y(e.y()),u.x(e.x());break;case"bottomLeft":d.x(e.x()),d.y(e.y()),c.y(e.y()),l.x(e.x());break;default:a.logger.error("Unhandled anchor id: "+e.id())}var f=(u.x()-l.x())/2,h=(c.y()-u.y())/2,p={x:l.x()+f,y:u.y()+h};o.position(p),f={x:Math.abs(f),y:Math.abs(h)},o.radius(f),h=new a.math.Point2D(i.x()+p.x,i.y()+p.y),o=new a.math.Ellipse(h,f.x,f.y),r&&(r.destroy(),i.add(a.tool.draw.getShadowEllipse(o,i))),s.position({x:p.x,y:p.y}),a.tool.draw.updateEllipseQuantification(i,n)},a.tool.draw.EllipseFactory.prototype.updateQuantification=function(e,t){a.tool.draw.updateEllipseQuantification(e,t)},a.tool.draw.updateEllipseQuantification=function(e,t){var n=e.getChildren((function(e){return"shape"===e.name()}))[0],r=e.getChildren((function(e){return"label"===e.name()}))[0];e=new a.math.Point2D(e.x()+n.x(),e.y()+n.y()),e=new a.math.Ellipse(e,n.radius().x,n.radius().y),n=r.getText(),r=e.quantify(t,a.utils.getFlags(n.meta.textExpr)),n.setText(a.utils.replaceFlags(n.meta.textExpr,r)),n.meta.quantification=r},a.tool.draw.getShadowEllipse=function(e,n){for(var r=0,i=0,o=(void 0!==n&&(r=n.x(),i=n.y()),new t.Group),a=(o.name("shadow"),e.getRound()),s=0;s<a.length;++s){var l=(c=a[s])[0][0],u=c[0][1],c=c[1][0];u=new t.Rect({x:l-r,y:u-i,width:c-l,height:1,fill:"grey",strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"}),o.add(u)}return o},(a=a||{}).tool=a.tool||{},a.tool.filter=a.tool.filter||{},a.tool.Filter=function(e){this.filterList=null,this.selectedFilter=0;var t=new a.utils.ListenerHandler;function n(e){t.fireEvent(e)}this.activate=function(e){for(var t in this.filterList)e?(this.filterList[t].addEventListener("filterrun",n),this.filterList[t].addEventListener("filter-undo",n)):(this.filterList[t].removeEventListener("filterrun",n),this.filterList[t].removeEventListener("filter-undo",n))},this.setOptions=function(t){for(var n in this.filterList={},t)this.filterList[n]=new t[n](e)},this.getOptionsType=function(){return"instance"},this.init=function(){for(var e in this.filterList)this.filterList[e].init()},this.keydown=function(t){t.context="dwv.tool.Filter",e.onKeydown(t)},this.getEventNames=function(){return["filterrun","filterundo"]},this.addEventListener=function(e,n){t.add(e,n)},this.removeEventListener=function(e,n){t.remove(e,n)}},a.tool.Filter.prototype.getSelectedFilter=function(){return this.selectedFilter},a.tool.Filter.prototype.setFeatures=function(e){if(void 0!==e.filterName){if(!this.hasFilter(e.filterName))throw new Error("Unknown filter: '"+e.filterName+"'");this.selectedFilter&&this.selectedFilter.activate(!1),this.selectedFilter=this.filterList[e.filterName],this.selectedFilter.activate(!0)}var t;void 0!==e.run&&e.run&&(t={},void 0!==e.runArgs&&(t=e.runArgs),this.getSelectedFilter().run(t))},a.tool.Filter.prototype.getFilterList=function(){return this.filterList},a.tool.Filter.prototype.hasFilter=function(e){return this.filterList[e]},a.tool.filter.Threshold=function(e){var t=new a.image.filter.Threshold,n=!0,r=new a.utils.ListenerHandler;function i(e){r.fireEvent(e)}this.activate=function(e){e&&(n=!0)},this.init=function(){},this.run=function(r){t.setMin(r.min),t.setMax(r.max),n&&(t.setOriginalImage(e.getLastImage()),n=!1),(r=new a.tool.RunFilterCommand(t,e)).onExecute=i,r.onUndo=i,r.execute(),e.addToUndoStack(r)},this.addEventListener=function(e,t){r.add(e,t)},this.removeEventListener=function(e,t){r.remove(e,t)}},a.tool.filter.Sharpen=function(e){var t=new a.utils.ListenerHandler;function n(e){t.fireEvent(e)}this.activate=function(e){},this.init=function(){},this.run=function(t){var r;((r=new a.image.filter.Sharpen).setOriginalImage(e.getLastImage()),r=new a.tool.RunFilterCommand(r,e)).onExecute=n,r.onUndo=n,r.execute(),e.addToUndoStack(r)},this.addEventListener=function(e,n){t.add(e,n)},this.removeEventListener=function(e,n){t.remove(e,n)}},a.tool.filter.Sobel=function(e){var t=new a.utils.ListenerHandler;function n(e){t.fireEvent(e)}this.activate=function(e){},this.init=function(){},a.tool.filter.Sobel.prototype.run=function(t){var r;((r=new a.image.filter.Sobel).setOriginalImage(e.getLastImage()),r=new a.tool.RunFilterCommand(r,e)).onExecute=n,r.onUndo=n,r.execute(),e.addToUndoStack(r)},this.addEventListener=function(e,n){t.add(e,n)},this.removeEventListener=function(e,n){t.remove(e,n)}},a.tool.RunFilterCommand=function(e,t){this.getName=function(){return"Filter-"+e.getName()},this.execute=function(){t.setLastImage(e.update()),t.render(0);var n={type:"filterrun",id:this.getName()};this.onExecute(n)},this.undo=function(){t.setLastImage(e.getOriginalImage()),t.render(0);var n={type:"filterundo",id:this.getName()};this.onUndo(n)}},a.tool.RunFilterCommand.prototype.onExecute=function(e){},a.tool.RunFilterCommand.prototype.onUndo=function(e){},(a=a||{}).tool=a.tool||{},r=r||{},a.tool.Floodfill=function(e){function t(t){var n=a.gui.getLayerDetailsFromEvent(t);return{x:(n=e.getLayerGroupByDivId(n.groupDivId).getActiveViewLayer().displayToPlaneIndex(t._x,t._y)).get(0),y:n.get(1)}}function n(t,n,r){return!!(m=y(t,n))&&(t=new a.tool.draw.RoiFactory,(g=t.create(m,h.style)).id(a.math.guid()),(n=r.getActiveDrawLayer()).getDrawController().getCurrentPosGroup().add(g),(p=new a.tool.DrawGroupCommand(g,"floodfill",n.getKonvaLayer())).onExecute=b,p.onUndo=b,p.execute(),e.addToUndoStack(p),!0)}var i,o,s=5,l=0,u=2e3,c=null,d=null,f=null,h=this,p=(this.started=!1,null),g=null,m=null,x=[],v=!1,S=(this.style=new a.gui.Style,new a.utils.ListenerHandler),y=(this.setExtend=function(e){v=e},this.getExtend=function(){return v},function(e,t,n){x=[];var i={data:c.data,width:c.width,height:c.height,bytes:4},o=(d=r.floodFill(i,e.x,e.y,t),d=r.gaussBlurOnlyBorder(d,s),r.traceContours(d));if(0<(o=r.simplifyContours(o,l,u)).length&&o[0].points[0].x){if(n)return o[0].points;for(var f=0,h=o[0].points.length;f<h;f++)x.push(new a.math.Point2D(o[0].points[f].x,o[0].points[f].y));return x}return!1});function b(e){S.fireEvent(e)}this.extend=function(e,t,r){if(!i)throw"'initialpoint' not found. User must click before use extend!";g&&g.destroy();for(var o=r.getActiveViewLayer().getViewController(),a=o.getCurrentIndex(),s=o.getImageSize(),l=f||10,u=a.get(2),c=t||s.get(2);u<c&&n(i,l,r);u++)o.incrementIndex(2);o.setCurrentPosition(a);for(var d=a.get(2),h=e||0;h<d&&n(i,l,r);d--)o.decrementIndex(2);o.setCurrentPosition(a)},this.modifyThreshold=function(e,t){if(t||!g)throw"No shape found";t=g.getChildren((function(e){return"shape"===e.name()}))[0],clearTimeout(o),o=setTimeout((function(){if(!(m=y(i,e,!0)))return!1;for(var n=[],r=0,o=m.length;r<o;++r)n.push(m[r].x),n.push(m[r].y);t.setPoints(n),t.getLayer().draw(),h.onThresholdChange(e)}),100)},this.onThresholdChange=function(e){},this.mousedown=function(r){var o=a.gui.getLayerDetailsFromEvent(r),s=(o=e.getLayerGroupByDivId(o.groupDivId)).getActiveViewLayer(),l=o.getActiveDrawLayer();(c=s.getImageData())?(h.style.setZoomScale(l.getKonvaLayer().getAbsoluteScale()),h.started=!0,n(i=t(r),10,o),h.onThresholdChange(10)):a.logger.error("No image found")},this.mousemove=function(e){h.started&&(e=t(e),f=(f=Math.round(Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))/2))<10?10:f-10,h.modifyThreshold(f))},this.mouseup=function(t){var n;h.started=!1,v&&(n=a.gui.getLayerDetailsFromEvent(event),n=e.getLayerGroupByDivId(n.groupDivId),h.extend(n))},this.mouseout=function(e){h.mouseup(e)},this.touchstart=function(e){h.mousedown(e)},this.touchmove=function(e){h.mousemove(e)},this.touchend=function(e){h.mouseup(e)},this.keydown=function(t){t.context="dwv.tool.Floodfill",e.onKeydown(t)},this.activate=function(t){t&&(this.style.setBaseScale(e.getBaseScale()),this.setFeatures({shapeColour:this.style.getLineColour()}))},this.init=function(){},this.getEventNames=function(){return["drawcreate","drawchange","drawmove","drawdelete"]},this.addEventListener=function(e,t){S.add(e,t)},this.removeEventListener=function(e,t){S.remove(e,t)}},a.tool.Floodfill.prototype.setFeatures=function(e){void 0!==e.shapeColour&&this.style.setLineColour(e.shapeColour)},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.defaultFreeHandLabelText="",a.tool.draw.FreeHandFactory=function(){this.getGroupName=function(){return"freeHand-group"},this.getNPoints=function(){},this.getTimeout=function(){return 25}},a.tool.draw.FreeHandFactory.prototype.isFactoryGroup=function(e){return this.getGroupName()===e.name()},a.tool.draw.FreeHandFactory.prototype.create=function(e,n,r){for(var i=[],o=0;o<e.length;++o)i.push(e[o].getX()),i.push(e[o].getY());var s=new t.Line({points:i,stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape",tension:.5}),l=new t.Text({fontSize:n.getFontSize(),fontFamily:n.getFontFamily(),fill:n.getLineColour(),name:"text"}),u="";return u=void 0!==a.tool.draw.freeHandLabelText?a.tool.draw.freeHandLabelText:a.tool.draw.defaultFreeHandLabelText,l.setText(u),l.meta={textExpr:u,quantification:{}},((u=new t.Label({x:e[0].getX(),y:e[0].getY()+n.scale(10),scale:n.applyZoomScale(1),visible:0!==u.length,name:"label"})).add(l),u.add(new t.Tag({fill:n.getLineColour(),opacity:n.getTagOpacity()})),l=new t.Group).name(this.getGroupName()),l.add(u),l.add(s),l.visible(!0),l},a.tool.draw.FreeHandFactory.prototype.getAnchors=function(e,t){for(var n=e.points(),r=[],i=0;i<n.length;i+=2){var o=n[i]+e.x(),s=n[i+1]+e.y(),l=i;r.push(a.tool.draw.getDefaultAnchor(o,s,l,t))}return r},a.tool.draw.FreeHandFactory.prototype.update=function(e,t,n){var r=(o=e.getParent()).getChildren((function(e){return"shape"===e.name()}))[0],i=o.getChildren((function(e){return"label"===e.name()}))[0],o=o.getChildren((function(t){return t.id()===e.id()}))[0],a=(((o.x(e.x()),o.y(e.y()),o=r.points())[e.id()]=e.x()-r.x(),o[e.id()+1]=e.y()-r.y(),r.points(o.concat()),a=i.getText()).setText(a.meta.textExpr),{x:o[0]+r.x(),y:o[1]+r.y()+t.scale(10)});i.position(a)},(a=a||{}).tool=a.tool||{},a.tool.Livewire=function(e){var t=this,n=(this.started=!1,null),r=null,i=(this.style=new a.gui.Style,new a.math.Path),o=new a.math.Path,s=[],l=new a.utils.ListenerHandler;function u(e){for(var t=e.get(1),n=0;n<t;++n)s[n]=[]}var c=new a.math.Scissors;function d(){f({type:"drawcreate",id:r.id()}),n.onExecute=f,n.onUndo=f,e.addToUndoStack(n),t.started=!1}function f(e){l.fireEvent(e)}this.mousedown=function(n){var s=a.gui.getLayerDetailsFromEvent(n),l=(f=(s=e.getLayerGroupByDivId(s.groupDivId)).getActiveViewLayer()).getViewController().getImageSize(),f=f.displayToPlaneIndex(n._x,n._y);t.started?Math.abs(f.get(0)-t.x0)<5&&Math.abs(f.get(1)-t.y0)<5?d():(i=o,u(l),n={x:f.get(0),y:f.get(1)},c.doTraining(n),i.addControlPoint(o.getPoint(0))):(t.started=!0,t.x0=f.get(0),t.y0=f.get(1),i=new a.math.Path,o=new a.math.Path,u(l),r=null,n=s.getActiveDrawLayer(),t.style.setZoomScale(n.getKonvaLayer().getAbsoluteScale()),l={x:f.get(0),y:f.get(1)},c.doTraining(l),s=new a.math.Point2D(f.get(0),f.get(1)),i.addPoint(s),i.addControlPoint(s))},this.mousemove=function(l){if(t.started){for(var u,d=a.gui.getLayerDetailsFromEvent(l),f={x:(l=(d=e.getLayerGroupByDivId(d.groupDivId)).getActiveViewLayer().displayToPlaneIndex(l._x,l._y)).get(0),y:l.get(1)},h=(c.setPoint(f),!1);!s[f.y][f.x]&&!h;)if(0===(u=c.doWork()).length)h=!0;else for(var p=0;p<u.length-1;p+=2){var g=u[p],m=u[p+1];s[g.y][g.x]=m}for(o=new a.math.Path,h=!1;f&&!h;)o.addPoint(new a.math.Point2D(f.x,f.y)),s[f.y]&&s[f.y][f.x]?f=s[f.y][f.x]:h=!0;o.appenPath(i),r&&r.destroy(),l=new a.tool.draw.RoiFactory,(r=l.create(o.pointArray,t.style)).id(a.math.guid()),(l=d.getActiveDrawLayer()).getDrawController().getCurrentPosGroup().add(r),(n=new a.tool.DrawGroupCommand(r,"livewire",l.getKonvaLayer())).execute()}},this.mouseup=function(e){},this.mouseout=function(e){t.mouseup(e)},this.dblclick=function(e){d()},this.touchstart=function(e){t.mousedown(e)},this.touchmove=function(e){t.mousemove(e)},this.touchend=function(e){t.mouseup(e)},this.keydown=function(t){t.context="dwv.tool.Livewire",e.onKeydown(t)},this.activate=function(t){var n;t&&(n=(t=e.getActiveLayerGroup().getActiveViewLayer()).getViewController().getImageSize(),c.setDimensions(n.get(0),n.get(1)),c.setData(t.getImageData().data),this.style.setBaseScale(e.getBaseScale()),this.setFeatures({shapeColour:this.style.getLineColour()}))},this.init=function(){},this.getEventNames=function(){return["drawcreate","drawchange","drawmove","drawdelete"]},this.addEventListener=function(e,t){l.add(e,t)},this.removeEventListener=function(e,t){l.remove(e,t)}},a.tool.Livewire.prototype.setFeatures=function(e){void 0!==e.shapeColour&&this.style.setLineColour(e.shapeColour)},(a=a||{}).tool=a.tool||{},a.tool.Opacity=function(e){var t=this,n=(this.started=!1,new a.tool.ScrollWheel(e));this.mousedown=function(e){t.started=!0,t.x0=e._x,t.y0=e._y},this.mousemove=function(n){var r,i,o;t.started&&(r=n._x-t.x0,15<Math.abs(r)&&(i=a.gui.getLayerDetailsFromEvent(n),o=(i=e.getLayerGroupByDivId(i.groupDivId).getActiveViewLayer()).getOpacity(),i.setOpacity(o+r/200),i.draw(),t.x0=n._x))},this.mouseup=function(e){t.started&&(t.started=!1)},this.mouseout=function(e){t.mouseup(e)},this.touchstart=function(e){t.mousedown(e)},this.touchmove=function(e){t.mousemove(e)},this.touchend=function(e){t.mouseup(e)},this.wheel=function(e){n.wheel(e)},this.keydown=function(t){t.context="dwv.tool.Opacity",e.onKeydown(t)},this.activate=function(e){},this.init=function(){}},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.defaultProtractorLabelText="{angle}",a.tool.draw.ProtractorFactory=function(){this.getGroupName=function(){return"protractor-group"},this.getNPoints=function(){return 3},this.getTimeout=function(){return 500}},a.tool.draw.ProtractorFactory.prototype.isFactoryGroup=function(e){return this.getGroupName()===e.name()},a.tool.draw.ProtractorFactory.prototype.create=function(e,n,r){for(var i=new a.math.Line(e[0],e[1]),o=[],s=0;s<e.length;++s)o.push(e[s].getX()),o.push(e[s].getY());var l,u,c,d,f,h,p,g=new t.Line({points:o,stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),m=new t.Group;return m.name(this.getGroupName()),3===e.length&&(l=new a.math.Line(e[1],e[2]),g.hitFunc((function(t){t.beginPath(),t.moveTo(e[0].getX(),e[0].getY()),t.lineTo(e[1].getX(),e[1].getY()),t.lineTo(e[2].getX(),e[2].getY()),t.closePath(),t.fillStrokeShape(this)})),u=a.math.getAngle(i,l),c=i.getInclination(),180<u&&(c+=u=360-u),d=new t.Text({fontSize:n.getFontSize(),fontFamily:n.getFontFamily(),fill:n.getLineColour(),padding:n.getTextPadding(),shadowColor:n.getShadowLineColour(),shadowOffset:n.getShadowOffset(),name:"text"}),p="",p=void 0!==a.tool.draw.protractorLabelText?a.tool.draw.protractorLabelText:a.tool.draw.defaultProtractorLabelText,f={angle:{value:u,unit:a.i18n("unit.degree")}},d.setText(a.utils.replaceFlags(p,f)),d.meta={textExpr:p,quantification:f},f=(i.getMidpoint().getX()+l.getMidpoint().getX())/2,h=(i.getMidpoint().getY()+l.getMidpoint().getY())/2,(f=new t.Label({x:f,y:h-n.applyZoomScale(15).y,scale:n.applyZoomScale(1),visible:0!==p.length,name:"label"})).add(d),f.add(new t.Tag({fill:n.getLineColour(),opacity:n.getTagOpacity()})),h=33*Math.min(i.getLength(),l.getLength())/100,p=new t.Arc({innerRadius:h,outerRadius:h,stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,angle:u,rotation:-c,x:e[1].getX(),y:e[1].getY(),name:"shape-arc"}),m.add(f),m.add(p)),m.add(g),m.visible(!0),m},a.tool.draw.ProtractorFactory.prototype.getAnchors=function(e,t){var n=e.points(),r=[];return r.push(a.tool.draw.getDefaultAnchor(n[0]+e.x(),n[1]+e.y(),"begin",t)),r.push(a.tool.draw.getDefaultAnchor(n[2]+e.x(),n[3]+e.y(),"mid",t)),r.push(a.tool.draw.getDefaultAnchor(n[4]+e.x(),n[5]+e.y(),"end",t)),r},a.tool.draw.ProtractorFactory.prototype.update=function(e,t,n){var r=(m=e.getParent()).getChildren((function(e){return"shape"===e.name()}))[0],i=m.getChildren((function(e){return"label"===e.name()}))[0],o=m.getChildren((function(e){return"shape-arc"===e.name()}))[0],s=m.getChildren((function(e){return"begin"===e.id()}))[0],l=m.getChildren((function(e){return"mid"===e.id()}))[0],u=m.getChildren((function(e){return"end"===e.id()}))[0];switch(e.id()){case"begin":s.x(e.x()),s.y(e.y());break;case"mid":l.x(e.x()),l.y(e.y());break;case"end":u.x(e.x()),u.y(e.y())}var c=s.x()-r.x(),d=s.y()-r.y(),f=l.x()-r.x(),h=l.y()-r.y(),p=u.x()-r.x(),g=u.y()-r.y(),m=(r.points([c,d,f,h,p,g]),r.hitFunc((function(e){e.beginPath(),e.moveTo(c,d),e.lineTo(f,h),e.lineTo(p,g),e.closePath(),e.fillStrokeShape(this)})),new a.math.Point2D(s.x(),s.y())),x=(r=new a.math.Point2D(l.x(),l.y()),new a.math.Point2D(u.x(),u.y())),v=(m=new a.math.Line(m,r),r=new a.math.Line(r,x),x=a.math.getAngle(m,r),m.getInclination()),S=(180<x&&(v+=x=360-x),i.getText()),y={angle:{value:x,unit:a.i18n("unit.degree")}};S.setText(a.utils.replaceFlags(S.meta.textExpr,y)),S.meta.quantification=y,S={x:(m.getMidpoint().getX()+r.getMidpoint().getX())/2,y:(m.getMidpoint().getY()+r.getMidpoint().getY())/2-t.applyZoomScale(15).y},i.position(S),y=33*Math.min(m.getLength(),r.getLength())/100,o.innerRadius(y),o.outerRadius(y),o.angle(x),o.rotation(-v),t={x:l.x(),y:l.y()},o.position(t)},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.defaultRectangleLabelText="{surface}",a.tool.draw.RectangleFactory=function(){this.getGroupName=function(){return"rectangle-group"},this.getNPoints=function(){return 2},this.getTimeout=function(){return 0}},a.tool.draw.RectangleFactory.prototype.isFactoryGroup=function(e){return this.getGroupName()===e.name()},a.tool.draw.RectangleFactory.prototype.create=function(e,n,r){e=new a.math.Rectangle(e[0],e[1]);var i,o=new t.Rect({x:e.getBegin().getX(),y:e.getBegin().getY(),width:e.getWidth(),height:e.getHeight(),stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),s=new t.Text({fontSize:n.getFontSize(),fontFamily:n.getFontFamily(),fill:n.getLineColour(),padding:n.getTextPadding(),shadowColor:n.getShadowLineColour(),shadowOffset:n.getShadowOffset(),name:"text"}),l="";return l=void 0!==a.tool.draw.rectangleLabelText?a.tool.draw.rectangleLabelText:a.tool.draw.defaultRectangleLabelText,r=e.quantify(r,a.utils.getFlags(l)),((s.setText(a.utils.replaceFlags(l,r)),s.meta={textExpr:l,quantification:r},r=new t.Label({x:e.getBegin().getX(),y:e.getEnd().getY(),scale:n.applyZoomScale(1),visible:0!==l.length,name:"label"})).add(s),r.add(new t.Tag({fill:n.getLineColour(),opacity:n.getTagOpacity()})),a.tool.draw.debug&&(i=a.tool.draw.getShadowRectangle(e)),l=new t.Group).name(this.getGroupName()),i&&l.add(i),l.add(r),l.add(o),l.visible(!0),l},a.tool.draw.RectangleFactory.prototype.getAnchors=function(e,t){var n=e.x(),r=e.y(),i=e.width(),o=(e=e.height(),[]);return o.push(a.tool.draw.getDefaultAnchor(n,r,"topLeft",t)),o.push(a.tool.draw.getDefaultAnchor(n+i,r,"topRight",t)),o.push(a.tool.draw.getDefaultAnchor(n+i,r+e,"bottomRight",t)),o.push(a.tool.draw.getDefaultAnchor(n,r+e,"bottomLeft",t)),o},a.tool.draw.RectangleFactory.prototype.update=function(e,t,n){var r,i=e.getParent(),o=i.getChildren((function(e){return"shape"===e.name()}))[0],s=i.getChildren((function(e){return"label"===e.name()}))[0],l=i.getChildren((function(e){return"topLeft"===e.id()}))[0],u=i.getChildren((function(e){return"topRight"===e.id()}))[0],c=i.getChildren((function(e){return"bottomRight"===e.id()}))[0],d=i.getChildren((function(e){return"bottomLeft"===e.id()}))[0];switch(a.tool.draw.debug&&(r=i.getChildren((function(e){return"shadow"===e.name()}))[0]),e.id()){case"topLeft":l.x(e.x()),l.y(e.y()),u.y(e.y()),d.x(e.x());break;case"topRight":u.x(e.x()),u.y(e.y()),l.y(e.y()),c.x(e.x());break;case"bottomRight":c.x(e.x()),c.y(e.y()),d.y(e.y()),u.x(e.x());break;case"bottomLeft":d.x(e.x()),d.y(e.y()),c.y(e.y()),l.x(e.x());break;default:a.logger.error("Unhandled anchor id: "+e.id())}o.position(l.position());var f,h=u.x()-l.x(),p=d.y()-l.y();h&&p&&o.size({width:h,height:p}),o=new a.math.Point2D(i.x()+l.x(),i.y()+l.y()),h=new a.math.Point2D(i.x()+c.x(),i.y()+c.y()),p=new a.math.Rectangle(o,h),r&&(h=(o=p.getRound()).max.getX()-o.min.getX(),f=o.max.getY()-o.min.getY(),r.position({x:o.min.getX()-i.x(),y:o.min.getY()-i.y()}),r.size({width:h,height:f})),o={x:p.getBegin().getX()-i.x(),y:p.getEnd().getY()-i.y()},s.position(o),a.tool.draw.updateRectangleQuantification(i,n)},a.tool.draw.RectangleFactory.prototype.updateQuantification=function(e,t){a.tool.draw.updateRectangleQuantification(e,t)},a.tool.draw.updateRectangleQuantification=function(e,t){var n=e.getChildren((function(e){return"shape"===e.name()}))[0],r=e.getChildren((function(e){return"label"===e.name()}))[0];e=new a.math.Point2D(e.x()+n.x(),e.y()+n.y()),n=new a.math.Point2D(e.getX()+n.width(),e.getY()+n.height()),e=new a.math.Rectangle(e,n),n=r.getText(),r=e.quantify(t,a.utils.getFlags(n.meta.textExpr)),n.setText(a.utils.replaceFlags(n.meta.textExpr,r)),n.meta.quantification=r},a.tool.draw.getShadowRectangle=function(e){var n=(e=e.getRound()).max.getX()-e.min.getX(),r=e.max.getY()-e.min.getY();return new t.Rect({x:e.min.getX(),y:e.min.getY(),width:n,height:r,fill:"grey",strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow"})},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.defaultRoiLabelText="",a.tool.draw.RoiFactory=function(){this.getGroupName=function(){return"roi-group"},this.getNPoints=function(){},this.getTimeout=function(){return 100}},a.tool.draw.RoiFactory.prototype.isFactoryGroup=function(e){return this.getGroupName()===e.name()},a.tool.draw.RoiFactory.prototype.create=function(e,n,r){for(var i=new a.math.ROI,o=(i.addPoints(e),[]),s=0;s<i.getLength();++s)o.push(i.getPoint(s).getX()),o.push(i.getPoint(s).getY());e=new t.Line({points:o,stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape",closed:!0});var l=new t.Text({fontSize:n.getFontSize(),fontFamily:n.getFontFamily(),fill:n.getLineColour(),name:"text"}),u="";return u=void 0!==a.tool.draw.roiLabelText?a.tool.draw.roiLabelText:a.tool.draw.defaultRoiLabelText,l.setText(u),l.meta={textExpr:u,quantification:{}},((u=new t.Label({x:i.getPoint(0).getX(),y:i.getPoint(0).getY()+n.scale(10),scale:n.applyZoomScale(1),visible:0!==u.length,name:"label"})).add(l),u.add(new t.Tag({fill:n.getLineColour(),opacity:n.getTagOpacity()})),l=new t.Group).name(this.getGroupName()),l.add(u),l.add(e),l.visible(!0),l},a.tool.draw.RoiFactory.prototype.getAnchors=function(e,t){for(var n=e.points(),r=[],i=0;i<n.length;i+=2){var o=n[i]+e.x(),s=n[i+1]+e.y(),l=i;r.push(a.tool.draw.getDefaultAnchor(o,s,l,t))}return r},a.tool.draw.RoiFactory.prototype.update=function(e,t,n){var r=(o=e.getParent()).getChildren((function(e){return"shape"===e.name()}))[0],i=o.getChildren((function(e){return"label"===e.name()}))[0],o=o.getChildren((function(t){return t.id()===e.id()}))[0],a=(((o.x(e.x()),o.y(e.y()),o=r.points())[e.id()]=e.x()-r.x(),o[e.id()+1]=e.y()-r.y(),r.points(o),a=i.getText()).setText(a.meta.textExpr),{x:o[0]+r.x(),y:o[1]+r.y()+t.scale(10)});i.position(a)},(a=a||{}).tool=a.tool||{},a.tool.draw=a.tool.draw||{},t=t||{},a.tool.draw.defaultRulerLabelText="{length}",a.tool.draw.RulerFactory=function(){this.getGroupName=function(){return"ruler-group"},this.getNPoints=function(){return 2},this.getTimeout=function(){return 0}},a.tool.draw.RulerFactory.prototype.isFactoryGroup=function(e){return this.getGroupName()===e.name()},a.tool.draw.RulerFactory.prototype.create=function(e,n,r){var i=new a.math.Line(e[0],e[1]),o=new t.Line({points:[i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()],stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),s=n.scale(10),l=a.math.getPerpendicularLine(i,e[0],s),u=new t.Line({points:[l.getBegin().getX(),l.getBegin().getY(),l.getEnd().getX(),l.getEnd().getY()],stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick0"}),c=a.math.getPerpendicularLine(i,e[1],s),d=(e=new t.Line({points:[c.getBegin().getX(),c.getBegin().getY(),c.getEnd().getX(),c.getEnd().getY()],stroke:n.getLineColour(),strokeWidth:n.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick1"}),o.hitFunc((function(e){e.beginPath(),e.moveTo(l.getBegin().getX(),l.getBegin().getY()),e.lineTo(l.getEnd().getX(),l.getEnd().getY()),e.lineTo(c.getEnd().getX(),c.getEnd().getY()),e.lineTo(c.getBegin().getX(),c.getBegin().getY()),e.closePath(),e.fillStrokeShape(this)})),s=new t.Text({fontSize:n.getFontSize(),fontFamily:n.getFontFamily(),fill:n.getLineColour(),padding:n.getTextPadding(),shadowColor:n.getShadowLineColour(),shadowOffset:n.getShadowOffset(),name:"text"}),""),f=(d=void 0!==a.tool.draw.rulerLabelText?a.tool.draw.rulerLabelText:a.tool.draw.defaultRulerLabelText,r=i.quantify(r,a.utils.getFlags(d)),s.setText(a.utils.replaceFlags(d,r)),s.meta={textExpr:d,quantification:r},r=i.getBegin().getX()>i.getEnd().getX()?0:-1,i.getBegin().getY()>i.getEnd().getY()?-1:0);return((r=new t.Label({x:i.getEnd().getX()+r*s.width(),y:i.getEnd().getY()+f*n.applyZoomScale(15).y,scale:n.applyZoomScale(1),visible:0!==d.length,name:"label"})).add(s),r.add(new t.Tag({fill:n.getLineColour(),opacity:n.getTagOpacity()})),i=new t.Group).name(this.getGroupName()),i.add(r),i.add(u),i.add(e),i.add(o),i.visible(!0),i},a.tool.draw.RulerFactory.prototype.getAnchors=function(e,t){var n=e.points(),r=[];return r.push(a.tool.draw.getDefaultAnchor(n[0]+e.x(),n[1]+e.y(),"begin",t)),r.push(a.tool.draw.getDefaultAnchor(n[2]+e.x(),n[3]+e.y(),"end",t)),r},a.tool.draw.RulerFactory.prototype.update=function(e,t,n){var r=(c=e.getParent()).getChildren((function(e){return"shape"===e.name()}))[0],i=c.getChildren((function(e){return"shape-tick0"===e.name()}))[0],o=c.getChildren((function(e){return"shape-tick1"===e.name()}))[0],s=c.getChildren((function(e){return"label"===e.name()}))[0],l=c.getChildren((function(e){return"begin"===e.id()}))[0],u=c.getChildren((function(e){return"end"===e.id()}))[0];switch(e.id()){case"begin":l.x(e.x()),l.y(e.y());break;case"end":u.x(e.x()),u.y(e.y())}var c=l.x()-r.x(),d=l.y()-r.y(),f=u.x()-r.x(),h=u.y()-r.y(),p=(r.points([c,d,f,h]),new a.math.Point2D(l.x(),l.y())),g=new a.math.Point2D(u.x(),u.y()),m=(p=new a.math.Line(p,g),g=new a.math.Point2D(c,d),c=new a.math.Point2D(f,h),a.math.getPerpendicularLine(p,g,t.scale(10))),x=(i.points([m.getBegin().getX(),m.getBegin().getY(),m.getEnd().getX(),m.getEnd().getY()]),a.math.getPerpendicularLine(p,c,t.scale(10)));o.points([x.getBegin().getX(),x.getBegin().getY(),x.getEnd().getX(),x.getEnd().getY()]),r.hitFunc((function(e){e.beginPath(),e.moveTo(m.getBegin().getX(),m.getBegin().getY()),e.lineTo(m.getEnd().getX(),m.getEnd().getY()),e.lineTo(x.getEnd().getX(),x.getEnd().getY()),e.lineTo(x.getBegin().getX(),x.getBegin().getY()),e.closePath(),e.fillStrokeShape(this)})),d=s.getText(),f=p.quantify(n,a.utils.getFlags(d.meta.textExpr)),d.setText(a.utils.replaceFlags(d.meta.textExpr,f)),d.meta.quantification=f,h=p.getBegin().getX()>p.getEnd().getX()?0:-1,g=p.getBegin().getY()>p.getEnd().getY()?-1:0,i={x:p.getEnd().getX()+h*d.width(),y:p.getEnd().getY()+g*t.applyZoomScale(15).y},s.position(i)},(a=a||{}).tool=a.tool||{},a.tool.Scroll=function(e){var t=this,n=(this.started=!1,null),r=new a.tool.ScrollWheel(e),i=!1;function o(){var e=document.getElementById("scroll-tooltip");e&&e.remove()}this.mousedown=function(n){o();var r=a.gui.getLayerDetailsFromEvent(n),i=(r=e.getLayerGroupByDivId(r.groupDivId).getActiveViewLayer()).getViewController();i.isPlaying()&&i.stop(),t.started=!0,t.x0=n._x,t.y0=n._y,r=r.displayToPlanePos(n._x,n._y),n=i.getPositionFromPlanePoint(r.x,r.y),i.setCurrentPosition(n)},this.mousemove=function(n){var r,s,l,u,c;t.started?(r=a.gui.getLayerDetailsFromEvent(n),r=e.getLayerGroupByDivId(r.groupDivId).getActiveViewLayer().getViewController(),l=n._y-t.y0,(s=15<Math.abs(l))&&r.canScroll()&&(0<l?r.decrementScrollIndex():r.incrementScrollIndex()),l=n._x-t.x0,u=15<Math.abs(l),c=r.getImageSize(),u&&c.moreThanOne(3)&&(0<l?r.incrementIndex(3):r.decrementIndex(3)),u&&(t.x0=n._x),s&&(t.y0=n._y)):i&&(c=n,o(),l=a.gui.getLayerDetailsFromEvent(c),r=(l=e.getLayerGroupByDivId(l.groupDivId).getActiveViewLayer()).getViewController(),u=l.displayToPlanePos(c._x,c._y),u=r.getPositionFromPlanePoint(u.x,u.y),void 0!==(u=r.getRescaledImageValue(u))&&((s=document.createElement("span")).id="scroll-tooltip",document.getElementById(l.getId()).parentElement.appendChild(s),s.style.left=c._x+10+"px",s.style.top=c._y+10+"px",l=a.utils.precisionRound(u,3),void 0!==r.getPixelUnit()&&(l+=" "+r.getPixelUnit()),s.appendChild(document.createTextNode(l))))},this.mouseup=function(e){t.started&&(t.started=!1)},this.mouseout=function(e){t.mouseup(e),o()},this.touchstart=function(e){n=setTimeout(t.dblclick,500),t.mousedown(e)},this.touchmove=function(e){null!==n&&(clearTimeout(n),n=null),t.mousemove(e)},this.touchend=function(e){null!==n&&(clearTimeout(n),n=null),t.mouseup(e)},this.wheel=function(e){r.wheel(e)},this.keydown=function(t){t.context="dwv.tool.Scroll",e.onKeydown(t)},this.dblclick=function(t){t=a.gui.getLayerDetailsFromEvent(t),e.getLayerGroupByDivId(t.groupDivId).getActiveViewLayer().getViewController().play()},this.activate=function(e){e||o()},this.setFeatures=function(e){void 0!==e.displayTooltip&&(i=e.displayTooltip)},this.init=function(){}},(a=a||{}).tool=a.tool||{},a.tool.ScrollWheel=function(e){var t=0;this.wheel=function(n){var r,i=52;1===n.deltaMode&&(i=5.99),t+=n.deltaY,Math.abs(t)<i||(t=0,i=n.deltaY<0,n=a.gui.getLayerDetailsFromEvent(n),(r=(n=e.getLayerGroupByDivId(n.groupDivId).getActiveViewLayer().getViewController()).getImageSize()).canScroll3D()?i?n.incrementScrollIndex():n.decrementScrollIndex():r.moreThanOne(3)&&(i?n.incrementIndex(3):n.decrementIndex(3)))}},(a=a||{}).tool=a.tool||{},a.tool.UndoStack=function(){var e=[],t=0,n=new a.utils.ListenerHandler;function r(e){n.fireEvent(e)}this.getStackSize=function(){return e.length},this.getCurrentStackIndex=function(){return t},this.add=function(n){(e=e.slice(0,t)).push(n),++t,r({type:"undoadd",command:n.getName()})},this.undo=function(){0<t&&(e[--t].undo(),r({type:"undo",command:e[t].getName()}))},this.redo=function(){t<e.length&&(e[t].execute(),r({type:"redo",command:e[t].getName()}),++t)},this.addEventListener=function(e,t){n.add(e,t)},this.removeEventListener=function(e,t){n.remove(e,t)}},(a=a||{}).tool=a.tool||{},a.tool.WindowLevel=function(e){var t=this,n=(this.started=!1,new a.tool.ScrollWheel(e));this.mousedown=function(e){t.started=!0,t.x0=e._x,t.y0=e._y},this.mousemove=function(n){var r,i,o,s,l,u;t.started&&(r=a.gui.getLayerDetailsFromEvent(n),r=e.getLayerGroupByDivId(r.groupDivId).getActiveViewLayer().getViewController(),i=n._x-t.x0,u=t.y0-n._y,o=.01*((o=r.getImageRescaledDataRange()).max-o.min),l=parseInt(r.getWindowLevel().center,10),s=parseInt(r.getWindowLevel().width,10),l+=Math.round(u*o),u=s+Math.round(i*o),u=a.image.validateWindowWidth(u),r.addWindowLevelPresets({manual:{wl:[new a.image.WindowLevel(l,u)],name:"manual"}}),r.setWindowLevelPreset("manual"),t.x0=n._x,t.y0=n._y)},this.mouseup=function(e){t.started&&(t.started=!1)},this.mouseout=function(e){t.mouseup(e)},this.touchstart=function(e){t.mousedown(e)},this.touchmove=function(e){t.mousemove(e)},this.touchend=function(e){t.mouseup(e)},this.dblclick=function(t){var n=a.gui.getLayerDetailsFromEvent(t),r=(t=(n=e.getLayerGroupByDivId(n.groupDivId).getActiveViewLayer()).displayToPlaneIndex(t._x,t._y),n.getViewController());n=e.getImage(n.getDataIndex()),r.setWindowLevel(parseInt(n.getRescaledValueAtIndex(r.getCurrentIndex().getWithNew2D(t.get(0),t.get(1))),10),parseInt(r.getWindowLevel().width,10))},this.wheel=function(e){n.wheel(e)},this.keydown=function(t){t.context="dwv.tool.WindowLevel",e.onKeydown(t)},this.activate=function(e){},this.init=function(){}},(a=a||{}).tool=a.tool||{},a.tool.ZoomAndPan=function(e){var t=this;this.started=!1,this.mousedown=function(e){t.started=!0,t.x0=e._x,t.y0=e._y},this.twotouchdown=function(e){t.started=!0,t.x0=e._x,t.y0=e._y;var n=new a.math.Point2D(e._x,e._y);e=new a.math.Point2D(e._x1,e._y1),t.line0=new a.math.Line(n,e),t.midPoint=t.line0.getMidpoint()},this.mousemove=function(n){var r,i,o,s,l;t.started&&(l=n._x-t.x0,r=n._y-t.y0,i=a.gui.getLayerDetailsFromEvent(n),o=(s=(i=e.getLayerGroupByDivId(i.groupDivId)).getActiveViewLayer()).getViewController(),s=s.displayToPlaneScale(l,r),l=o.getOffset3DFromPlaneOffset(s),i.addTranslation({x:l.getX(),y:l.getY(),z:l.getZ()}),i.draw(),t.x0=n._x,t.y0=n._y)},this.twotouchmove=function(n){var r,i,o,s;t.started&&(o=new a.math.Point2D(n._x,n._y),r=new a.math.Point2D(n._x1,n._y1),o=new a.math.Line(o,r).getLength()/t.line0.getLength(),r=a.gui.getLayerDetailsFromEvent(n),i=(s=(r=e.getLayerGroupByDivId(r.groupDivId)).getActiveViewLayer()).getViewController(),1==o?(n=n._y-t.y0,Math.abs(n)<15||i.getImageSize().canScroll(2)&&(0<n?i.incrementIndex(2):i.decrementIndex(2))):(n=(o-1)/10,Math.abs(n)%.1<=.05&&(o=s.displayToMainPlanePos(t.midPoint.getX(),t.midPoint.getY()),s=i.getPlanePositionFromPlanePoint(o),r.addScale(n,s),r.draw())))},this.mouseup=function(e){t.started&&(t.started=!1)},this.mouseout=function(e){t.mouseup(e)},this.touchstart=function(e){var n=e.targetTouches;1===n.length?t.mousedown(e):2===n.length&&t.twotouchdown(e)},this.touchmove=function(e){var n=e.targetTouches;1===n.length?t.mousemove(e):2===n.length&&t.twotouchmove(e)},this.touchend=function(e){t.mouseup(e)},this.wheel=function(t){var n=-t.deltaY/500,r=a.gui.getLayerDetailsFromEvent(t),i=(o=(r=e.getLayerGroupByDivId(r.groupDivId)).getActiveViewLayer()).getViewController(),o=o.displayToMainPlanePos(t._x,t._y);t=i.getPlanePositionFromPlanePoint(o),r.addScale(n,t),r.draw()},this.keydown=function(t){t.context="dwv.tool.ZoomAndPan",e.onKeydown(t)},this.activate=function(e){}},a.tool.ZoomAndPan.prototype.init=function(){},(a=a||{}).utils=a.utils||{},a.utils.arraySortEquals=function(e,t){return null!==e&&null!==t&&void 0!==e&&void 0!==t&&(e=e.slice().sort(),t=t.slice().sort(),a.utils.arrayEquals(e,t))},a.utils.arrayEquals=function(e,t){return null!==e&&null!==t&&void 0!==e&&void 0!==t&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))},a.utils.uint8ArrayToString=function(e){return String.fromCharCode.apply(String,e)},a.utils.findInArraySubset=function(e,t,n,r){(void 0===n||n<0||n>=e.length)&&(n=0),(void 0===r||r<=n||r>e.length)&&(r=e.length);for(var i=n;i<r;++i)if(t(e[i],i,e))return i},a.utils.getFindArrayInArrayCallback=function(e){return function(t,n,r){for(var i=0;i<e.length;++i)if(r[n+i]!==e[i])return!1;return!0}},a.utils.parseMultipart=function(e){var t=new Uint8Array(e),n=[];if(0===t.length)return n;e=new Uint8Array([13,10,13,10]);var r=a.utils.getFindArrayInArrayCallback(e),i=a.utils.findInArraySubset(t,r,0);if(void 0===i)throw new Error("Can't find the end of the first multipart header");e=t.slice(0,i);for(var o,s=a.utils.uint8ArrayToString(e).split("\r\n"),l=0;l<s.length;++l)if("-"===s[l][0]&&"-"===s[l][1]){o=s[l];break}if(void 0===o)throw new Error("Can't find the boundary between multi-parts");e=a.utils.stringToUint8Array(o);for(var u=a.utils.getFindArrayInArrayCallback(e),c=o.length,d=a.utils.findInArraySubset(t,u,0);void 0!==i;){for(var f={},h=t.slice(d+c,i),p=a.utils.uint8ArrayToString(h).split("\r\n"),g=0;g<p.length;++g){var m,x=p[g],v=x.indexOf(":");-1!==v&&(m=x.substring(0,v).trim(),x=x.substring(v+1).trim(),f[m]=x)}if(void 0===(d=a.utils.findInArraySubset(t,u,i)))break;h=i+4;var S=d-2;f.data=h<S?t.slice(h,S).buffer:new Uint8Array,n.push(f),i=a.utils.findInArraySubset(t,r,d+c)}return n},a.utils.buildMultipart=function(e,t){for(var n="\r\n",r=0,i=[],o=0;o<e.length;++o){for(var s="",l=(0!==o&&(s+=n),s+="--"+t+n,Object.keys(e[o])),u=0;u<l.length;++u){var c=l[u];"data"!==c&&(s+=c+": "+e[o][c]+n)}s+=n;var d=a.utils.stringToUint8Array(s);i.push(d),r+=d.byteLength+e[o].data.byteLength}for(var f=a.utils.stringToUint8Array("\r\n--"+t+"--"+n),h=new Uint8Array(r+f.byteLength),p=0,g=0;g<e.length;++g)h.set(i[g],p),p+=i[g].byteLength,h.set(new Uint8Array(e[g].data),p),p+=e[g].data.byteLength;return h.set(f,p),h},(a=a||{}).utils=a.utils||{},a.utils.isEqualRgb=function(e,t){return null!==e&&null!==t&&void 0!==e&&void 0!==t&&e.r===t.r&&e.g===t.g&&e.b===t.b},a.utils.ybrToRgb=function(e,t,n){return{r:e+1.402*(n-128),g:e-.34414*(t-128)-.71414*(n-128),b:e+1.772*(t-128)}},a.utils.hexToRgb=function(e){return{r:parseInt(e.substring(1,3),16),g:parseInt(e.substring(3,5),16),b:parseInt(e.substring(5,7),16)}},a.utils.rgbToHex=function(e){return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},a.utils.getBrightness=function(e){return.001172549*e.r+.002301961*e.g+447059e-9*e.b},a.utils.isDarkColour=function(e){return a.utils.getBrightness(a.utils.hexToRgb(e))<.5},a.utils.getShadowColour=function(e){return a.utils.isDarkColour(e)?"#fff":"#000"},a.utils.uintLabToLab=function(e){return{l:.001525902*e.l,a:.003891051*e.a-128,b:.003891051*e.b-128}},a.utils.labToUintLab=function(e){return{l:655.35*e.l,a:257*e.a+32896,b:257*e.b+32896}},a.utils.d65={x:95.0489,y:100,z:108.884},a.utils.cielabToCiexyz=function(e){function t(e){return.206896552<e?Math.pow(e,3):.128418549*e-.017712903}var n=a.utils.d65,r=(e.l+16)/116;return{x:n.x*t(r+e.a/500),y:n.y*t(r),z:n.z*t(r-e.b/200)}},a.utils.ciexyzToCielab=function(e){function t(e){return.008856452<e?Math.pow(e,.333333333):7.787037037*e+.137931034}var n=a.utils.d65,r=t(e.y/n.y);return{l:116*r-16,a:500*(t(e.x/n.x)-r),b:200*(r-t(e.z/n.z))}},a.utils.ciexyzToSrgb=function(e){function t(e){var t=null;return t=e<=.0031308?12.92*e:1.055*Math.pow(e,.416666667)-.055,Math.min(1,Math.max(0,t))}var n=e.x/100,r=e.y/100;return e=e.z/100,{r:Math.round(255*t(3.2406*n-1.5372*r-.4986*e)),g:Math.round(255*t(-.9689*n+1.8758*r+.0415*e)),b:Math.round(255*t(.0557*n-.204*r+1.057*e))}},a.utils.srgbToCiexyz=function(e){function t(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}var n=t(e.r/255),r=t(e.g/255);return{x:100*(.4124*n+.3576*r+.1805*(e=t(e.b/255))),y:100*(.2126*n+.7152*r+.0722*e),z:100*(.0193*n+.1192*r+.9505*e)}},a.utils.cielabToSrgb=function(e){return a.utils.ciexyzToSrgb(a.utils.cielabToCiexyz(e))},a.utils.srgbToCielab=function(e){return a.utils.ciexyzToCielab(a.utils.srgbToCiexyz(e))},a.utils.colourNameToHex=function(e){var t={Yellow:"#ffff00",Red:"#ff0000",White:"#ffffff",Green:"#008000",Blue:"#0000ff",Lime:"#00ff00",Fuchsia:"#ff00ff",Black:"#000000"};return void 0!==t[e]?t[e]:"#ffff00"},(a=a||{}).env=a.env||{},a.env.askModernizr=function(e){void 0===a.Modernizr&&a.ModernizrInit(o,document);for(var t=e.split("."),n=a.Modernizr,r=0;r<t.length;++r)n=n[t[r]];return n},a.env.hasFileApi=function(){return-1===navigator.appVersion.indexOf("Safari")||-1!==navigator.appVersion.indexOf("Chrome")||-1===navigator.appVersion.indexOf("5.0.")&&-1===navigator.appVersion.indexOf("5.1.")?a.env.askModernizr("filereader"):(a.logger.warn("Assuming FileAPI support for Safari5..."),!0)},a.env.hasXmlHttpRequest=function(){return a.env.askModernizr("xhrresponsetype")&&a.env.askModernizr("xhrresponsetypearraybuffer")&&a.env.askModernizr("xhrresponsetypetext")&&"XMLHttpRequest"in o&&"withCredentials"in new XMLHttpRequest},a.env.hasTypedArray=function(){return a.env.askModernizr("dataview")&&a.env.askModernizr("typedarrays")},a.env.hasInputColor=function(){return a.env.askModernizr("inputtypes.color")},a.env.hasInputDirectory=function(){return a.env.askModernizr("fileinputdirectory")},a.env._hasTypedArraySlice=void 0!==Uint8Array.prototype.slice,a.env.hasTypedArraySlice=function(){return a.env._hasTypedArraySlice},a.env._hasFloat64Array="Float64Array"in o,a.env.hasFloat64Array=function(){return a.env._hasFloat64Array},a.env._hasClampedArray="Uint8ClampedArray"in o,a.env.hasClampedArray=function(){return a.env._hasClampedArray},a.env._hasBigint="undefined"!=typeof BigInt,a.env.hasBigInt=function(){return a.env._hasBigint},a.env._hasTextDecoder="undefined"!=typeof TextDecoder,a.env.hasTextDecoder=function(){return a.env._hasTextDecoder},a.env._hasTextEncoder="undefined"!=typeof TextEncoder,a.env.hasTextEncoder=function(){return a.env._hasTextEncoder},a.env.check=function(){var e="";if(!a.env.hasFileApi())throw e="The File APIs are not supported in this browser. ",new Error(e);if(!a.env.hasXmlHttpRequest())throw e="The XMLHttpRequest is not supported in this browser. ",new Error(e);if(!a.env.hasTypedArray())throw e="The Typed arrays are not supported in this browser. ",new Error(e);if(!a.env.hasTextDecoder()||!a.env.hasTextEncoder())throw e="Text decoding/encoding is not supported in this browser.",new Error(e);a.env.hasFloat64Array()||a.logger.warn("Float64Array is not supported in this browser. Data including tags with Float64 VR is not supported. "),a.env.hasBigInt()||a.logger.warn("BigInt is not supported in this browser. Data including tags with Int64 and Uint64 VRs is not supported. "),a.env.hasTypedArraySlice()||(a.logger.warn("The TypedArray.slice method is not supported in this browser. This may impair performance. "),Uint16Array.prototype.slice=function(e,t){for(var n=t-e,r=new Uint16Array(n),i=0;i<n;i++)r[i]=this[e+i];return r},Int16Array.prototype.slice=function(e,t){for(var n=t-e,r=new Int16Array(n),i=0;i<n;i++)r[i]=this[e+i];return r},Uint8Array.prototype.slice=function(e,t){for(var n=t-e,r=new Uint8Array(n),i=0;i<n;i++)r[i]=this[e+i];return r},Int8Array.prototype.slice=function(e,t){for(var n=t-e,r=new Int8Array(n),i=0;i<n;i++)r[i]=this[e+i];return r}),a.env.hasClampedArray()||(a.logger.warn("The Uint8ClampedArray is not supported in this browser. This may impair performance. "),o.Uint8ClampedArray=o.Uint8Array),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}},configurable:!0,writable:!0}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){return a.utils.startsWith(this,e,t)}})},(a=a||{}).i18n=function(e,t){if(2!==(e=e.split(".")).length)throw new Error("Unexpected translation key length.");if("unit"!==e[0])throw new Error("Unexpected translation key prefix.");return{mm:"mm",cm2:"cm\xb2",degree:"\xb0"}[e[1]]},(a=a||{}).utils=a.utils||{},a.utils.ListenerHandler=function(){var e={};this.add=function(t,n){void 0===e[t]&&(e[t]=[]),e[t].push(n)},this.remove=function(t,n){if(void 0!==e[t])for(var r=0;r<e[t].length;++r)e[t][r]===n&&e[t].splice(r,1)},this.fireEvent=function(t){if(void 0!==e[t.type])for(var n=e[t.type].slice(),r=0;r<n.length;++r)n[r](t)}},(a=a||{}).utils=a.utils||{},a.utils.logger=a.utils.logger||{},a.utils.logger.console=a.utils.logger.console||{},a.logger=a.utils.logger.console,a.utils.logger.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},a.utils.logger.console.level=a.utils.logger.levels.WARN,a.utils.logger.console.trace=function(e){a.logger.level<=a.utils.logger.levels.TRACE&&console.trace(e)},a.utils.logger.console.debug=function(e){a.logger.level<=a.utils.logger.levels.DEBUG&&console.debug(e)},a.utils.logger.console.info=function(e){a.logger.level<=a.utils.logger.levels.INFO&&console.info(e)},a.utils.logger.console.warn=function(e){a.logger.level<=a.utils.logger.levels.WARN&&console.warn(e)},a.utils.logger.console.error=function(e){a.logger.level<=a.utils.logger.levels.ERROR&&console.error(e)},(a=a||{}).ModernizrInit=function(e,t,n){var r=[],i={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){r.push({name:e,fn:t,options:n})},addAsyncTest:function(e){r.push({name:null,fn:e})}},o=function(){},s=(o.prototype=i,(o=new o).addTest("dataview","undefined"!=typeof DataView&&"getFloat64"in DataView.prototype),o.addTest("typedarrays","ArrayBuffer"in e),o.addTest("filereader",!!(e.File&&e.FileList&&e.FileReader)),o.addTest("xhrresponsetype",function(){if("undefined"==typeof XMLHttpRequest)return!1;var e=new XMLHttpRequest;return e.open("get","/",!0),"response"in e}()),o.addTest("urlparser",(function(){try{return"http://modernizr.com/"===new URL("http://modernizr.com/").href}catch(e){return!1}})),o.addTest("urlsearchparams","URLSearchParams"in e),[]);function l(e){if("undefined"==typeof XMLHttpRequest)return!1;var t=new XMLHttpRequest;t.open("get","/",!0);try{t.responseType=e}catch(e){return!1}return"response"in t&&t.responseType==e}var u=t.documentElement,c=(o.addTest("xhrresponsetypearraybuffer",l("arraybuffer")),o.addTest("xhrresponsetypejson",l("json")),o.addTest("xhrresponsetypetext",l("text")),"svg"===u.nodeName.toLowerCase());function d(e){return"function"!=typeof t.createElement?t.createElement(e):c?t.createElementNS.call(t,"http://www.w3.org/2000/svg",e):t.createElement.apply(t,arguments)}var f,h,p,g,m,x,v,S=d("input"),y=(e="search tel url email datetime date month week time datetime-local number range color".split(" "),{}),b=(o.inputtypes=function(e){for(var r,i,o,a=e.length,s=0;s<a;s++)S.setAttribute("type",r=e[s]),(o="text"!==S.type&&"style"in S)&&(S.value="1)",S.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&S.style.WebkitAppearance!==n?(u.appendChild(S),o=(i=t.defaultView).getComputedStyle&&"textfield"!==i.getComputedStyle(S,null).WebkitAppearance&&0!==S.offsetHeight,u.removeChild(S)):/^(search|tel)$/.test(r)||(o=/^(url|email)$/.test(r)?S.checkValidity&&!1===S.checkValidity():"1)"!=S.value)),y[e[s]]=!!o;return y}(e),i._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[]);for(v in i._domPrefixes=b,o.addTest("fileinputdirectory",(function(){var e=d("input");if(e.type="file","directory"in e)return!0;for(var t=0,n=b.length;t<n;t++)if(b[t]+"directory"in e)return!0;return!1})),r)if(r.hasOwnProperty(v)){if(f=[],(h=r[v]).name&&(f.push(h.name.toLowerCase()),h.options&&h.options.aliases&&h.options.aliases.length))for(p=0;p<h.options.aliases.length;p++)f.push(h.options.aliases[p].toLowerCase());for(g="function"==typeof h.fn?h.fn():h.fn,m=0;m<f.length;m++)1===(x=f[m].split(".")).length?o[x[0]]=g:(!o[x[0]]||o[x[0]]instanceof Boolean||(o[x[0]]=new Boolean(o[x[0]])),o[x[0]][x[1]]=g),s.push((g?"":"no-")+x.join("-"))}delete i.addTest,delete i.addAsyncTest;for(var C=0;C<o._q.length;C++)o._q[C]();a.Modernizr=o},(a=a||{}).utils=a.utils||{},a.utils.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},a.utils.isArray=function(e){return Array.isArray(e)},a.utils.objectToArray=function(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;++r){for(var i=n[r],o={name:i},s=Object.keys(e[i]),l=0;l<s.length;++l){var u=s[l],c=e[i][u];if(a.utils.isArray(c)){for(var d=[],f=0;f<c.length;++f)a.utils.isObject(c[f])?d.push(a.utils.objectToArray(c[f])):d.push(c[f]);c=d}else a.utils.isObject(c)&&(c=a.utils.objectToArray(c));o[u]=c}t.push(o)}return t},a.utils.mergeObjects=function(e,t,n,r){var i={};if(!n)throw new Error("Cannot merge object with an undefined id key: "+n);if(!Object.prototype.hasOwnProperty.call(e,n))throw new Error("Id key not found in first object while merging: "+n+", obj: "+e);if(!Object.prototype.hasOwnProperty.call(t,n))throw new Error("Id key not found in second object while merging: "+n+", obj: "+t);if(!r)throw new Error("Cannot merge object with an undefined value key: "+r);var o=!1;if(Object.prototype.hasOwnProperty.call(e[n],"merged")&&e[n].merged&&(o=!0),!Object.prototype.hasOwnProperty.call(e[n],r))throw new Error("Id value not found in first object while merging: "+n+", valueKey: "+r+", ojb: "+e);if(!Object.prototype.hasOwnProperty.call(t[n],r))throw new Error("Id value not found in second object while merging: "+n+", valueKey: "+r+", ojb: "+t);var s=e[n][r],l=t[n][r];if(o){for(var u=0;u<s.length;++u)if(s[u]===l)throw new Error("The first object already contains id2: "+l+", id1: "+s);i[n]=e[n],i[n][r].push(l)}else{if(s===l)throw new Error("Cannot merge object with same ids: "+s+", id2: "+l);i[n]={value:[s,l],merged:!0}}for(var c=Object.keys(e),d=Object.keys(t).filter((function(e){return c.indexOf(e)<0})),f=c.concat(d),h=0,p=f.length;h<p;++h){var g=f[h];if(g!==n){var m,x=null,v=null,S=(Object.prototype.hasOwnProperty.call(e,g)&&(x=e[g],Object.prototype.hasOwnProperty.call(x,r)&&(v=x[r])),null),y=null;if(Object.prototype.hasOwnProperty.call(t,g)&&(S=t[g],Object.prototype.hasOwnProperty.call(S,r)&&(y=S[r])),y!==v)if(m={},o){if(a.utils.isObject(v))m[r]=v;else{m[r]={};for(var b=0;b<s.length;b++)m[r][s[b]]=x}m[r][l]=S}else(y={})[s]=x,y[l]=S,m[r]=y;else m=x;i[g]=m}}return i},(a=a||{}).utils=a.utils||{},a.utils.MultiProgressHandler=function(e){var t=this,n=[],r=2;function i(e){for(var t=0,i=0;i<r;++i)t+=n[e][i];return t/r}this.setNumberOfDimensions=function(e){r=e},this.setNToLoad=function(e){for(var t=0;t<e;++t){n[t]=[];for(var i=0;i<r;++i)n[t][i]=0}},this.onprogress=function(t){var r;t.lengthComputable&&void 0!==t.subindex&&void 0!==t.index&&(r=100*t.loaded/t.total,n[t.index][t.subindex]=r,r=null,r=void 0!==t.item?t.item:{loaded:i(t.index),total:100,source:t.source},e({lengthComputable:!0,loaded:function(){for(var e=0,t=n.length,r=0;r<t;++r)e+=i(r);return Math.round(e/t)}(),total:100,item:r}))},this.getMonoProgressHandler=function(e,n){return function(r){r.index=e,r.subindex=n,t.onprogress(r)}},this.getUndefinedMonoProgressHandler=function(e){return function(n){n.subindex=e,t.onprogress(n)}}},(a=a||{}).utils=a.utils||{},a.utils.capitaliseFirstLetter=function(e){var t=e;return e?e.charAt(0).toUpperCase()+e.slice(1):t},a.utils.startsWith=function(e,t,n){return null!=e&&null!=t&&(n=0<n?0|n:0,e.substring(n,n+t.length)===t)},a.utils.endsWith=function(e,t){return null!=e&&null!=t&&e.substring(e.length-t.length)===t},a.utils.splitKeyValueString=function(e){var t={};if(e)for(var n=e.split("&"),r=0;r<n.length;++r){var i=n[r].split("=");t[i[0]]?(t[i[0]]instanceof Array||(t[i[0]]=[t[i[0]]]),t[i[0]].push(i[1])):t[i[0]]=i[1]}return t},a.utils.getFlags=function(e){var t=[];if(null==e)return t;for(var n=/{(\w+)}/g,r=n.exec(e);r;)t.push(r[1]),r=n.exec(e);return t},a.utils.replaceFlags=function(e,t){var n="";if(null==e)return n;if(n=e,null==t)return n;for(var r=a.utils.getFlags(e),i=0;i<r.length;++i){var o,s=t[r[i]];null!=s&&null!==s.value&&void 0!==s.value&&(o=s.value.toPrecision(4),null!==s.unit&&void 0!==s.unit&&0!==s.unit.length&&("degree"!==s.unit&&(o+=" "),o+=s.unit),s="{"+r[i]+"}",n=n.replace(s,o))}return n},a.utils.replaceFlags2=function(e,t){for(var n=e,r=0;r<t.length;++r)n=n.replace("{v"+r+"}",t[r]);return n},a.utils.createDefaultReplaceFormat=function(e){for(var t="",n=0;n<e.length;++n)0!==n&&(t+=", "),t+="{v"+n+"}";return t},a.utils.getRootPath=function(e){return e.split("/").slice(0,-1).join("/")},a.utils.getFileExtension=function(e){var t=null;return null!=e&&"."!==e[0]&&1!==(e=e.toLowerCase().split(".")).length&&(t=e.pop(),/[a-z]/.test(t)&&!t.includes("/")||(t=null)),t},a.utils.stringToUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t},a.utils.precisionRound=function(e,t){return t=Math.pow(10,t),Math.round(e*t+.01/t)/t},(a=a||{}).utils=a.utils||{},a.utils.ThreadPool=function(e){for(var t=[],n=[],r=0;r<e;++r)n.push(new a.utils.WorkerThread(this));var i=[];function o(){t=[];for(var e=0;e<i.length;++e)i[e].stop();i=[]}this.addWorkerTask=function(r){var o;n.length===e&&this.onworkstart({type:"work-start"}),0<n.length?(o=n.shift(),i.push(o),o.run(r)):t.push(r)},this.abort=function(){o(),this.onabort({type:"work-abort"}),this.onworkend({type:"work-end"})},this.onTaskEnd=function(r){if(0<t.length){var o=t.shift();r.run(o)}else{r.stop(),n.push(r);for(var a=0;a<i.length;++a)i[a].getId()===r.getId()&&i.splice(a,1);n.length===e&&(this.onwork({type:"work"}),this.onworkend({type:"work-end"}))}},this.handleWorkerError=function(e){o(),this.onerror({error:e}),this.onworkend({type:"work-end"})}},a.utils.ThreadPool.prototype.onworkstart=function(e){},a.utils.ThreadPool.prototype.onworkitem=function(e){},a.utils.ThreadPool.prototype.onwork=function(e){},a.utils.ThreadPool.prototype.onworkend=function(e){},a.utils.ThreadPool.prototype.onerror=function(e){},a.utils.ThreadPool.prototype.onabort=function(e){},a.utils.WorkerThread=function(e){var t,n=this,r=Math.random().toString(36).substring(2,15),i=null;function o(t){t.itemNumber=i.info.itemNumber,t.numberOfItems=i.info.numberOfItems,t.dataIndex=i.info.dataIndex,e.onworkitem(t),e.onTaskEnd(n)}function a(t){t.itemNumber=i.info.itemNumber,t.numberOfItems=i.info.numberOfItems,t.dataIndex=i.info.dataIndex,e.handleWorkerError(t),n.stop()}this.getId=function(){return r},this.run=function(e){i=e,void 0===t&&((t=new Worker(i.script)).onmessage=o,t.onerror=a),t.postMessage(i.startMessage)},this.stop=function(){t.terminate()}},a.utils.WorkerTask=function(e,t,n){this.script=e,this.startMessage=t,this.info=n},(a=a||{}).utils=a.utils||{},a.utils.getUrlFromUriFull=function(e){return new URL(e,o.location.origin)},a.utils.getUrlFromUriSimple=function(e){for(var t={},n=(e=e.split("?"))[0].split("//").pop().split("/"),r=(n.splice(0,1),t.pathname="/"+n.join("/"),[]),i=(2===e.length&&(r=e[1].split("&")),{}),o=0;o<r.length;++o){var a=r[o].split("=");i[a[0]]=a[1]}return t.searchParams={get:function(e){return i[e]}},t},a.utils.getUrlFromUri=function(e){return a.env.askModernizr("urlparser")&&a.env.askModernizr("urlsearchparams")?a.utils.getUrlFromUriFull(e):a.utils.getUrlFromUriSimple(e)},a.utils.splitUri=function(e){var t,n={},r=null;return e&&-1!==(r=e.indexOf("?"))&&(n.base=e.substring(0,r),-1===(t=e.indexOf("#"))&&(t=e.length),e=e.substring(r+1,t),n.query=a.utils.splitKeyValueString(e)),n},a.utils.getUriQuery=function(e){return e=a.utils.splitUri(e),0===Object.keys(e).length?null:e.query},a.utils.decodeQuery=function(e,t,n){e.type&&"manifest"===e.type?a.utils.decodeManifestQuery(e,t):t(a.utils.decodeKeyValueUri(e.input,e.dwvReplaceMode),n)},a.utils.decodeKeyValueUri=function(e,t){var n=[],r="key",i=(t&&(r=t),t=decodeURIComponent(e),a.utils.splitUri(t));if(0===Object.keys(i).length)n.push(t);else{for(var o=Object.keys(i.query),s=null,l=0;l<o.length;++l)if(i.query[o[l]]instanceof Array){s=o[l];break}if(s){for(var u,c=i.query[s],d=i.base,f=(""!==d&&"file"!==s&&(d+="?"),!1),h=0;h<o.length;++h)o[h]!==s&&(f&&(d+="&"),d+=o[h]+"="+i.query[o[h]],f=!0);for(var p=0;p<c.length;++p)u=d,f&&(u+="&"),"key"===r&&(u+=s+"="),u+=c[p],n.push(u)}else n.push(t)}return n},a.utils.decodeManifestQuery=function(e,t){var n="",r=("/"===e.input[0]&&(n=o.location.protocol+"//"+o.location.host),n+=e.input,new XMLHttpRequest);r.open("GET",decodeURIComponent(n),!0),r.responseType="document",r.onload=function(){t(a.utils.decodeManifest(this.responseXML,e.nslices))},r.onerror=function(){a.logger.warn("RequestError while receiving manifest: "+this.status)},r.send(null)},a.utils.decodeManifest=function(e,t){var n=[],r=e.getElementsByTagName("wado_query")[0].getAttribute("wadoURL")+"?requestType=WADO&contentType=application/dicom&",i=(1<(1<(e=e.getElementsByTagName("Patient")).length&&a.logger.warn("More than one patient, loading first one."),e=e[0].getElementsByTagName("Study")).length&&a.logger.warn("More than one study, loading first one."),e[0].getAttribute("StudyInstanceUID")),o=(1<(e=e[0].getElementsByTagName("Series")).length&&a.logger.warn("More than one series, loading first one."),e[0].getAttribute("SeriesInstanceUID")),s=e[0].getElementsByTagName("Instance"),l=s.length;t<l&&(l=t);for(var u=0;u<l;++u){var c=s[u].getAttribute("SOPInstanceUID");n.push(r+"&studyUID="+i+"&seriesUID="+o+"&objectUID="+c)}return n},a.utils.loadFromUri=function(e,t,n){(e=a.utils.getUriQuery(e))&&void 0!==e.input&&a.utils.loadFromQuery(e,t,n)},a.utils.loadFromQuery=function(e,t,n){var r;a.utils.decodeQuery(e,t.loadURLs,n),void 0!==e.state&&t.addEventListener("loadend",r=function(){t.removeEventListener("loadend",r),t.loadURLs([e.state])})},a},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var x=a[m];if(!o[x]&&(!r||!r[x])&&(!g||!g[x])&&(!s||!s[x])){var v=f(n,x);try{u(t,x,v)}catch(S){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case g:case l:return e;default:return t}}case i:return t}}}function C(e){return b(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return C(e)||b(e)===c},t.isConcurrentMode=C,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===v||e.$$typeof===S||e.$$typeof===y||e.$$typeof===x)},t.typeOf=b},8309:function(e,t,n){"use strict";e.exports=n(746)},5587:function(e,t,n){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,a,s,l,u,c=[],d=0,f=e.length,h=f,p="string"!==r.getTypeOf(e);d<e.length;)h=f-d,i=p?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|n>>4,l=1<h?(15&n)<<2|i>>6:64,u=2<h?63&i:64,c.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(u));return c.join("")},n.decode=function(e){var t,n,r,a,s,l,u=0,c=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=i.uint8array?new Uint8Array(0|h):new Array(0|h);u<e.length;)t=o.indexOf(e.charAt(u++))<<2|(a=o.indexOf(e.charAt(u++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(u++)))>>2,r=(3&s)<<6|(l=o.indexOf(e.charAt(u++))),f[c++]=t,64!==s&&(f[c++]=n),64!==l&&(f[c++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=r?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,a,c){var d,f,h=e.file,p=e.compression,g=c!==s.utf8encode,m=o.transformTo("string",c(h.name)),x=o.transformTo("string",s.utf8encode(h.name)),v=h.comment,S=o.transformTo("string",c(v)),y=o.transformTo("string",s.utf8encode(v)),b=x.length!==h.name.length,C=y.length!==v.length,w="",D="",T="",P=h.dir,L=h.date,I={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(I.crc32=e.crc32,I.compressedSize=e.compressedSize,I.uncompressedSize=e.uncompressedSize);var k=0;t&&(k|=8),g||!b&&!C||(k|=2048);var A=0,R=0;P&&(A|=16),"UNIX"===a?(R=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,P)):(R=20,A|=function(e){return 63&(e||0)}(h.dosPermissions)),d=L.getUTCHours(),d<<=6,d|=L.getUTCMinutes(),d<<=5,d|=L.getUTCSeconds()/2,f=L.getUTCFullYear()-1980,f<<=4,f|=L.getUTCMonth()+1,f<<=5,f|=L.getUTCDate(),b&&(D=r(1,1)+r(l(m),4)+x,w+="up"+r(D.length,2)+D),C&&(T=r(1,1)+r(l(S),4)+y,w+="uc"+r(T.length,2)+T);var E="";return E+="\n\0",E+=r(k,2),E+=p.magic,E+=r(d,2),E+=r(f,2),E+=r(I.crc32,4),E+=r(I.compressedSize,4),E+=r(I.uncompressedSize,4),E+=r(m.length,2),E+=r(w.length,2),{fileRecord:u.LOCAL_FILE_HEADER+E+m+w,dirRecord:u.CENTRAL_FILE_HEADER+r(R,2)+E+r(S.length,2)+"\0\0\0\0"+r(A,4)+r(i,4)+m+w+S}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(c,a),c.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,a){var s=o.transformTo("string",a(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},c.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.7.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(u(r[o]));return i.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),s=o.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(r=p(e))&&m.call(this,r,!0);var d="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!d),(t instanceof u&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var x=null;x=t instanceof u||t instanceof a?t:f.isNode&&f.isStream(t)?new h(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new c(e,x,s);this.files[e]=v}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:l.createFolders,e=g(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function x(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(x(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(x(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),l=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t){return new l.Promise((function(n,i){var o=[],s=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),u);n(e)}catch(e){i(e)}o=[]})).resume()}))}function d(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return c(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=a=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,a=e.length,l=new Array(2*a);for(t=n=0;t<a;)if((i=e[t++])<128)l[n++]=i;else if(4<(o=s[i]))l[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;)i=i<<6|63&e[t++],o--;1<o?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(u,a),u.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),l=t;a!==t.length&&(i.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function l(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=d;var h={};h.string={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,o.allocBuffer(e.length))}},h.array={string:d,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},h.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},h.nodebuffer={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return h[r][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){a((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,l){return s.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var c=n.getTypeOf(t);return c?("arraybuffer"===c?t=n.transformTo("uint8array",t):"string"===c&&(l?t=i.decode(t):o&&!0!==a&&(t=function(e){return u(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)r.prototype[u[d]]=c;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(c),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}t.exports=function(e){1!==u.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?d(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(i);++l<n;)c(e[l],l);return u;function c(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(u,a))}),(function(e){r||(r=!0,o.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,s=-1,l=new this(i);++s<n;)a=e[s],t.resolve(a).then((function(e){r||(r=!0,o.resolve(l,e))}),(function(e){r||(r=!0,o.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==u)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&n!==u)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==a||(this.onEnd(u),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,u,d,f,h=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(f="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===c.call(g)?new Uint8Array(g):g,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(h.output,h.next_out),u=h.next_out-l,d=o.buf2string(h.output,l),h.next_out=u,h.avail_out=p-u,u&&i.arraySet(h.output,h.output,l,u,0),this.onData(d)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=a=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if(4<(o=a[i]))u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&e[n++],o--;1<o?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=0,c=4,d=0,f=-2,h=-1,p=4,g=2,m=8,x=9,v=286,S=30,y=19,b=2*v+1,C=15,w=3,D=258,T=D+w+1,P=42,L=113,I=1,k=2,A=3,R=4;function E(e,t){return e.msg=l[t],t}function O(e){return(e<<1)-(4<e?9:0)}function F(e){for(var t=e.length;0<=--t;)e[t]=0}function _(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function M(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_(e.strm)}function q(e,t){e.pending_buf[e.pending++]=t}function N(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function U(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-T?e.strstart-(e.w_size-T):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+D,h=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=D-(f-o),o=f-D,a<r){if(e.match_start=t,s<=(a=r))break;h=u[o+a-1],p=u[o+a]}}}while((t=d[t&c])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function B(e){var t,n,r,o,l,u,c,d,f,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-T)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);o+=p}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,h=void 0,(f=o)<(h=u.avail_in)&&(h=f),n=0===h?0:(u.avail_in-=h,i.arraySet(c,u.input,u.next_in,h,d),1===u.state.wrap?u.adler=a(u.adler,c,h,d):2===u.state.wrap&&(u.adler=s(u.adler,c,h,d)),u.next_in+=h,u.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=w)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+w-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<w)););}while(e.lookahead<T&&0!==e.strm.avail_in)}function Z(e,t){for(var n,r;;){if(e.lookahead<T){if(B(e),e.lookahead<T&&t===u)return I;if(0===e.lookahead)break}if(n=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-T&&(e.match_length=U(e,n)),e.match_length>=w)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-w),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=w){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(M(e,!1),0===e.strm.avail_out))return I}return e.insert=e.strstart<w-1?e.strstart:w-1,t===c?(M(e,!0),0===e.strm.avail_out?A:R):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?I:k}function Q(e,t){for(var n,r,i;;){if(e.lookahead<T){if(B(e),e.lookahead<T&&t===u)return I;if(0===e.lookahead)break}if(n=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=w-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-T&&(e.match_length=U(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===w&&4096<e.strstart-e.match_start)&&(e.match_length=w-1)),e.prev_length>=w&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-w,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-w),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=w-1,e.strstart++,r&&(M(e,!1),0===e.strm.avail_out))return I}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&M(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return I}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<w-1?e.strstart:w-1,t===c?(M(e,!0),0===e.strm.avail_out?A:R):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?I:k}function z(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*b),this.dyn_dtree=new i.Buf16(2*(2*S+1)),this.bl_tree=new i.Buf16(2*(2*y+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(C+1),this.heap=new i.Buf16(2*v+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*v+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?P:L,e.adler=2===t.wrap?0:1,t.last_flush=u,o._tr_init(t),d):E(e,f)}function W(e){var t=V(e);return t===d&&function(e){e.window_size=2*e.w_size,F(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=w-1,e.match_available=0,e.ins_h=0}(e.state),t}function j(e,t,n,r,o,a){if(!e)return f;var s=1;if(t===h&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||x<o||n!==m||r<8||15<r||t<0||9<t||a<0||p<a)return E(e,f);8===r&&(r=9);var l=new G;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+w-1)/w),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,W(e)}r=[new z(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(B(e),0===e.lookahead&&t===u)return I;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,M(e,!1),0===e.strm.avail_out))return I;if(e.strstart-e.block_start>=e.w_size-T&&(M(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?A:R):(e.strstart>e.block_start&&(M(e,!1),e.strm.avail_out),I)})),new z(4,4,8,4,Z),new z(4,5,16,8,Z),new z(4,6,32,32,Z),new z(4,4,16,16,Q),new z(8,16,32,32,Q),new z(8,16,128,128,Q),new z(8,32,128,256,Q),new z(32,128,258,1024,Q),new z(32,258,258,4096,Q)],n.deflateInit=function(e,t){return j(e,t,m,15,8,0)},n.deflateInit2=j,n.deflateReset=W,n.deflateResetKeep=V,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,d):f},n.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||5<t||t<0)return e?E(e,f):f;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==c)return E(e,0===e.avail_out?-5:f);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===P)if(2===i.wrap)e.adler=0,q(i,31),q(i,139),q(i,8),i.gzhead?(q(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),q(i,255&i.gzhead.time),q(i,i.gzhead.time>>8&255),q(i,i.gzhead.time>>16&255),q(i,i.gzhead.time>>24&255),q(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),q(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(q(i,255&i.gzhead.extra.length),q(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(q(i,0),q(i,0),q(i,0),q(i,0),q(i,0),q(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),q(i,3),i.status=L);else{var h=m+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=L,N(i,h),0!==i.strstart&&(N(i,e.adler>>>16),N(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),_(e),a=i.pending,i.pending!==i.pending_buf_size));)q(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),_(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,q(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),_(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,q(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&_(e),i.pending+2<=i.pending_buf_size&&(q(i,255&e.adler),q(i,e.adler>>8&255),e.adler=0,i.status=L)):i.status=L),0!==i.pending){if(_(e),0===e.avail_out)return i.last_flush=-1,d}else if(0===e.avail_in&&O(t)<=O(n)&&t!==c)return E(e,-5);if(666===i.status&&0!==e.avail_in)return E(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==u&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(B(e),0===e.lookahead)){if(t===u)return I;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(M(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?A:R):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?I:k}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=D){if(B(e),e.lookahead<=D&&t===u)return I;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=w&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+D;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=D-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=w?(n=o._tr_tally(e,1,e.match_length-w),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(M(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?A:R):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?I:k}(i,t):r[i.level].func(i,t);if(p!==A&&p!==R||(i.status=666),p===I||p===A)return 0===e.avail_out&&(i.last_flush=-1),d;if(p===k&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(F(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),_(e),0===e.avail_out))return i.last_flush=-1,d}return t!==c?d:i.wrap<=0?1:(2===i.wrap?(q(i,255&e.adler),q(i,e.adler>>8&255),q(i,e.adler>>16&255),q(i,e.adler>>24&255),q(i,255&e.total_in),q(i,e.total_in>>8&255),q(i,e.total_in>>16&255),q(i,e.total_in>>24&255)):(N(i,e.adler>>>16),N(i,65535&e.adler)),_(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==P&&69!==t&&73!==t&&91!==t&&103!==t&&t!==L&&666!==t?E(e,f):(e.state=null,t===L?E(e,-3):d):f},n.deflateSetDictionary=function(e,t){var n,r,o,s,l,u,c,h,p=t.length;if(!e||!e.state)return f;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==P||n.lookahead)return f;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(F(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,B(n);n.lookahead>=w;){for(r=n.strstart,o=n.lookahead-(w-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+w-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=w-1,B(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=w-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,x,v,S,y,b,C,w,D,T,P;n=e.state,r=e.next_in,T=e.input,i=r+(e.avail_in-5),o=e.next_out,P=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,g=n.lencode,m=n.distcode,x=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(h+=T[r++]<<p,p+=8,h+=T[r++]<<p,p+=8),S=g[h&x];t:for(;;){if(h>>>=y=S>>>24,p-=y,0===(y=S>>>16&255))P[o++]=65535&S;else{if(!(16&y)){if(0==(64&y)){S=g[(65535&S)+(h&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}b=65535&S,(y&=15)&&(p<y&&(h+=T[r++]<<p,p+=8),b+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=T[r++]<<p,p+=8,h+=T[r++]<<p,p+=8),S=m[h&v];n:for(;;){if(h>>>=y=S>>>24,p-=y,!(16&(y=S>>>16&255))){if(0==(64&y)){S=m[(65535&S)+(h&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&S,p<(y&=15)&&(h+=T[r++]<<p,(p+=8)<y&&(h+=T[r++]<<p,p+=8)),l<(C+=h&(1<<y)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=y,p-=y,(y=o-a)<C){if(c<(y=C-y)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(D=f,(w=0)===d){if(w+=u-y,y<b){for(b-=y;P[o++]=f[w++],--y;);w=o-C,D=P}}else if(d<y){if(w+=u+d-y,(y-=d)<b){for(b-=y;P[o++]=f[w++],--y;);if(w=0,d<b){for(b-=y=d;P[o++]=f[w++],--y;);w=o-C,D=P}}}else if(w+=d-y,y<b){for(b-=y;P[o++]=f[w++],--y;);w=o-C,D=P}for(;2<b;)P[o++]=D[w++],P[o++]=D[w++],P[o++]=D[w++],b-=3;b&&(P[o++]=D[w++],1<b&&(P[o++]=D[w++]))}else{for(w=o-C;P[o++]=P[w++],P[o++]=P[w++],P[o++]=P[w++],2<(b-=3););b&&(P[o++]=P[w++],1<b&&(P[o++]=P[w++]))}break}}break}}while(r<i&&o<s);r-=b=p>>3,h&=(1<<(p-=b<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=1,u=2,c=0,d=-2,f=1,h=852,p=592;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(h),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,c):d}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,x(e)):d}function S(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,v(e))):d}function y(e,t){var n,r;return e?(r=new m,(e.state=r).window=null,(n=S(e,t))!==c&&(e.state=null),n):d}var b,C,w=!0;function D(e){if(w){var t;for(b=new r.Buf32(512),C=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,b,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,C,0,e.work,{bits:5}),w=!1}e.lencode=b,e.lenbits=9,e.distcode=C,e.distbits=5}function T(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=v,n.inflateReset2=S,n.inflateResetKeep=x,n.inflateInit=function(e){return y(e,15)},n.inflateInit2=y,n.inflate=function(e,t){var n,h,p,m,x,v,S,y,b,C,w,P,L,I,k,A,R,E,O,F,_,M,q,N,U=0,B=new r.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),x=e.next_out,p=e.output,S=e.avail_out,m=e.next_in,h=e.input,v=e.avail_in,y=n.hold,b=n.bits,C=v,w=S,M=c;e:for(;;)switch(n.mode){case f:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if(2&n.wrap&&35615===y){B[n.check=0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0),b=y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=30;break}if(b-=4,_=8+(15&(y>>>=4)),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<_,e.adler=n.check=1,n.mode=512&y?10:12,b=y=0;break;case 2:for(;b<16;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0)),b=y=0,n.mode=3;case 3:for(;b<32;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,B[2]=y>>>16&255,B[3]=y>>>24&255,n.check=o(n.check,B,4,0)),b=y=0,n.mode=4;case 4:for(;b<16;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0)),b=y=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0)),b=y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(v<(P=n.length)&&(P=v),P&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,m,P,_)),512&n.flags&&(n.check=o(n.check,h,P,m)),v-=P,m+=P,n.length-=P),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;for(P=0;_=h[m+P++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_)),_&&P<v;);if(512&n.flags&&(n.check=o(n.check,h,P,m)),v-=P,m+=P,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;for(P=0;_=h[m+P++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_)),_&&P<v;);if(512&n.flags&&(n.check=o(n.check,h,P,m)),v-=P,m+=P,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}b=y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}e.adler=n.check=g(y),b=y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=x,e.avail_out=S,e.next_in=m,e.avail_in=v,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(D(n),n.mode=20,6!==t)break;y>>>=2,b-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&y,b=y=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(P=n.length){if(v<P&&(P=v),S<P&&(P=S),0===P)break e;r.arraySet(p,h,m,P,x),v-=P,m+=P,S-=P,x+=P,n.length-=P;break}n.mode=12;break;case 17:for(;b<14;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}n.lens[Z[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[Z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,q={bits:n.lenbits},M=s(0,n.lens,0,19,n.lencode,0,n.work,q),n.lenbits=q.bits,M){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(U=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,R=65535&U,!((k=U>>>24)<=b);){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if(R<16)y>>>=k,b-=k,n.lens[n.have++]=R;else{if(16===R){for(N=k+2;b<N;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if(y>>>=k,b-=k,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}_=n.lens[n.have-1],P=3+(3&y),y>>>=2,b-=2}else if(17===R){for(N=k+3;b<N;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}b-=k,_=0,P=3+(7&(y>>>=k)),y>>>=3,b-=3}else{for(N=k+7;b<N;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}b-=k,_=0,P=11+(127&(y>>>=k)),y>>>=7,b-=7}if(n.have+P>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;P--;)n.lens[n.have++]=_}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,q={bits:n.lenbits},M=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,q),n.lenbits=q.bits,M){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,q={bits:n.distbits},M=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q),n.distbits=q.bits,M){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=v&&258<=S){e.next_out=x,e.avail_out=S,e.next_in=m,e.avail_in=v,n.hold=y,n.bits=b,a(e,w),x=e.next_out,p=e.output,S=e.avail_out,m=e.next_in,h=e.input,v=e.avail_in,y=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(U=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,R=65535&U,!((k=U>>>24)<=b);){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if(A&&0==(240&A)){for(E=k,O=A,F=R;A=(U=n.lencode[F+((y&(1<<E+O)-1)>>E)])>>>16&255,R=65535&U,!(E+(k=U>>>24)<=b);){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}y>>>=E,b-=E,n.back+=E}if(y>>>=k,b-=k,n.back+=k,n.length=R,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(N=n.extra;b<N;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(U=n.distcode[y&(1<<n.distbits)-1])>>>16&255,R=65535&U,!((k=U>>>24)<=b);){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if(0==(240&A)){for(E=k,O=A,F=R;A=(U=n.distcode[F+((y&(1<<E+O)-1)>>E)])>>>16&255,R=65535&U,!(E+(k=U>>>24)<=b);){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}y>>>=E,b-=E,n.back+=E}if(y>>>=k,b-=k,n.back+=k,64&A){e.msg="invalid distance code",n.mode=30;break}n.offset=R,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(N=n.extra;b<N;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===S)break e;if(P=w-S,n.offset>P){if((P=n.offset-P)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}L=P>n.wnext?(P-=n.wnext,n.wsize-P):n.wnext-P,P>n.length&&(P=n.length),I=n.window}else I=p,L=x-n.offset,P=n.length;for(S<P&&(P=S),S-=P,n.length-=P;p[x++]=I[L++],--P;);0===n.length&&(n.mode=21);break;case 26:if(0===S)break e;p[x++]=n.length,S--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===v)break e;v--,y|=h[m++]<<b,b+=8}if(w-=S,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?o(n.check,p,w,x-w):i(n.check,p,w,x-w)),w=S,(n.flags?y:g(y))!==n.check){e.msg="incorrect data check",n.mode=30;break}b=y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===v)break e;v--,y+=h[m++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}b=y=0}n.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;default:return d}return e.next_out=x,e.avail_out=S,e.next_in=m,e.avail_in=v,n.hold=y,n.bits=b,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&T(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(C-=e.avail_in,w-=e.avail_out,e.total_in+=C,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?o(n.check,p,w,e.next_out-w):i(n.check,p,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==C&&0===w||4===t)&&M===c&&(M=-5),M)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,c},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,c):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&i(1,t,r,0)!==n.check?-3:T(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,c):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,d,f){var h,p,g,m,x,v,S,y,b,C=f.bits,w=0,D=0,T=0,P=0,L=0,I=0,k=0,A=0,R=0,E=0,O=null,F=0,_=new r.Buf16(16),M=new r.Buf16(16),q=null,N=0;for(w=0;w<=15;w++)_[w]=0;for(D=0;D<l;D++)_[t[n+D]]++;for(L=C,P=15;1<=P&&0===_[P];P--);if(P<L&&(L=P),0===P)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(T=1;T<P&&0===_[T];T++);for(L<T&&(L=T),w=A=1;w<=15;w++)if(A<<=1,(A-=_[w])<0)return-1;if(0<A&&(0===e||1!==P))return-1;for(M[1]=0,w=1;w<15;w++)M[w+1]=M[w]+_[w];for(D=0;D<l;D++)0!==t[n+D]&&(d[M[t[n+D]]++]=D);if(v=0===e?(O=q=d,19):1===e?(O=i,F-=257,q=o,N-=257,256):(O=a,q=s,-1),w=T,x=c,k=D=E=0,g=-1,m=(R=1<<(I=L))-1,1===e&&852<R||2===e&&592<R)return 1;for(;;){for(S=w-k,b=d[D]<v?(y=0,d[D]):d[D]>v?(y=q[N+d[D]],O[F+d[D]]):(y=96,0),h=1<<w-k,T=p=1<<I;u[x+(E>>k)+(p-=h)]=S<<24|y<<16|b|0,0!==p;);for(h=1<<w-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,D++,0==--_[w]){if(w===P)break;w=t[n+d[D]]}if(L<w&&(E&m)!==g){for(0===k&&(k=L),x+=T,A=1<<(I=w-k);I+k<P&&!((A-=_[I+k])<=0);)I++,A<<=1;if(R+=1<<I,1===e&&852<R||2===e&&592<R)return 1;u[g=E&m]=L<<24|I<<16|x-c|0}}return 0!==E&&(u[x+E]=w-k<<24|64<<16|0),f.bits=L,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,o=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,l=29,u=256,c=u+1+l,d=30,f=19,h=2*c+1,p=15,g=16,m=7,x=256,v=16,S=17,y=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(c+2));a(T);var P=new Array(2*d);a(P);var L=new Array(512);a(L);var I=new Array(256);a(I);var k=new Array(l);a(k);var A,R,E,O=new Array(d);function F(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function _(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?L[e]:L[256+(e>>>7)]}function q(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function N(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,q(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function U(e,t,n){N(e,n[2*t],n[2*t+1])}function B(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function Z(e,t,n){var r,i,o=new Array(p+1),a=0;for(r=1;r<=p;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=B(o[s]++,s))}}function Q(e){var t;for(t=0;t<c;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*x]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function z(e){8<e.bi_valid?q(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function G(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function V(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&G(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!G(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function W(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?U(e,i,t):(U(e,(o=I[i])+u+1,t),0!==(a=b[o])&&N(e,i-=k[o],a),U(e,o=M(--r),n),0!==(a=C[o])&&N(e,r-=O[o],a)),s<e.last_lit;);U(e,x,t)}function j(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)V(e,o,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],V(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,V(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,m=t.stat_desc.max_length,x=0;for(o=0;o<=p;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)m<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=m,x++),l[2*r+1]=o,u<r||(e.bl_count[o]++,a=0,g<=r&&(a=f[r-g]),s=l[2*r],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==x){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,x-=2}while(0<x);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)u<(i=e.heap[--n])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),Z(o,u,e.bl_count)}function H(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*v]++):s<=10?e.bl_tree[2*S]++:e.bl_tree[2*y]++,o=i,u=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4))}function X(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)for(;U(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(U(e,i,e.bl_tree),s--),U(e,v,e.bl_tree),N(e,s-3,2)):s<=10?(U(e,S,e.bl_tree),N(e,s-3,3)):(U(e,y,e.bl_tree),N(e,s-11,7));o=i,u=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4)}}a(O);var Y=!1;function K(e,t,n,i){N(e,(s<<1)+(i?1:0),3),function(e,t,n,i){z(e),i&&(q(e,n),q(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){Y||(function(){var e,t,n,r,i,o=new Array(p+1);for(r=n=0;r<l-1;r++)for(k[r]=n,e=0;e<1<<b[r];e++)I[n++]=r;for(I[n-1]=r,r=i=0;r<16;r++)for(O[r]=i,e=0;e<1<<C[r];e++)L[i++]=r;for(i>>=7;r<d;r++)for(O[r]=i<<7,e=0;e<1<<C[r]-7;e++)L[256+i++]=r;for(t=0;t<=p;t++)o[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,o[8]++;for(;e<=255;)T[2*e+1]=9,e++,o[9]++;for(;e<=279;)T[2*e+1]=7,e++,o[7]++;for(;e<=287;)T[2*e+1]=8,e++,o[8]++;for(Z(T,c+1,o),e=0;e<d;e++)P[2*e+1]=5,P[2*e]=B(e,5);A=new F(T,b,u+1,c,p),R=new F(P,C,0,d,p),E=new F(new Array(0),w,0,f,m)}(),Y=!0),e.l_desc=new _(e.dyn_ltree,A),e.d_desc=new _(e.dyn_dtree,R),e.bl_desc=new _(e.bl_tree,E),e.bi_buf=0,e.bi_valid=0,Q(e)},n._tr_stored_block=K,n._tr_flush_block=function(e,t,n,r){var a,s,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),j(e,e.l_desc),j(e,e.d_desc),l=function(e){var t;for(H(e,e.dyn_ltree,e.l_desc.max_code),H(e,e.dyn_dtree,e.d_desc.max_code),j(e,e.bl_desc),t=f-1;3<=t&&0===e.bl_tree[2*D[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?K(e,t,n,r):4===e.strategy||s===a?(N(e,2+(r?1:0),3),W(e,T,P)):(N(e,4+(r?1:0),3),function(e,t,n,r){var i;for(N(e,t-257,5),N(e,n-1,5),N(e,r-4,4),i=0;i<r;i++)N(e,e.bl_tree[2*D[i]+1],3);X(e,e.dyn_ltree,t-1),X(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),W(e,e.dyn_ltree,e.dyn_dtree)),Q(e),r&&z(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(I[n]+u+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){N(e,2,3),U(e,x,T),function(e){16===e.bi_valid?(q(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},7665:function(e,t,n){e=n.nmd(e);var r=function(){var e={};return e.floodFill=function(e,t,n,r,i,o){return o?function(e,t,n,r,i){var o,a,s,l,u,c,d,f,h,p,g=e.data,m=e.width,x=e.height,v=e.bytes,S=-1,y=m+1,b=-1,C=x+1,w=n*m+t,D=new Uint8Array(m*x),T=new Uint8Array(i||m*x);if(1===T[w])return null;var P=[g[w*=v],g[w+1],g[w+2],g[w+3]],L=[{y:n,left:t-1,right:t+1,dir:1}];do{for(p=!1,a=(l=L.shift()).left+1;a<l.right;a++)if(w=((d=l.y*m)+a)*v,1!==T[d+a]&&(p=!0,D[d+a]=1,T[d+a]=1,!((o=g[w]-P[0])>r||o<-r)&&!((o=g[w+1]-P[1])>r||o<-r)&&!((o=g[w+2]-P[2])>r||o<-r))){for(c=a-1;c>-1&&(w=(f=d+c)*v,1!==T[f])&&(D[f]=1,T[f]=1,c--,!((o=g[w]-P[0])>r||o<-r))&&!((o=g[w+1]-P[1])>r||o<-r)&&!((o=g[w+2]-P[2])>r||o<-r););for(u=a+1;u<m&&(w=(h=d+u)*v,1!==T[h])&&(D[h]=1,T[h]=1,u++,!((o=g[w]-P[0])>r||o<-r))&&!((o=g[w+1]-P[1])>r||o<-r)&&!((o=g[w+2]-P[2])>r||o<-r););c<y&&(y=c+1),u>S&&(S=u-1),(s=l.y-l.dir)>=0&&s<x&&(c<l.left&&L.push({y:s,left:c,right:l.left,dir:-l.dir}),l.right<u&&L.push({y:s,left:l.right,right:u,dir:-l.dir})),(s=l.y+l.dir)>=0&&s<x&&c<u&&L.push({y:s,left:c,right:u,dir:l.dir})}p&&(l.y<C&&(C=l.y),l.y>b&&(b=l.y))}while(L.length>0);return{data:D,width:e.width,height:e.height,bounds:{minX:y,minY:C,maxX:S,maxY:b}}}(e,t,n,r,i):function(e,t,n,r,i){var o,a,s,l,u,c,d,f,h,p,g=e.data,m=e.width,x=e.height,v=e.bytes,S=-1,y=m+1,b=-1,C=x+1,w=n*m+t,D=new Uint8Array(m*x),T=new Uint8Array(i||m*x);if(1===T[w])return null;var P=[g[w*=v],g[w+1],g[w+2],g[w+3]],L=[{y:n,left:t-1,right:t+1,dir:1}];do{for(p=!1,a=(l=L.shift()).left+1;a<l.right;a++)if(w=((d=l.y*m)+a)*v,1!==T[d+a]&&!((o=g[w]-P[0])>r||o<-r)&&!((o=g[w+1]-P[1])>r||o<-r)&&!((o=g[w+2]-P[2])>r||o<-r)){for(p=!0,D[d+a]=1,T[d+a]=1,c=a-1;c>-1&&(w=(f=d+c)*v,1!==T[f])&&!((o=g[w]-P[0])>r||o<-r)&&!((o=g[w+1]-P[1])>r||o<-r)&&!((o=g[w+2]-P[2])>r||o<-r);)D[f]=1,T[f]=1,c--;for(u=a+1;u<m&&(w=(h=d+u)*v,1!==T[h])&&!((o=g[w]-P[0])>r||o<-r)&&!((o=g[w+1]-P[1])>r||o<-r)&&!((o=g[w+2]-P[2])>r||o<-r);)D[h]=1,T[h]=1,u++;c<y&&(y=c+1),u>S&&(S=u-1),(s=l.y-l.dir)>=0&&s<x&&(c<l.left&&L.push({y:s,left:c,right:l.left,dir:-l.dir}),l.right<u&&L.push({y:s,left:l.right,right:u,dir:-l.dir})),(s=l.y+l.dir)>=0&&s<x&&c<u&&L.push({y:s,left:c,right:u,dir:l.dir})}p&&(l.y<C&&(C=l.y),l.y>b&&(b=l.y))}while(L.length>0);return{data:D,width:e.width,height:e.height,bounds:{minX:y,minY:C,maxX:S,maxY:b}}}(e,t,n,r,i)},e.gaussBlur=function(e,t){var n,r,i,o,a,s,l,u=2*t+1,c=t*t,d=new Float32Array(u),f=0,h=e.width,p=e.height,g=e.data,m=e.bounds.minX,x=e.bounds.maxX,v=e.bounds.minY,S=e.bounds.maxY;for(n=0;n<t;n++){var y=(t-n)*(t-n),b=Math.exp(-y/(2*c))/(2*Math.PI*c);d[t+n]=d[t-n]=b,f+=2*b}for(n=0;n<u;n++)d[n]/=f;var C=new Uint8Array(h*p),w=t+h,D=t+p;for(a=v;a<S+1;a++)for(o=m;o<x+1;o++){for(s=0,l=w-o<u?w-o:u,i=(r=a*h+o)-t,n=t-o>0?t-o:0;n<l;n++)s+=g[i+n]*d[n];for(l=D-a<u?D-a:u,i=r-t*h,n=t-a>0?t-a:0;n<l;n++)s+=g[i+n*h]*d[n];C[r]=s>.5?1:0}return{data:C,width:h,height:p,bounds:{minX:m,minY:v,maxX:x,maxY:S}}},e.gaussBlurOnlyBorder=function(e,t,n){var r,i,o,a,s,l,u,c,d,f,h=function(e,t,n){var r,i,o,a,s,l,u,c=e.width,d=e.height,f=e.data,h=new Uint8Array(f),p=e.bounds.minX,g=e.bounds.maxX,m=e.bounds.minY,x=e.bounds.maxY,v=c*d,S=new Uint8Array(v),y=[],b=Math.max(p,1),C=Math.min(g,c-2),w=Math.max(m,1),D=Math.min(x,d-2);if(n&&n.length>0)for(s=0;s<v;s++)1===n[s]&&(h[s]=1);for(a=w;a<D+1;a++)for(r=b;r<C+1;r++)0!==f[s=a*c+r]&&(l=s+c,u=s-c,0!==h[s+1]&&0!==h[s-1]&&0!==h[l]&&0!==h[l+1]&&0!==h[l-1]&&0!==h[u]&&0!==h[u+1]&&0!==h[u-1]||y.push(s));if(0==p)for(a=m;a<x+1;a++)1===f[a*c]&&y.push(a*c);if(g==c-1)for(a=m;a<x+1;a++)1===f[a*c+g]&&y.push(a*c+g);if(0==m)for(r=p;r<g+1;r++)1===f[r]&&y.push(r);if(x==d-1)for(r=p;r<g+1;r++)1===f[x*c+r]&&y.push(x*c+r);var T,P=[],L=t+c,I=t+d,k=2*t+1;for(v=y.length,o=0;o<v;o++){for(S[s=y[o]]=1,P.push(s),a=(s-(r=s%c))/c,T=L-r<k?L-r:k,l=s-t,i=t-r>0?t-r:0;i<T;i++)0===S[u=l+i]&&(S[u]=1,P.push(u));for(T=I-a<k?I-a:k,l=s-t*c,i=t-a>0?t-a:0;i<T;i++)0===S[u=l+i*c]&&(S[u]=1,P.push(u))}return P}(e,t,n),p=2*t+1,g=2*t*t,m=new Float32Array(p),x=0,v=e.width,S=e.height,y=e.data,b=e.bounds.minX,C=e.bounds.maxX,w=e.bounds.minY,D=e.bounds.maxY,T=h.length;for(o=0;o<t;o++)i=(t-o)*(t-o),r=Math.exp(-i/g)/Math.PI,m[t+o]=m[t-o]=r,x+=2*r;for(o=0;o<p;o++)m[o]/=x;var P=new Uint8Array(y),L=t+v,I=t+S;for(o=0;o<T;o++){for(d=0,c=((s=h[o])-(u=s%v))/v,f=L-u<p?L-u:p,l=s-t,a=t-u>0?t-u:0;a<f;a++)d+=y[l+a]*m[a];if(d>.5)P[s]=1,u<b&&(b=u),u>C&&(C=u),c<w&&(w=c),c>D&&(D=c);else{for(f=I-c<p?I-c:p,l=s-t*v,a=t-c>0?t-c:0;a<f;a++)d+=y[l+a*v]*m[a];d>.5?(P[s]=1,u<b&&(b=u),u>C&&(C=u),c<w&&(w=c),c>D&&(D=c)):P[s]=0}}return{data:P,width:v,height:S,bounds:{minX:b,minY:w,maxX:C,maxY:D}}},e.createBorderMask=function(e){var t,n,r,i,o,a=e.width,s=e.height,l=e.data,u=e.bounds.minX,c=e.bounds.maxX,d=e.bounds.minY,f=e.bounds.maxY,h=c-u+1,p=f-d+1,g=new Uint8Array(h*p),m=Math.max(u,1),x=Math.min(c,a-2),v=Math.max(d,1),S=Math.min(f,s-2);for(n=v;n<S+1;n++)for(t=m;t<x+1;t++)0!==l[r=n*a+t]&&(i=r+a,o=r-a,0!==l[r+1]&&0!==l[r-1]&&0!==l[i]&&0!==l[i+1]&&0!==l[i-1]&&0!==l[o]&&0!==l[o+1]&&0!==l[o-1]||(g[(n-d)*h+(t-u)]=1));if(0==u)for(n=d;n<f+1;n++)1===l[n*a]&&(g[(n-d)*h]=1);if(c==a-1)for(n=d;n<f+1;n++)1===l[n*a+c]&&(g[(n-d)*h+(c-u)]=1);if(0==d)for(t=u;t<c+1;t++)1===l[t]&&(g[t-u]=1);if(f==s-1)for(t=u;t<c+1;t++)1===l[f*a+t]&&(g[(f-d)*h+(t-u)]=1);return{data:g,width:h,height:p,offset:{x:u,y:d}}},e.getBorderIndices=function(e){var t,n,r,i,o,a=e.width,s=e.height,l=e.data,u=[],c=a-1,d=s-1;for(n=1;n<d;n++)for(t=1;t<c;t++)0!==l[r=n*a+t]&&(i=r+a,o=r-a,0!==l[r+1]&&0!==l[r-1]&&0!==l[i]&&0!==l[i+1]&&0!==l[i-1]&&0!==l[o]&&0!==l[o+1]&&0!==l[o-1]||u.push(r));for(n=0;n<s;n++)1===l[n*a]&&u.push(n*a);for(t=0;t<a;t++)1===l[t]&&u.push(t);for(r=a-1,n=0;n<s;n++)1===l[n*a+r]&&u.push(n*a+r);for(r=(s-1)*a,t=0;t<a;t++)1===l[r+t]&&u.push(r+t);return u},e.traceContours=function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m=function(e){var t,n,r=e.width,i=e.data,o=e.bounds.minX,a=e.bounds.maxX,s=e.bounds.minY,l=e.bounds.maxY,u=a-o+3,c=l-s+3,d=new Uint8Array(u*c);for(n=s;n<l+1;n++)for(t=o;t<a+1;t++)1===i[n*r+t]&&(d[(n-s+1)*u+(t-o+1)]=1);return{data:d,width:u,height:c,offset:{x:o-1,y:s-1}}}(e),x=[],v=0,S=m.width,y=2*S,b=m.height,C=m.data,w=m.offset.x,D=m.offset.y,T=new Uint8Array(C),P=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];for(i=1;i<b-1;i++)for(r=1;r<S-1;r++)if(1===C[o=i*S+r])for(t=-S;t<y;t+=y)if(0===C[o+t]&&0===T[o+t]){for(v++,s=[],u=(l=t===S)?2:6,f=h=c={x:r,y:i},d=null;;){for(T[f.y*S+f.x]=v,n=0;n<8;n++){if(g=P[u=(u+1)%8],1===C[a=(p={x:f.x+g[0],y:f.y+g[1]}).y*S+p.x]){T[a]=v;break}T[a]=-1,p=null}if(null===p)break;if(f=p,d){if(h.x===c.x&&h.y===c.y&&f.x===d.x&&f.y===d.y)break}else d=p;s.push({x:h.x+w,y:h.y+D}),h=f,u=(u+4)%8}null!=p&&(s.push({x:c.x+w,y:c.y+D}),x.push({inner:l,label:v,points:s}))}return x},e.simplifyContours=function(e,t,n){var r,i,o,a,s,l,u,c,d,f,h,p,g,m,x,v,S,y,b,C,w,D=e.length,T=[];for(i=0;i<D;i++)if(s=(a=e[i]).points,(l=a.points.length)<n){for(u=[],o=0;o<l;o++)u.push({x:s[o].x,y:s[o].y});T.push({inner:a.inner,label:a.label,points:u,initialCount:l})}else{c=[0,l-1],d=[{first:0,last:l-1}];do{if(!((f=d.shift()).last<=f.first+1)){for(h=-1,p=f.first,r=f.first+1;r<f.last;r++)b=s[r],C=s[f.first],w=s[f.last],S=b.x-C.x,y=b.y-C.y,m=Math.sqrt(S*S+y*y),S=b.x-w.x,y=b.y-w.y,x=Math.sqrt(S*S+y*y),S=C.x-w.x,y=C.y-w.y,v=Math.sqrt(S*S+y*y),(g=m>=Math.sqrt(x*x+v*v)?x:x>=Math.sqrt(m*m+v*v)?m:Math.abs((y*b.x-S*b.y+C.x*w.y-w.x*C.y)/v))>h&&(p=r,h=g);h>t&&(c.push(p),d.push({first:f.first,last:p}),d.push({first:p,last:f.last}))}}while(d.length>0);for(u=[],l=c.length,c.sort((function(e,t){return e-t})),o=0;o<l;o++)u.push({x:s[c[o]].x,y:s[c[o]].y});T.push({inner:a.inner,label:a.label,points:u,initialCount:a.points.length})}return T},e}();null!==e&&(e.exports=r),"undefined"!==typeof window&&null!==window&&(window.MagicWand=r)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function S(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),L=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var M,q=Object.assign;function N(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function Z(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case C:return"Portal";case T:return"Profiler";case D:return"StrictMode";case k:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case L:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:Q(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(t);case 8:return t===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function j(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&S(e,"checked",t,!1)}function $(e,t){K(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var xe=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,we=null,De=null;function Te(e){if(e=Si(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=bi(t),Ce(e.stateNode,e.type,t))}}function Pe(e){we?De?De.push(e):De=[e]:we=e}function Le(){if(we){var e=we,t=De;if(De=we=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function ke(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==we||null!==De)&&(ke(),Le())}}function Ee(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(c)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ce){Oe=!1}function _e(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,qe=null,Ne=!1,Ue=null,Be={onError:function(e){Me=!0,qe=e}};function Ze(e,t,n,r,i,o,a,s,l){Me=!1,qe=null,_e.apply(Be,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Qe(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var je=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ke=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var St=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Ct,wt,Dt,Tt,Pt=!1,Lt=[],It=null,kt=null,At=null,Rt=new Map,Et=new Map,Ot=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _t(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Si(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function qt(e){var t=vi(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Si(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Ut(e,t,n){Nt(e)&&n.delete(t)}function Bt(){Pt=!1,null!==It&&Nt(It)&&(It=null),null!==kt&&Nt(kt)&&(kt=null),null!==At&&Nt(At)&&(At=null),Rt.forEach(Ut),Et.forEach(Ut)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Qt(e){function t(t){return Zt(t,e)}if(0<Lt.length){Zt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Zt(It,e),null!==kt&&Zt(kt,e),null!==At&&Zt(At,e),Rt.forEach(t),Et.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)qt(n),null===n.blockedOn&&Ot.shift()}var zt=y.ReactCurrentBatchConfig,Gt=!0;function Vt(e,t,n,r){var i=St,o=zt.transition;zt.transition=null;try{St=1,jt(e,t,n,r)}finally{St=i,zt.transition=o}}function Wt(e,t,n,r){var i=St,o=zt.transition;zt.transition=null;try{St=4,jt(e,t,n,r)}finally{St=i,zt.transition=o}}function jt(e,t,n,r){if(Gt){var i=Xt(e,t,n,r);if(null===i)Gr(e,t,r,Ht,n),_t(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return kt=Mt(kt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Et.set(o,Mt(Et.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(_t(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==i;){var o=Si(i);if(null!==o&&bt(o),null===(o=Xt(e,t,n,r))&&Gr(e,t,r,Ht,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Ht=null;function Xt(e,t,n,r){if(Ht=null,null!==(e=vi(e=be(r))))if(null===(t=Qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=q({},un,{view:0,detail:0}),fn=on(dn),hn=q({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),gn=on(q({},hn,{dataTransfer:0})),mn=on(q({},dn,{relatedTarget:0})),xn=on(q({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=q({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=on(vn),yn=on(q({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Tn(){return Dn}var Pn=q({},dn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=on(Pn),In=on(q({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=on(q({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=on(q({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=q({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),En=on(Rn),On=[9,13,27,32],Fn=c&&"CompositionEvent"in window,_n=null;c&&"documentMode"in document&&(_n=document.documentMode);var Mn=c&&"TextEvent"in window&&!_n,qn=c&&(!Fn||_n&&8<_n&&11>=_n),Nn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Vn(e,t,n,r){Pe(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,jn=null;function Hn(e){Nr(e,0)}function Xn(e){if(j(yi(e)))return e}function Yn(e,t){if("change"===e)return t}var Kn=!1;if(c){var $n;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Kn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),jn=Wn=null)}function nr(e){if("value"===e.propertyName&&Xn(jn)){var t=[];Vn(t,jn,e,be(e)),Re(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),jn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(jn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,xr=null,vr=null,Sr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==mr||mr!==H(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(xr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},Dr={};function Tr(e){if(wr[e])return wr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Dr)return wr[e]=n[t];return e}c&&(Dr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Pr=Tr("animationend"),Lr=Tr("animationiteration"),Ir=Tr("animationstart"),kr=Tr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Fr=Rr[Or];Er(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Er(Pr,"onAnimationEnd"),Er(Lr,"onAnimationIteration"),Er(Ir,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(kr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function qr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var c=qe;Me=!1,qe=null,Ne||(Ne=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;qr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;qr(i,s,u),o=l}}}if(Ne)throw e=Ue,Ne=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Zr]){e[Zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Vt;break;case 4:i=Wt;break;default:i=jt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,i=be(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Ln;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case Pr:case Lr:case Ir:l=xn;break;case kr:l=An;break;case"scroll":l=fn;break;case"wheel":l=En;break;case"copy":case"cut":case"paste":l=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=Ee(p,f))&&c.push(Vr(p,g,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(d=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:yi(l),h=null==u?s:yi(u),(s=new c(g,p+"leave",l,n,i)).target=d,s.relatedTarget=h,g=null,vi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(f=u,p=0,h=c=l;h;h=jr(h))p++;for(h=0,g=f;g;g=jr(g))h++;for(;0<p-h;)c=jr(c),p--;for(;0<h-p;)f=jr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=jr(c),f=jr(f)}c=null}else c=null;null!==l&&Hr(a,s,l,c,!1),null!==u&&null!==d&&Hr(a,d,u,c,!0)}if("select"===(l=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Yn;else if(Gn(s))if(Kn)m=ar;else{m=ir;var x=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Vn(a,m,n,i):(x&&x(e,s,r),"focusout"===e&&(x=s._wrapperState)&&x.controlled&&"number"===s.type&&ee(s,"number",s.value)),x=r?yi(r):window,e){case"focusin":(Gn(x)||"true"===x.contentEditable)&&(mr=x,xr=r,vr=null);break;case"focusout":vr=xr=mr=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,yr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":yr(a,n,i)}var v;if(Fn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Qn?Bn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(qn&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Qn&&(v=en()):($t="value"in(Kt=i)?Kt.value:Kt.textContent,Qn=!0)),0<(x=Wr(r,S)).length&&(S=new yn(S,e,null,n,i),a.push({event:S,listeners:x}),v?S.data=v:null!==(v=Zn(n))&&(S.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Nn);case"textInput":return(e=t.data)===Nn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!Fn&&Bn(e,t)?(e=en(),Jt=$t=Kt=null,Qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Nr(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ee(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Ee(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ee(n,o))&&a.unshift(Vr(n,l,s)):i||null!=(l=Ee(n,o))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,xi="__reactHandles$"+di;function vi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function Si(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function bi(e){return e[hi]||null}var Ci=[],wi=-1;function Di(e){return{current:e}}function Ti(e){0>wi||(e.current=Ci[wi],Ci[wi]=null,wi--)}function Pi(e,t){wi++,Ci[wi]=e.current,e.current=t}var Li={},Ii=Di(Li),ki=Di(!1),Ai=Li;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ei(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(ki),Ti(Ii)}function Fi(e,t,n){if(Ii.current!==Li)throw Error(o(168));Pi(Ii,t),Pi(ki,n)}function _i(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return q({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Ai=Ii.current,Pi(Ii,e),Pi(ki,ki.current),!0}function qi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=_i(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(ki),Ti(Ii),Pi(Ii,e)):Ti(ki),Pi(ki,n)}var Ni=null,Ui=!1,Bi=!1;function Zi(e){null===Ni?Ni=[e]:Ni.push(e)}function Qi(){if(!Bi&&null!==Ni){Bi=!0;var e=0,t=St;try{var n=Ni;for(St=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,Ui=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),je(Je,Qi),i}finally{St=t,Bi=!1}}return null}var zi=[],Gi=0,Vi=null,Wi=0,ji=[],Hi=0,Xi=null,Yi=1,Ki="";function $i(e,t){zi[Gi++]=Wi,zi[Gi++]=Vi,Vi=e,Wi=t}function Ji(e,t,n){ji[Hi++]=Yi,ji[Hi++]=Ki,ji[Hi++]=Xi,Xi=e;var r=Yi;e=Ki;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ki=o+e}else Yi=1<<o|n<<i|r,Ki=e}function eo(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function to(e){for(;e===Vi;)Vi=zi[--Gi],zi[Gi]=null,Wi=zi[--Gi],zi[Gi]=null;for(;e===Xi;)Xi=ji[--Hi],ji[Hi]=null,Ki=ji[--Hi],ji[Hi]=null,Yi=ji[--Hi],ji[Hi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=y.ReactCurrentBatchConfig;function xo(e,t){if(e&&e.defaultProps){for(var n in t=q({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=Di(null),So=null,yo=null,bo=null;function Co(){bo=yo=So=null}function wo(e){var t=vo.current;Ti(vo),e._currentValue=t}function Do(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){So=e,bo=yo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},null===yo){if(null===So)throw Error(o(308));yo=e,So.dependencies={lanes:0,firstContext:e}}else yo=yo.next=e;return t}var Lo=null;function Io(e){null===Lo?Lo=[e]:Lo.push(e)}function ko(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _o(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function qo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function No(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(h,d,f):p)||void 0===f)break e;d=q({},d,f);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:q({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Qo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_o(e,o,i))&&(nu(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_o(e,o,i))&&(nu(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=_o(e,i,r))&&(nu(t,e,r,n),Mo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Go(e,t,n){var r=!1,i=Li,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Ei(t)?Ai:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Eo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Ei(t)?Ai:Ii.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Qo.enqueueReplaceState(i,i.state,null),No(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function jo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ho(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&Xo(o)===t.type)?((r=i(t,n.props)).ref=jo(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=jo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=_u(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=jo(e,null,t),n.return=e,n;case C:return(t=Nu(t,e.mode,n)).return=e,t;case E:return f(e,(0,t._init)(t._payload),n)}if(te(t)||_(t))return(t=_u(t,e.mode,n,null)).return=e,t;Ho(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case C:return n.key===i?c(e,t,n,r):null;case E:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||_(n))return null!==i?null:d(e,t,n,r,null);Ho(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||_(r))return d(t,e=e.get(n)||null,r,i,null);Ho(t,r)}return null}function g(i,o,s,l){for(var u=null,c=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var x=h(i,d,s[g],l);if(null===x){null===d&&(d=m);break}e&&d&&null===x.alternate&&t(i,d),o=a(x,o,g),null===c?u=x:c.sibling=x,c=x,d=m}if(g===s.length)return n(i,d),io&&$i(i,g),u;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],l))&&(o=a(d,o,g),null===c?u=d:c.sibling=d,c=d);return io&&$i(i,g),u}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),io&&$i(i,g),u}function m(i,s,l,u){var c=_(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=s,m=s=0,x=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(x=g,g=null):x=g.sibling;var S=h(i,g,v.value,u);if(null===S){null===g&&(g=x);break}e&&g&&null===S.alternate&&t(i,g),s=a(S,s,m),null===d?c=S:d.sibling=S,d=S,g=x}if(v.done)return n(i,g),io&&$i(i,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=f(i,v.value,u))&&(s=a(v,s,m),null===d?c=v:d.sibling=v,d=v);return io&&$i(i,m),c}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=a(v,s,m),null===d?c=v:d.sibling=v,d=v);return e&&g.forEach((function(e){return t(i,e)})),io&&$i(i,m),c}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===w&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case b:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===w){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===E&&Xo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=jo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===w?((o=_u(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Fu(a.type,a.key,a.props,null,r.mode,l)).ref=jo(r,o,a),l.return=r,r=l)}return s(r);case C:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Nu(a,r.mode,l)).return=r,r=o}return s(r);case E:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(_(a))return m(r,o,a,l);Ho(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=qu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Ko=Yo(!0),$o=Yo(!1),Jo={},ea=Di(Jo),ta=Di(Jo),na=Di(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Pi(na,t),Pi(ta,e),Pi(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),Pi(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Pi(ta,e),Pi(ea,n))}function sa(e){ta.current===e&&(Ti(ea),Ti(ta))}var la=Di(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function da(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var fa=y.ReactCurrentDispatcher,ha=y.ReactCurrentBatchConfig,pa=0,ga=null,ma=null,xa=null,va=!1,Sa=!1,ya=0,ba=0;function Ca(){throw Error(o(321))}function wa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Da(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),Sa){a=0;do{if(Sa=!1,ya=0,25<=a)throw Error(o(301));a+=1,xa=ma=null,t.updateQueue=null,fa.current=us,e=n(r,i)}while(Sa)}if(fa.current=as,t=null!==ma&&null!==ma.next,pa=0,xa=ma=ga=null,va=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==ya;return ya=0,e}function Pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xa?ga.memoizedState=xa=e:xa=xa.next=e,xa}function La(){if(null===ma){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===xa?ga.memoizedState:xa.next;if(null!==t)xa=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===xa?ga.memoizedState=xa=e:xa=xa.next=e}return xa}function Ia(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=La(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((pa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,ga.lanes|=d,Ml|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=La(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ys=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ra(){}function Ea(e,t){var n=ga,r=La(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ys=!0),r=r.queue,Ga(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==xa&&1&xa.memoizedState.tag){if(n.flags|=2048,Ua(9,Fa.bind(null,n,r,i,t),void 0,null),null===kl)throw Error(o(349));0!==(30&pa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fa(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&qa(e)}function _a(e,t,n){return n((function(){Ma(t)&&qa(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function qa(e){var t=Ao(e,1);null!==t&&nu(t,e,1,-1)}function Na(e){var t=Pa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return La().memoizedState}function Za(e,t,n,r){var i=Pa();ga.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Qa(e,t,n,r){var i=La();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&wa(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}ga.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function za(e,t){return Za(8390656,8,e,t)}function Ga(e,t){return Qa(2048,8,e,t)}function Va(e,t){return Qa(4,2,e,t)}function Wa(e,t){return Qa(4,4,e,t)}function ja(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ha(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Qa(4,4,ja.bind(null,t,e),n)}function Xa(){}function Ya(e,t){var n=La();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=La();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ja(e,t){var n=St;St=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{St=n,ha.transition=r}}function es(){return La().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=ko(e,t,n,r))){nu(n,e,r,eu()),os(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Io(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=ko(e,t,i,r))&&(nu(n,e,r,i=eu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){Sa=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var as={readContext:Po,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useInsertionEffect:Ca,useLayoutEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useMutableSource:Ca,useSyncExternalStore:Ca,useId:Ca,unstable_isNewReconciler:!1},ss={readContext:Po,useCallback:function(e,t){return Pa().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Za(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Za(4194308,4,e,t)},useInsertionEffect:function(e,t){return Za(4,2,e,t)},useMemo:function(e,t){var n=Pa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Pa().memoizedState=e},useState:Na,useDebugValue:Xa,useDeferredValue:function(e){return Pa().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=Ja.bind(null,e[1]),Pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=Pa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===kl)throw Error(o(349));0!==(30&pa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(_a.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Fa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Pa(),t=kl.identifierPrefix;if(io){var n=Ki;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ya++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Po,useCallback:Ya,useContext:Po,useEffect:Ga,useImperativeHandle:Ha,useInsertionEffect:Va,useLayoutEffect:Wa,useMemo:Ka,useReducer:ka,useRef:Ba,useState:function(){return ka(Ia)},useDebugValue:Xa,useDeferredValue:function(e){return $a(La(),ma.memoizedState,e)},useTransition:function(){return[ka(Ia)[0],La().memoizedState]},useMutableSource:Ra,useSyncExternalStore:Ea,useId:es,unstable_isNewReconciler:!1},us={readContext:Po,useCallback:Ya,useContext:Po,useEffect:Ga,useImperativeHandle:Ha,useInsertionEffect:Va,useLayoutEffect:Wa,useMemo:Ka,useReducer:Aa,useRef:Ba,useState:function(){return Aa(Ia)},useDebugValue:Xa,useDeferredValue:function(e){var t=La();return null===ma?t.memoizedState=e:$a(t,ma.memoizedState,e)},useTransition:function(){return[Aa(Ia)[0],La().memoizedState]},useMutableSource:Ra,useSyncExternalStore:Ea,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Vl=r),fs(0,t)},n}function gs(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function xs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,_o(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Ss=y.ReactCurrentOwner,ys=!1;function bs(e,t,n,r){t.child=null===e?$o(t,null,n,r):Ko(t,e.child,n,r)}function Cs(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=Da(e,t,n,r,o,i),n=Ta(),null===e||ys?(io&&n&&eo(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Eu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ds(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Ou(o,r)).ref=t.ref,e.return=t,t.child=e}function Ds(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(ys=!0)}}return Ls(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Ol,El),El|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Ol,El),El|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Pi(Ol,El),El|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pi(Ol,El),El|=r;return bs(e,t,i,n),t.child}function Ps(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ls(e,t,n,r,i){var o=Ei(n)?Ai:Ii.current;return o=Ri(t,o),To(t,i),n=Da(e,t,n,r,o,i),r=Ta(),null===e||ys?(io&&r&&eo(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Is(e,t,n,r,i){if(Ei(n)){var o=!0;Mi(t)}else o=!1;if(To(t,i),null===t.stateNode)zs(e,t),Go(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Po(u):u=Ri(t,u=Ei(n)?Ai:Ii.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Vo(t,a,r,u),Ro=!1;var f=t.memoizedState;a.state=f,No(t,r,a,i),l=t.memoizedState,s!==r||f!==l||ki.current||Ro?("function"===typeof c&&(Zo(t,n,c,r),l=t.memoizedState),(s=Ro||zo(t,n,s,r,f,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:xo(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Ri(t,l=Ei(n)?Ai:Ii.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&Vo(t,a,r,l),Ro=!1,f=t.memoizedState,a.state=f,No(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||ki.current||Ro?("function"===typeof h&&(Zo(t,n,h,r),p=t.memoizedState),(u=Ro||zo(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,o,i)}function ks(e,t,n,r,i,o){Ps(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&qi(t,n,!1),Gs(e,t,o);r=t.stateNode,Ss.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,i&&qi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),ia(e,t.containerInfo)}function Rs(e,t,n,r,i){return po(),go(i),t.flags|=256,bs(e,t,n,r),t.child}var Es,Os,Fs,_s={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function qs(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Pi(la,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mu(l,i,0,null),e=_u(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=_s,e):Ns(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(a=_u(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ko(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=_s,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(r=kl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nu(r,e,i,-1))}return gu(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Lu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(ji[Hi++]=Yi,ji[Hi++]=Ki,ji[Hi++]=Xi,Yi=e.id,Ki=e.overflow,Xi=t),(t=Ns(t,r.children)).flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ou(r,s):(s=_u(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=_s,i}return e=(s=e.child).sibling,i=Ou(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ns(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&go(r),Ko(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Do(e.return,t,n)}function Zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zs(t,!0,n,null,o);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function js(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ei(t.type)&&Oi(),Ws(t),null;case 3:return r=t.stateNode,oa(),Ti(ki),Ti(Ii),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ws(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<_r.length;i++)Ur(_r[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,Es(e,t),t.stateNode=e;e:{switch(l=Se(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<_r.length;i++)Ur(_r[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=q({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?me(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&S(e,a,c,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Fs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ti(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Fl&&(Fl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return oa(),null===e&&Qr(t.stateNode.containerInfo),Ws(t),null;case 10:return wo(t.type._context),Ws(t),null;case 19:if(Ti(la),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ke()>Ql&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ws(t),null}else 2*Ke()-a.renderingStartTime>Ql&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,n=la.current,Pi(la,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&El)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Hs(e,t){switch(to(t),t.tag){case 1:return Ei(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(ki),Ti(Ii),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(la),null;case 4:return oa(),null;case 10:return wo(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Es=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=q({},i,{value:void 0}),r=q({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Fs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,Ks="function"===typeof WeakSet?WeakSet:Set,$s=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Du(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Du(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[gi],delete t[mi],delete t[xi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Js(n,t);case 6:var r=cl,i=dl;cl=null,fl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Qt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ys&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Du(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fl(e,t,n),Ys=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));hl(a,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Du(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),xl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Du(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Du(e,e.return,m)}}break;case 1:gl(t,e),xl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(gl(t,e),xl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Du(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&K(i,a),Se(l,s);var c=Se(l,a);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):S(i,d,f,c)}switch(l){case"input":$(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(m){Du(e,e.return,m)}}break;case 6:if(gl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Du(e,e.return,m)}}break;case 3:if(gl(t,e),xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Qt(t.containerInfo)}catch(m){Du(e,e.return,m)}break;case 4:default:gl(t,e),xl(e);break;case 13:gl(t,e),xl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Zl=Ke())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||d,gl(t,e),Ys=c):gl(t,e),xl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(f=$s=d;null!==$s;){switch(p=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Js(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Du(r,n,m)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){bl(f);continue}}null!==p?(p.return=h,$s=p):bl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(m){Du(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Du(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),xl(e),4&r&&pl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Du(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$s=e,Sl(e,t,n)}function Sl(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var u=Ys;if(Xs=a,(Ys=l)&&!u)for($s=i;null!==$s;)l=(a=$s).child,22===a.tag&&null!==a.memoizedState?Cl(i):null!==l?(l.return=a,$s=l):Cl(i);for(;null!==o;)$s=o,Sl(o,t,n),o=o.sibling;$s=i,Xs=s,Ys=u}yl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$s=o):yl(e)}}function yl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Qt(f)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&il(t)}catch(h){Du(t,t.return,h)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function bl(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function Cl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Du(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Du(t,i,l)}}var o=t.return;try{il(t)}catch(l){Du(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Du(t,a,l)}}}catch(l){Du(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var wl,Dl=Math.ceil,Tl=y.ReactCurrentDispatcher,Pl=y.ReactCurrentOwner,Ll=y.ReactCurrentBatchConfig,Il=0,kl=null,Al=null,Rl=0,El=0,Ol=Di(0),Fl=0,_l=null,Ml=0,ql=0,Nl=0,Ul=null,Bl=null,Zl=0,Ql=1/0,zl=null,Gl=!1,Vl=null,Wl=null,jl=!1,Hl=null,Xl=0,Yl=0,Kl=null,$l=-1,Jl=0;function eu(){return 0!==(6&Il)?Ke():-1!==$l?$l:$l=Ke()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Rl?Rl&-Rl:null!==mo.transition?(0===Jl&&(Jl=gt()),Jl):0!==(e=St)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Kl=null,Error(o(185));xt(e,n,r),0!==(2&Il)&&e===kl||(e===kl&&(0===(2&Il)&&(ql|=n),4===Fl&&su(e,Rl)),ru(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Ql=Ke()+500,Ui&&Qi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===kl?Rl:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Ui=!0,Zi(e)}(lu.bind(null,e)):Zi(lu.bind(null,e)),ai((function(){0===(6&Il)&&Qi()})),n=null;else{switch(yt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=ku(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if($l=-1,Jl=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=ft(e,e===kl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Il;Il|=2;var a=pu();for(kl===e&&Rl===t||(zl=null,Ql=Ke()+500,fu(e,t));;)try{vu();break}catch(l){hu(e,l)}Co(),Tl.current=a,Il=i,null!==Al?t=0:(kl=null,Rl=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=_l,fu(e,0),su(e,r),ru(e,Ke()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t))throw n=_l,fu(e,0),su(e,r),ru(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:bu(e,Bl,zl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Zl+500-Ke())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bu.bind(null,e,Bl,zl),t);break}bu(e,Bl,zl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dl(r/1960))-r)){e.timeoutHandle=ri(bu.bind(null,e,Bl,zl),r);break}bu(e,Bl,zl);break;default:throw Error(o(329))}}}return ru(e,Ke()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Bl,Bl=n,null!==t&&au(t)),e}function au(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function su(e,t){for(t&=~Nl,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Il))throw Error(o(327));Cu();var t=ft(e,0);if(0===(1&t))return ru(e,Ke()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=_l,fu(e,0),su(e,t),ru(e,Ke()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,Bl,zl),ru(e,Ke()),null}function uu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Ql=Ke()+500,Ui&&Qi())}}function cu(e){null!==Hl&&0===Hl.tag&&0===(6&Il)&&Cu();var t=Il;Il|=1;var n=Ll.transition,r=St;try{if(Ll.transition=null,St=1,e)return e()}finally{St=r,Ll.transition=n,0===(6&(Il=t))&&Qi()}}function du(){El=Ol.current,Ti(Ol)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:oa(),Ti(ki),Ti(Ii),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(la);break;case 10:wo(r.type._context);break;case 22:case 23:du()}n=n.return}if(kl=e,Al=e=Ou(e.current,null),Rl=El=t,Fl=0,_l=null,Nl=ql=Ml=0,Bl=Ul=null,null!==Lo){for(t=0;t<Lo.length;t++)if(null!==(r=(n=Lo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Lo=null}return e}function hu(e,t){for(;;){var n=Al;try{if(Co(),fa.current=as,va){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(pa=0,xa=ma=ga=null,Sa=!1,ya=0,Pl.current=null,null===n||null===n.return){Fl=1,_l=t,Al=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=xs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(a,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ms(a,c,t),gu();break e}u=Error(o(426))}else if(io&&1&l.mode){var x=xs(s);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),vs(x,s,l,0,t),go(cs(u,l));break e}}a=u=cs(u,l),4!==Fl&&(Fl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,qo(a,ps(0,u,t));break e;case 1:l=u;var v=a.type,S=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Wl||!Wl.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t,qo(a,gs(a,l,t));break e}}a=a.return}while(null!==a)}yu(n)}catch(y){t=y,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=Tl.current;return Tl.current=as,null===e?as:e}function gu(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===kl||0===(268435455&Ml)&&0===(268435455&ql)||su(kl,Rl)}function mu(e,t){var n=Il;Il|=2;var r=pu();for(kl===e&&Rl===t||(zl=null,fu(e,t));;)try{xu();break}catch(i){hu(e,i)}if(Co(),Il=n,Tl.current=r,null!==Al)throw Error(o(261));return kl=null,Rl=0,Fl}function xu(){for(;null!==Al;)Su(Al)}function vu(){for(;null!==Al&&!Xe();)Su(Al)}function Su(e){var t=wl(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?yu(e):Al=t,Pl.current=null}function yu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=js(n,t,El)))return void(Al=n)}else{if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Fl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Fl&&(Fl=5)}function bu(e,t,n){var r=St,i=Ll.transition;try{Ll.transition=null,St=1,function(e,t,n,r){do{Cu()}while(null!==Hl);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===kl&&(Al=kl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||jl||(jl=!0,ku(tt,(function(){return Cu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ll.transition,Ll.transition=null;var s=St;St=1;var l=Il;Il|=4,Pl.current=null,function(e,t){if(ei=Gt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(b){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==a||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===a&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,x=g.memoizedState,v=t.stateNode,S=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:xo(t.type,m),x);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(o(163))}}catch(b){Du(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Il=l,St=s,Ll.transition=a}else e.current=n;if(jl&&(jl=!1,Hl=e,Xl=i),0===(a=e.pendingLanes)&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Vl,Vl=null,e;0!==(1&Xl)&&0!==e.tag&&Cu(),0!==(1&(a=e.pendingLanes))?e===Kl?Yl++:(Yl=0,Kl=e):Yl=0,Qi()}(e,t,n,r)}finally{Ll.transition=i,St=r}return null}function Cu(){if(null!==Hl){var e=yt(Xl),t=Ll.transition,n=St;try{if(Ll.transition=null,St=16>e?16:e,null===Hl)var r=!1;else{if(e=Hl,Hl=null,Xl=0,0!==(6&Il))throw Error(o(331));var i=Il;for(Il|=4,$s=e.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for($s=c;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var f=d.child;if(null!==f)f.return=d,$s=f;else for(;null!==$s;){var h=(d=$s).sibling,p=d.return;if(ol(d),d===c){$s=null;break}if(null!==h){h.return=p,$s=h;break}$s=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(null!==m)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else e:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,$s=v;break e}$s=a.return}}var S=e.current;for($s=S;null!==$s;){var y=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,$s=y;else e:for(s=S;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(C){Du(l,l.return,C)}if(l===s){$s=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,$s=b;break e}$s=l.return}}if(Il=i,Qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(C){}r=!0}return r}finally{St=n,Ll.transition=t}}return!1}function wu(e,t,n){e=_o(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(xt(e,1,t),ru(e,t))}function Du(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=_o(t,e=gs(t,e=cs(n,e),1),1),e=eu(),null!==t&&(xt(t,1,e),ru(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,kl===e&&(Rl&n)===n&&(4===Fl||3===Fl&&(130023424&Rl)===Rl&&500>Ke()-Zl?fu(e,0):Nl|=n),ru(e,t)}function Pu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ao(e,t))&&(xt(e,t,n),ru(e,n))}function Lu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Pu(e,n)}function ku(e,t){return je(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Au(e,t,n,r)}function Eu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Eu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return _u(n.children,i,a,t);case D:s=8,i|=8;break;case T:return(e=Ru(12,n,t,2|i)).elementType=T,e.lanes=a,e;case k:return(e=Ru(13,n,t,i)).elementType=k,e.lanes=a,e;case A:return(e=Ru(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Mu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case L:s=9;break e;case I:s=11;break e;case R:s=14;break e;case E:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function _u(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function qu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Nu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,a,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ru(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eo(o),e}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qu(e){if(!e)return Li;e:{if(Qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ei(n))return _i(e,n,t)}return t}function zu(e,t,n,r,i,o,a,s,l){return(e=Bu(n,r,!0,e,0,o,0,s,l)).context=Qu(null),n=e.current,(o=Fo(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,_o(n,o,i),e.current.lanes=i,xt(e,i,r),ru(e,r),e}function Gu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=_o(i,t,a))&&(nu(e,i,a,o),Mo(e,i,a)),a}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ju(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Ei(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?qs(e,t,n):(Pi(la,1&la.current),null!==(e=Gs(e,t,n))?e.sibling:null);Pi(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Gs(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,io&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);To(t,n),i=Da(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ei(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Eo(t),i.updater=Qo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=ks(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Eu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=xo(r,e),i){case 0:t=Ls(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=ws(null,t,r,xo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ls(e,t,r,i=t.elementType===r?i:xo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:xo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Oo(e,t),No(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=$o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Gs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ps(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return qs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ko(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:xo(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Pi(vo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!ki.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Fo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Do(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Do(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Po(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=xo(r=t.type,t.pendingProps),ws(e,t,r,i=xo(r.type,i),n);case 15:return Ds(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),zs(e,t),t.tag=1,Ei(r)?(e=!0,Mi(t)):e=!1,To(t,n),Go(t,r,i),Wo(t,r,i,n),ks(null,t,r,!0,e,n);case 19:return Qs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Hu="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Vu(a);s.call(e)}}Gu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Vu(a);o.call(e)}}var a=zu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[pi]=a.current,Qr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Vu(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Qr(8===e.nodeType?e.parentNode:e),cu((function(){Gu(t,l,n,r)})),l}(n,t,e,i,r);return Vu(a)}Yu.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gu(e,t,null,null)},Yu.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Gu(null,e,null,null)})),t[pi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&qt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Ke()),0===(6&Il)&&(Ql=Ke()+500,Qi()))}break;case 13:cu((function(){var t=Ao(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),ju(e,1)}},Ct=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nu(t,e,134217728,eu());ju(e,134217728)}},wt=function(e){if(13===e.tag){var t=tu(e),n=Ao(e,t);if(null!==n)nu(n,e,t,eu());ju(e,t)}},Dt=function(){return St},Tt=function(e,t){var n=St;try{return St=e,t()}finally{St=n}},Ce=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(o(90));j(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uu,ke=cu;var tc={usingClientEntryPoint:!1,Events:[Si,yi,bi,Pe,Le,uu]},nc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(o(200));return Zu(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(o(299));var n=!1,r="",i=Hu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Qr(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!$u(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Hu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!$u(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$u(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case g:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},7441:function(e,t,n){"use strict";n(1372)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function x(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function S(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var y=S.prototype=new v;y.constructor=S,g(y,x.prototype),y.isPureReactComponent=!0;var b=Array.isArray,C=Object.prototype.hasOwnProperty,w={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&!D.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:w.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var L=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+I(l,0):o,b(a)?(i="",null!=e&&(i=e.replace(L,"$&/")+"/"),k(a,t,i,"",(function(e){return e}))):null!=a&&(P(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(L,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",b(e))for(var u=0;u<e.length;u++){var c=o+I(s=e[u],u);l+=k(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=k(s=s.value,t,i,c=o+I(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var E={current:null},O={transition:null},F={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:O,ReactCurrentOwner:w};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=i,t.Profiler=a,t.PureComponent=S,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&!D.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return E.current.useCallback(e,t)},t.useContext=function(e){return E.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return E.current.useDeferredValue(e)},t.useEffect=function(e,t){return E.current.useEffect(e,t)},t.useId=function(){return E.current.useId()},t.useImperativeHandle=function(e,t,n){return E.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.current.useMemo(e,t)},t.useReducer=function(e,t,n){return E.current.useReducer(e,t,n)},t.useRef=function(e){return E.current.useRef(e)},t.useState=function(e){return E.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,x="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,S="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function b(e){if(m=!1,y(e),!g)if(null!==r(u))g=!0,O(C);else{var t=r(c);null!==t&&F(b,t.startTime-e)}}function C(e,n){g=!1,m&&(m=!1,v(P),P=-1),p=!0;var o=h;try{for(y(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!k());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),y(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&F(b,d.startTime-n),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,D=!1,T=null,P=-1,L=5,I=-1;function k(){return!(t.unstable_now()-I<L)}function A(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?w():(D=!1,T=null)}}else D=!1}if("function"===typeof S)w=function(){S(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,E=R.port2;R.port1.onmessage=A,w=function(){E.postMessage(null)}}else w=function(){x(A,0)};function O(e){T=e,D||(D=!0,w())}function F(e,n){P=x((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,O(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(m?(v(P),P=-1):m=!0,F(b,o-a))):(e.sortIndex=s,n(u,e),g||p||(g=!0,O(C))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},1129:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120);var i=n(1002),o=n(7326);function a(e,t){if(t&&("object"===(0,i.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878);var i=n(181),o=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},5119:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Pn}});var r=Math.PI/180;var i="undefined"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},o={_global:i,version:"8.3.11",isBrowser:"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:function(e){return o.angleDeg?e*r:e},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return o.DD.isDragging},isDragReady:function(){return!!o.DD.node},document:i.document,_injectGlobal:function(e){i.Konva=e}},a=function(e){o[e.prototype.getClassName()]=e};o._injectGlobal(o);var s=n(3878),l=n(9199),u=n(181),c=n(5267);var d=n(5671),f=n(3144),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];(0,d.Z)(this,e),this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}return(0,f.Z)(e,[{key:"reset",value:function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}},{key:"copy",value:function(){return new e(this.m)}},{key:"copyInto",value:function(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}},{key:"point",value:function(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}},{key:"translate",value:function(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}},{key:"scale",value:function(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,i=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,a=this.m[1]*-n+this.m[3]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=a,this}},{key:"getTranslation",value:function(){return{x:this.m[4],y:this.m[5]}}},{key:"skew",value:function(e,t){var n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,i=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this}},{key:"multiply",value:function(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}},{key:"invert",value:function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,i=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}},{key:"getMatrix",value:function(){return this.m}},{key:"decompose",value:function(){var e=this.m[0],t=this.m[1],n=this.m[2],r=this.m[3],i=e*r-t*n,o={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=t){var a=Math.sqrt(e*e+t*t);o.rotation=t>0?Math.acos(e/a):-Math.acos(e/a),o.scaleX=a,o.scaleY=i/a,o.skewX=(e*n+t*r)/i,o.skewY=0}else if(0!=n||0!=r){var s=Math.sqrt(n*n+r*r);o.rotation=Math.PI/2-(r>0?Math.acos(-n/s):-Math.acos(n/s)),o.scaleX=i/s,o.scaleY=s,o.skewX=0,o.skewY=(e*n+t*r)/i}return o.rotation=b._getRotation(o.rotation),o}}]),e}(),p=Math.PI/180,g=180/Math.PI,m="Konva error: ",x={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},v=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,S=[],y="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)},b={_isElement:function(e){return!(!e||1!=e.nodeType)},_isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isPlainObject:function(e){return!!e&&e.constructor===Object},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e)},_isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},_isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},isObject:function(e){return e instanceof Object},isValidSelector:function(e){if("string"!==typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:function(e){return 0===e||e>0?1:-1},requestAnimFrame:function(e){S.push(e),1===S.length&&y((function(){var e=S;S=[],e.forEach((function(e){e()}))}))},createCanvasElement:function(){var e=document.createElement("canvas");try{e.style=e.style||{}}catch(t){}return e},createImageElement:function(){return document.createElement("img")},_isInDocument:function(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage:function(e,t){var n=b.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex:function(e,t,n){return((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},_hexToRgb:function(e){e=e.replace("#","");var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor:function(){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return"#"+e},getRGB:function(e){var t;return e in x?{r:(t=x[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=v.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(e){return e=e||"black",b._namedColorToRBA(e)||b._hex3ColorToRGBA(e)||b._hex6ColorToRGBA(e)||b._rgbColorToRGBA(e)||b._rgbaColorToRGBA(e)||b._hslColorToRGBA(e)},_namedColorToRBA:function(e){var t=x[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA:function(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA:function(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((function(e,t){return"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e)}));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA:function(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA:function(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),o=(x=i,(0,s.Z)(x)||(0,l.Z)(x)||(0,u.Z)(x)||(0,c.Z)()),a=(o[0],o.slice(1)),d=Number(a[0])/360,f=Number(a[1])/100,h=Number(a[2])/100;if(0===f)return r=255*h,{r:Math.round(r),g:Math.round(r),b:Math.round(r),a:1};for(var p=2*h-(t=h<.5?h*(1+f):h+f-h*f),g=[0,0,0],m=0;m<3;m++)(n=d+1/3*-(m-1))<0&&n++,n>1&&n--,r=6*n<1?p+6*(t-p)*n:2*n<1?t:3*n<2?p+(t-p)*(2/3-n)*6:p,g[m]=255*r;return{r:Math.round(g[0]),g:Math.round(g[1]),b:Math.round(g[2]),a:1}}var x},haveIntersection:function(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},cloneObject:function(e){var t={};for(var n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:function(e){return e.slice(0)},degToRad:function(e){return e*p},radToDeg:function(e){return e*g},_degToRad:function(e){return b.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),b.degToRad(e)},_radToDeg:function(e){return b.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),b.radToDeg(e)},_getRotation:function(e){return o.angleDeg?b.radToDeg(e):e},_capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},throw:function(e){throw new Error(m+e)},error:function(e){console.error(m+e)},warn:function(e){o.showWarnings&&console.warn("Konva warning: "+e)},each:function(e,t){for(var n in e)t(n,e[n])},_inRange:function(e,t,n){return t<=e&&e<n},_getProjectionToSegment:function(e,t,n,r,i,o){var a,s,l,u=(e-n)*(e-n)+(t-r)*(t-r);if(0==u)a=e,s=t,l=(i-n)*(i-n)+(o-r)*(o-r);else{var c=((i-e)*(n-e)+(o-t)*(r-t))/u;c<0?(a=e,s=t,l=(e-i)*(e-i)+(t-o)*(t-o)):c>1?(a=n,s=r,l=(n-i)*(n-i)+(r-o)*(r-o)):l=((a=e+c*(n-e))-i)*(a-i)+((s=t+c*(r-t))-o)*(s-o)}return[a,s,l]},_getProjectionToLine:function(e,t,n){var r=b.cloneObject(e),i=Number.MAX_VALUE;return t.forEach((function(o,a){if(n||a!==t.length-1){var s=t[(a+1)%t.length],l=b._getProjectionToSegment(o.x,o.y,s.x,s.y,e.x,e.y),u=l[0],c=l[1],d=l[2];d<i&&(r.x=u,r.y=c,i=d)}})),r},_prepareArrayForTween:function(e,t,n){var r,i=[],o=[];if(e.length>t.length){var a=t;t=e,e=a}for(r=0;r<e.length;r+=2)i.push({x:e[r],y:e[r+1]});for(r=0;r<t.length;r+=2)o.push({x:t[r],y:t[r+1]});var s=[];return o.forEach((function(e){var t=b._getProjectionToLine(e,i,n);s.push(t.x),s.push(t.y)})),s},_prepareToStringify:function(e){var t;for(var n in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n])if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||b._isElement(e[n])){if(!t.configurable)return null;delete e[n]}else if(null===b._prepareToStringify(e[n])){if(!t.configurable)return null;delete e[n]}return delete e.visitedByCircularReferenceRemoval,e},_assign:function(e,t){for(var n in t)e[n]=t[n];return e},_getFirstPointerId:function(e){return e.touches?e.changedTouches[0].identifier:e.pointerId||999}};function C(e){return b._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||b._isBoolean(e)?e:Object.prototype.toString.call(e)}function w(e){return e>255?255:e<0?0:Math.round(e)}function D(){if(o.isUnminified)return function(e,t){return b._isNumber(e)||b.warn(C(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function T(e){if(o.isUnminified)return function(t,n){var r=b._isNumber(t),i=b._isArray(t)&&t.length==e;return r||i||b.warn(C(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function P(){if(o.isUnminified)return function(e,t){return b._isNumber(e)||"auto"===e||b.warn(C(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function L(){if(o.isUnminified)return function(e,t){return b._isString(e)||b.warn(C(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function I(){if(o.isUnminified)return function(e,t){var n=b._isString(e),r="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||r||b.warn(C(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function k(){if(o.isUnminified)return function(e,t){return!0===e||!1===e||b.warn(C(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}var A="get",R="set",E={addGetterSetter:function(e,t,n,r,i){E.addGetter(e,t,n),E.addSetter(e,t,r,i),E.addOverloadedGetterSetter(e,t)},addGetter:function(e,t,n){var r=A+b._capitalize(t);e.prototype[r]=e.prototype[r]||function(){var e=this.attrs[t];return void 0===e?n:e}},addSetter:function(e,t,n,r){var i=R+b._capitalize(t);e.prototype[i]||E.overWriteSetter(e,t,n,r)},overWriteSetter:function(e,t,n,r){var i=R+b._capitalize(t);e.prototype[i]=function(e){return n&&void 0!==e&&null!==e&&(e=n.call(this,e,t)),this._setAttr(t,e),r&&r.call(this),this}},addComponentsGetterSetter:function(e,t,n,r,i){var a,s,l=n.length,u=b._capitalize,c=A+u(t),d=R+u(t);e.prototype[c]=function(){var e={};for(a=0;a<l;a++)e[s=n[a]]=this.getAttr(t+u(s));return e};var f=function(e){if(o.isUnminified)return function(t,n){return b.isObject(t)||b.warn(C(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(n);e.prototype[d]=function(e){var n,o=this.attrs[t];for(n in r&&(e=r.call(this,e)),f&&f.call(this,e,t),e)e.hasOwnProperty(n)&&this._setAttr(t+u(n),e[n]);return this._fireChangeEvent(t,o,e),i&&i.call(this),this},E.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter:function(e,t){var n=b._capitalize(t),r=R+n,i=A+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter:function(e,t,n,r){b.error("Adding deprecated "+t);var i=A+b._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){b.error(o);var e=this.attrs[t];return void 0===e?n:e},E.addSetter(e,t,r,(function(){b.error(o)})),E.addOverloadedGetterSetter(e,t)},backCompat:function(e,t){b.each(t,(function(t,n){var r=e.prototype[n],i=A+b._capitalize(t),o=R+b._capitalize(t);function a(){r.apply(this,arguments),b.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=a,e.prototype[i]=a,e.prototype[o]=a}))},afterSetFilter:function(){this._filterUpToDate=!1}},O=n(7326),F=n(136),_=n(1129);function M(e){var t,n,r=[],i=e.length,o=b;for(t=0;t<i;t++)n=e[t],o._isNumber(n)?n=Math.round(1e3*n)/1e3:o._isString(n)||(n+=""),r.push(n);return r}var q=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],N=function(){function e(t){(0,d.Z)(this,e),this.canvas=t,this._context=t._canvas.getContext("2d"),o.enableTrace&&(this.traceArr=[],this._enableTrace())}return(0,f.Z)(e,[{key:"fillShape",value:function(e){e.fillEnabled()&&this._fill(e)}},{key:"_fill",value:function(e){}},{key:"strokeShape",value:function(e){e.hasStroke()&&this._stroke(e)}},{key:"_stroke",value:function(e){}},{key:"fillStrokeShape",value:function(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}},{key:"getTrace",value:function(e,t){var n,r,i,o,a=this.traceArr,s=a.length,l="";for(n=0;n<s;n++)(i=(r=a[n]).method)?(o=r.args,l+=i,e?l+="()":b._isArray(o[0])?l+="(["+o.join(",")+"])":(t&&(o=o.map((function(e){return"number"===typeof e?Math.floor(e):e}))),l+="("+o.join(",")+")")):(l+=r.property,e||(l+="="+r.val)),l+=";";return l}},{key:"clearTrace",value:function(){this.traceArr=[]}},{key:"_trace",value:function(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()}},{key:"reset",value:function(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}},{key:"getCanvas",value:function(){return this.canvas}},{key:"clear",value:function(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}},{key:"_applyLineCap",value:function(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)}},{key:"_applyOpacity",value:function(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}},{key:"_applyLineJoin",value:function(e){var t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}},{key:"setAttr",value:function(e,t){this._context[e]=t}},{key:"arc",value:function(e,t,n,r,i,o){this._context.arc(e,t,n,r,i,o)}},{key:"arcTo",value:function(e,t,n,r,i){this._context.arcTo(e,t,n,r,i)}},{key:"beginPath",value:function(){this._context.beginPath()}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){this._context.bezierCurveTo(e,t,n,r,i,o)}},{key:"clearRect",value:function(e,t,n,r){this._context.clearRect(e,t,n,r)}},{key:"clip",value:function(){this._context.clip()}},{key:"closePath",value:function(){this._context.closePath()}},{key:"createImageData",value:function(e,t){var n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}},{key:"createLinearGradient",value:function(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)}},{key:"createPattern",value:function(e,t){return this._context.createPattern(e,t)}},{key:"createRadialGradient",value:function(e,t,n,r,i,o){return this._context.createRadialGradient(e,t,n,r,i,o)}},{key:"drawImage",value:function(e,t,n,r,i,o,a,s,l){var u=arguments,c=this._context;3===u.length?c.drawImage(e,t,n):5===u.length?c.drawImage(e,t,n,r,i):9===u.length&&c.drawImage(e,t,n,r,i,o,a,s,l)}},{key:"ellipse",value:function(e,t,n,r,i,o,a,s){this._context.ellipse(e,t,n,r,i,o,a,s)}},{key:"isPointInPath",value:function(e,t){return this._context.isPointInPath(e,t)}},{key:"fill",value:function(e){e?this._context.fill(e):this._context.fill()}},{key:"fillRect",value:function(e,t,n,r){this._context.fillRect(e,t,n,r)}},{key:"strokeRect",value:function(e,t,n,r){this._context.strokeRect(e,t,n,r)}},{key:"fillText",value:function(e,t,n,r){r?this._context.fillText(e,t,n,r):this._context.fillText(e,t,n)}},{key:"measureText",value:function(e){return this._context.measureText(e)}},{key:"getImageData",value:function(e,t,n,r){return this._context.getImageData(e,t,n,r)}},{key:"lineTo",value:function(e,t){this._context.lineTo(e,t)}},{key:"moveTo",value:function(e,t){this._context.moveTo(e,t)}},{key:"rect",value:function(e,t,n,r){this._context.rect(e,t,n,r)}},{key:"putImageData",value:function(e,t,n){this._context.putImageData(e,t,n)}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)}},{key:"restore",value:function(){this._context.restore()}},{key:"rotate",value:function(e){this._context.rotate(e)}},{key:"save",value:function(){this._context.save()}},{key:"scale",value:function(e,t){this._context.scale(e,t)}},{key:"setLineDash",value:function(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}},{key:"getLineDash",value:function(){return this._context.getLineDash()}},{key:"setTransform",value:function(e,t,n,r,i,o){this._context.setTransform(e,t,n,r,i,o)}},{key:"stroke",value:function(e){e?this._context.stroke(e):this._context.stroke()}},{key:"strokeText",value:function(e,t,n,r){this._context.strokeText(e,t,n,r)}},{key:"transform",value:function(e,t,n,r,i,o){this._context.transform(e,t,n,r,i,o)}},{key:"translate",value:function(e,t){this._context.translate(e,t)}},{key:"_enableTrace",value:function(){var e,t,n=this,r=q.length,i=this.setAttr,o=function(e){var r,i=n[e];n[e]=function(){return t=M(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:e,args:t}),r}};for(e=0;e<r;e++)o(q[e]);n.setAttr=function(){i.apply(n,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}},{key:"_applyGlobalCompositeOperation",value:function(e){var t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}]),e}();["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(e){Object.defineProperty(N.prototype,e,{get:function(){return this._context[e]},set:function(t){this._context[e]=t}})}));var U,B=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_fillColor",value:function(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}},{key:"_fillPattern",value:function(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}},{key:"_fillLinearGradient",value:function(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}},{key:"_fillRadialGradient",value:function(e){var t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}},{key:"_fill",value:function(e){var t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)this._fillColor(e);else{var r=e.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(e);else{var i=e.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(e);else{var o=e.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):r?this._fillPattern(e):i?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}}}}},{key:"_strokeLinearGradient",value:function(e){var t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}}},{key:"_stroke",value:function(e){var t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}},{key:"_applyShadow",value:function(e){var t,n,r,i=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",o=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,a=null!==(r=e.getShadowOffset())&&void 0!==r?r:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),u=s.x*l,c=s.y*l;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(c))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*c)}}]),n}(N),Z=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_fill",value:function(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}},{key:"strokeShape",value:function(e){e.hasHitStroke()&&this._stroke(e)}},{key:"_stroke",value:function(e){if(e.hasHitStroke()){var t=e.getStrokeScaleEnabled();if(!t){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),i="auto"===r?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}]),n}(N);var Q=function(){function e(t){(0,d.Z)(this,e),this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=(t||{}).pixelRatio||o.pixelRatio||function(){if(U)return U;var e=b.createCanvasElement().getContext("2d");return U=(o._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}();this.pixelRatio=n,this._canvas=b.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return(0,f.Z)(e,[{key:"getContext",value:function(){return this.context}},{key:"getPixelRatio",value:function(){return this.pixelRatio}},{key:"setPixelRatio",value:function(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}},{key:"setWidth",value:function(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}},{key:"setHeight",value:function(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"setSize",value:function(e,t){this.setWidth(e||0),this.setHeight(t||0)}},{key:"toDataURL",value:function(e,t){try{return this._canvas.toDataURL(e,t)}catch(n){try{return this._canvas.toDataURL()}catch(r){return b.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}]),e}();E.addGetterSetter(Q,"pixelRatio",void 0,D());var z=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};return(0,d.Z)(this,n),(e=t.call(this,r)).context=new B((0,O.Z)(e)),e.setSize(r.width,r.height),e}return(0,f.Z)(n)}(Q),G=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};return(0,d.Z)(this,n),(e=t.call(this,r)).hitCanvas=!0,e.context=new Z((0,O.Z)(e)),e.setSize(r.width,r.height),e}return(0,f.Z)(n)}(Q),V={get isDragging(){var e=!1;return V._dragElements.forEach((function(t){"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){var e;return V._dragElements.forEach((function(t){e=t.node})),e},_dragElements:new Map,_drag:function(e){var t=[];V._dragElements.forEach((function(n,r){var i=n.node,o=i.getStage();o.setPointersPositions(e),void 0===n.pointerId&&(n.pointerId=b._getFirstPointerId(e));var a=o._changedPointerPositions.find((function(e){return e.id===n.pointerId}));if(a){if("dragging"!==n.dragStatus){var s=i.dragDistance();if(Math.max(Math.abs(a.x-n.startPointerPos.x),Math.abs(a.y-n.startPointerPos.y))<s)return;if(i.startDrag({evt:e}),!i.isDragging())return}i._setDragPosition(e,n),t.push(i)}})),t.forEach((function(t){t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore:function(e){var t=[];V._dragElements.forEach((function(n){var r=n.node.getStage();if(e&&r.setPointersPositions(e),r._changedPointerPositions.find((function(e){return e.id===n.pointerId}))){"dragging"!==n.dragStatus&&"stopped"!==n.dragStatus||(V.justDragged=!0,o._mouseListenClick=!1,o._touchListenClick=!1,o._pointerListenClick=!1,n.dragStatus="stopped");var i=n.node.getLayer()||n.node instanceof o.Stage&&n.node;i&&-1===t.indexOf(i)&&t.push(i)}})),t.forEach((function(e){e.draw()}))},_endDragAfter:function(e){V._dragElements.forEach((function(t,n){"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),"dragging"!==t.dragStatus&&V._dragElements.delete(n)}))}};o.isBrowser&&(window.addEventListener("mouseup",V._endDragBefore,!0),window.addEventListener("touchend",V._endDragBefore,!0),window.addEventListener("mousemove",V._drag),window.addEventListener("touchmove",V._drag),window.addEventListener("mouseup",V._endDragAfter,!1),window.addEventListener("touchend",V._endDragAfter,!1));var W="absoluteOpacity",j="allEventListeners",H="absoluteTransform",X="absoluteScale",Y="canvas",K="listening",$="mouseenter",J="mouseleave",ee="Shape",te=" ",ne="stage",re="transform",ie="visible",oe=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(te),ae=1,se=function(){function e(t){(0,d.Z)(this,e),this._id=ae++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}return(0,f.Z)(e,[{key:"hasChildren",value:function(){return!1}},{key:"_clearCache",value:function(e){e!==re&&e!==H||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}},{key:"_getCache",value:function(e,t){var n=this._cache.get(e);return(void 0===n||(e===re||e===H)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}},{key:"_calculate",value:function(e,t,n){var r=this;if(!this._attachedDepsListeners.get(e)){var i=t.map((function(e){return e+"Change.konva"})).join(te);this.on(i,(function(){r._clearCache(e)})),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}},{key:"_getCanvasCache",value:function(){return this._cache.get(Y)}},{key:"_clearSelfAndDescendantCache",value:function(e){this._clearCache(e),e===H&&this.fire("absoluteTransformChange")}},{key:"clearCache",value:function(){return this._cache.delete(Y),this._clearSelfAndDescendantCache(),this._requestDraw(),this}},{key:"cache",value:function(e){var t=e||{},n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=Math.ceil(t.width||n.width),i=Math.ceil(t.height||n.height),o=t.pixelRatio,a=void 0===t.x?Math.floor(n.x):t.x,s=void 0===t.y?Math.floor(n.y):t.y,l=t.offset||0,u=t.drawBorder||!1,c=t.hitCanvasPixelRatio||1;if(r&&i){a-=l,s-=l;var d=new z({pixelRatio:o,width:r+=2*l+1,height:i+=2*l+1}),f=new z({pixelRatio:o,width:0,height:0}),h=new G({pixelRatio:c,width:r,height:i}),p=d.getContext(),g=h.getContext();return h.isCache=!0,d.isCache=!0,this._cache.delete(Y),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,f.getContext()._context.imageSmoothingEnabled=!1),p.save(),g.save(),p.translate(-a,-s),g.translate(-a,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(W),this._clearSelfAndDescendantCache(X),this.drawScene(d,this),this.drawHit(h,this),this._isUnderCache=!1,p.restore(),g.restore(),u&&(p.save(),p.beginPath(),p.rect(0,0,r,i),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(Y,{scene:d,filter:f,hit:h,x:a,y:s}),this._requestDraw(),this}b.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}},{key:"isCached",value:function(){return this._cache.has(Y)}},{key:"getClientRect",value:function(e){throw new Error('abstract "getClientRect" method call')}},{key:"_transformedRect",value:function(e,t){var n,r,i,o,a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=this.getAbsoluteTransform(t);return a.forEach((function(e){var t=s.point(e);void 0===n&&(n=i=t.x,r=o=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),o=Math.max(o,t.y)})),{x:n,y:r,width:i-n,height:o-r}}},{key:"_drawCachedSceneCanvas",value:function(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);var t=this._getCanvasCache();e.translate(t.x,t.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()}},{key:"_drawCachedHitCanvas",value:function(e){var t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}},{key:"_getCachedSceneCanvas",value:function(){var e,t,n,r,i=this.filters(),o=this._getCanvasCache(),a=o.scene,s=o.filter,l=s.getContext();if(i){if(!this._filterUpToDate){var u=a.pixelRatio;s.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(e=i.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/u,a.getHeight()/u),t=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<e;n++)"function"===typeof(r=i[n])?(r.call(this,t),l.putImageData(t,0,0)):b.error("Filter should be type of function, but got "+typeof r+" instead. Please check correct filters")}catch(c){b.error("Unable to apply filter. "+c.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return a}},{key:"on",value:function(e,t){if(this._cache&&this._cache.delete(j),3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,a=e.split(te),s=a.length;for(n=0;n<s;n++)i=(r=a[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:t});return this}},{key:"off",value:function(e,t){var n,r,i,o,a,s=(e||"").split(te),l=s.length;if(this._cache&&this._cache.delete(j),!e)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(o=(i=s[n].split("."))[0],a=i[1],o)this.eventListeners[o]&&this._off(o,a,t);else for(r in this.eventListeners)this._off(r,a,t);return this}},{key:"dispatchEvent",value:function(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}},{key:"addEventListener",value:function(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this}},{key:"removeEventListener",value:function(e){return this.off(e),this}},{key:"_delegate",value:function(e,t,n){var r=this;this.on(e,(function(e){for(var i=e.target.findAncestors(t,!0,r),o=0;o<i.length;o++)(e=b.cloneObject(e)).currentTarget=i[o],n.call(i[o],e)}))}},{key:"remove",value:function(){return this.isDragging()&&this.stopDrag(),V._dragElements.delete(this._id),this._remove(),this}},{key:"_clearCaches",value:function(){this._clearSelfAndDescendantCache(H),this._clearSelfAndDescendantCache(W),this._clearSelfAndDescendantCache(X),this._clearSelfAndDescendantCache(ne),this._clearSelfAndDescendantCache(ie),this._clearSelfAndDescendantCache(K)}},{key:"_remove",value:function(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}},{key:"destroy",value:function(){return this.remove(),this}},{key:"getAttr",value:function(e){var t="get"+b._capitalize(e);return b._isFunction(this[t])?this[t]():this.attrs[e]}},{key:"getAncestors",value:function(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}},{key:"getAttrs",value:function(){return this.attrs||{}}},{key:"setAttrs",value:function(e){var t=this;return this._batchTransformChanges((function(){var n,r;if(!e)return t;for(n in e)"children"!==n&&(r="set"+b._capitalize(n),b._isFunction(t[r])?t[r](e[n]):t._setAttr(n,e[n]))})),this}},{key:"isListening",value:function(){return this._getCache(K,this._isListening)}},{key:"_isListening",value:function(e){if(!this.listening())return!1;var t=this.getParent();return!t||t===e||this===e||t._isListening(e)}},{key:"isVisible",value:function(){return this._getCache(ie,this._isVisible)}},{key:"_isVisible",value:function(e){if(!this.visible())return!1;var t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}},{key:"shouldDrawHit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),r=!1;V._dragElements.forEach((function(e){"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(r=!0)}));var i=!t&&!o.hitOnDragEnabled&&r;return this.isListening()&&this.isVisible()&&!i}},{key:"show",value:function(){return this.visible(!0),this}},{key:"hide",value:function(){return this.visible(!1),this}},{key:"getZIndex",value:function(){return this.index||0}},{key:"getAbsoluteZIndex",value:function(){var e,t,n,r,i=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function s(l){for(e=[],t=l.length,n=0;n<t;n++)r=l[n],a++,r.nodeType!==ee&&(e=e.concat(r.getChildren().slice())),r._id===o._id&&(n=t);e.length>0&&e[0].getDepth()<=i&&s(e)}(o.getStage().getChildren()),a}},{key:"getDepth",value:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}},{key:"_batchTransformChanges",value:function(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(re),this._clearSelfAndDescendantCache(H)),this._needClearTransformCache=!1}},{key:"setPosition",value:function(e){var t=this;return this._batchTransformChanges((function(){t.x(e.x),t.y(e.y)})),this}},{key:"getPosition",value:function(){return{x:this.x(),y:this.y()}}},{key:"getRelativePointerPosition",value:function(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var t=this.getAbsoluteTransform().copy();return t.invert(),t.point(e)}},{key:"getAbsolutePosition",value:function(e){for(var t=!1,n=this.parent;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);var r=this.getAbsoluteTransform(e).getMatrix(),i=new h,o=this.offset();return i.m=r.slice(),i.translate(o.x,o.y),i.getTranslation()}},{key:"setAbsolutePosition",value:function(e){var t=this._clearTransform();this.attrs.x=t.x,this.attrs.y=t.y,delete t.x,delete t.y,this._clearCache(re);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(e.x,e.y),e={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(t),this.setPosition({x:e.x,y:e.y}),this._clearCache(re),this._clearSelfAndDescendantCache(H),this}},{key:"_setTransform",value:function(e){var t;for(t in e)this.attrs[t]=e[t]}},{key:"_clearTransform",value:function(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}},{key:"move",value:function(e){var t=e.x,n=e.y,r=this.x(),i=this.y();return void 0!==t&&(r+=t),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this}},{key:"_eachAncestorReverse",value:function(e,t){var n,r,i=[],o=this.getParent();if(!t||t._id!==this._id){for(i.unshift(this);o&&(!t||o._id!==t._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)e(i[r])}}},{key:"rotate",value:function(e){return this.rotation(this.rotation()+e),this}},{key:"moveToTop",value:function(){if(!this.parent)return b.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}},{key:"moveUp",value:function(){if(!this.parent)return b.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}},{key:"moveDown",value:function(){if(!this.parent)return b.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}},{key:"moveToBottom",value:function(){if(!this.parent)return b.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}},{key:"setZIndex",value:function(e){if(!this.parent)return b.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&b.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}},{key:"getAbsoluteOpacity",value:function(){return this._getCache(W,this._getAbsoluteOpacity)}},{key:"_getAbsoluteOpacity",value:function(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}},{key:"moveTo",value:function(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}},{key:"toObject",value:function(){var e,t,n,r,i={},o=this.getAttrs();for(e in i.attrs={},o)t=o[e],b.isObject(t)&&!b._isPlainObject(t)&&!b._isArray(t)||(n="function"===typeof this[e]&&this[e],delete o[e],r=n?n.call(this):null,o[e]=t,r!==t&&(i.attrs[e]=t));return i.className=this.getClassName(),b._prepareToStringify(i)}},{key:"toJSON",value:function(){return JSON.stringify(this.toObject())}},{key:"getParent",value:function(){return this.parent}},{key:"findAncestors",value:function(e,t,n){var r=[];t&&this._isMatch(e)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(e)&&r.push(i),i=i.parent}return r}},{key:"isAncestorOf",value:function(e){return!1}},{key:"findAncestor",value:function(e,t,n){return this.findAncestors(e,t,n)[0]}},{key:"_isMatch",value:function(e){if(!e)return!1;if("function"===typeof e)return e(this);var t,n,r=e.replace(/ /g,"").split(","),i=r.length;for(t=0;t<i;t++)if(n=r[t],b.isValidSelector(n)||(b.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),b.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),b.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}},{key:"getLayer",value:function(){var e=this.getParent();return e?e.getLayer():null}},{key:"getStage",value:function(){return this._getCache(ne,this._getStage)}},{key:"_getStage",value:function(){var e=this.getParent();return e?e.getStage():void 0}},{key:"fire",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}},{key:"getAbsoluteTransform",value:function(e){return e?this._getAbsoluteTransform(e):this._getCache(H,this._getAbsoluteTransform)}},{key:"_getAbsoluteTransform",value:function(e){var t;if(e)return t=new h,this._eachAncestorReverse((function(e){var n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())}),e),t;t=this._cache.get(H)||new h,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var n=this.transformsEnabled();if("all"===n)t.multiply(this.getTransform());else if("position"===n){var r=this.attrs.x||0,i=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(r-o,i-a)}return t.dirty=!1,t}},{key:"getAbsoluteScale",value:function(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();var n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}},{key:"getAbsoluteRotation",value:function(){return this.getAbsoluteTransform().decompose().rotation}},{key:"getTransform",value:function(){return this._getCache(re,this._getTransform)}},{key:"_getTransform",value:function(){var e,t,n=this._cache.get(re)||new h;n.reset();var r=this.x(),i=this.y(),a=o.getAngle(this.rotation()),s=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,l=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,u=this.attrs.skewX||0,c=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===r&&0===i||n.translate(r,i),0!==a&&n.rotate(a),0===u&&0===c||n.skew(u,c),1===s&&1===l||n.scale(s,l),0===d&&0===f||n.translate(-1*d,-1*f),n.dirty=!1,n}},{key:"clone",value:function(e){var t,n,r,i,o,a=b.cloneObject(this.attrs);for(t in e)a[t]=e[t];var s=new this.constructor(a);for(t in this.eventListeners)for(r=(n=this.eventListeners[t]).length,i=0;i<r;i++)(o=n[i]).name.indexOf("konva")<0&&(s.eventListeners[t]||(s.eventListeners[t]=[]),s.eventListeners[t].push(o));return s}},{key:"_toKonvaCanvas",value:function(e){e=e||{};var t=this.getClientRect(),n=this.getStage(),r=void 0!==e.x?e.x:Math.floor(t.x),i=void 0!==e.y?e.y:Math.floor(t.y),o=e.pixelRatio||1,a=new z({width:e.width||Math.ceil(t.width)||(n?n.width():0),height:e.height||Math.ceil(t.height)||(n?n.height():0),pixelRatio:o}),s=a.getContext();return!1===e.imageSmoothingEnabled&&(s._context.imageSmoothingEnabled=!1),s.save(),(r||i)&&s.translate(-1*r,-1*i),this.drawScene(a),s.restore(),a}},{key:"toCanvas",value:function(e){return this._toKonvaCanvas(e)._canvas}},{key:"toDataURL",value:function(e){var t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r}},{key:"toImage",value:function(e){var t=this;return new Promise((function(n,r){try{var i=null===e||void 0===e?void 0:e.callback;i&&delete e.callback,b._urlToImage(t.toDataURL(e),(function(e){n(e),null===i||void 0===i||i(e)}))}catch(o){r(o)}}))}},{key:"toBlob",value:function(e){var t=this;return new Promise((function(n,r){try{var i=null===e||void 0===e?void 0:e.callback;i&&delete e.callback,t.toCanvas(e).toBlob((function(e){n(e),null===i||void 0===i||i(e)}))}catch(o){r(o)}}))}},{key:"setSize",value:function(e){return this.width(e.width),this.height(e.height),this}},{key:"getSize",value:function(){return{width:this.width(),height:this.height()}}},{key:"getClassName",value:function(){return this.className||this.nodeType}},{key:"getType",value:function(){return this.nodeType}},{key:"getDragDistance",value:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():o.dragDistance}},{key:"_off",value:function(e,t,n){var r,i,o,a=this.eventListeners[e];for(r=0;r<a.length;r++)if(i=a[r].name,o=a[r].handler,("konva"!==i||"konva"===t)&&(!t||i===t)&&(!n||n===o)){if(a.splice(r,1),0===a.length){delete this.eventListeners[e];break}r--}}},{key:"_fireChangeEvent",value:function(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}},{key:"addName",value:function(e){if(!this.hasName(e)){var t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}},{key:"hasName",value:function(e){if(!e)return!1;var t=this.name();return!!t&&-1!==(t||"").split(/\s/g).indexOf(e)}},{key:"removeName",value:function(e){var t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}},{key:"setAttr",value:function(e,t){var n=this["set"+b._capitalize(e)];return b._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}},{key:"_requestDraw",value:function(){if(o.autoDrawEnabled){var e=this.getLayer()||this.getStage();null===e||void 0===e||e.batchDraw()}}},{key:"_setAttr",value:function(e,t){var n=this.attrs[e];(n!==t||b.isObject(t))&&(void 0===t||null===t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}},{key:"_setComponentAttr",value:function(e,t,n){var r;void 0!==n&&((r=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))}},{key:"_fireAndBubble",value:function(e,t,n){if(t&&this.nodeType===ee&&(t.target=this),!((e===$||e===J)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(e,t);var r=(e===$||e===J)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}},{key:"_getProtoListeners",value:function(e){var t=this._cache.get(j);if(!t){t={};for(var n=Object.getPrototypeOf(this);n;)if(n.eventListeners){for(var r in n.eventListeners){var i=n.eventListeners[r],o=t[r]||[];t[r]=i.concat(o)}n=Object.getPrototypeOf(n)}else n=Object.getPrototypeOf(n);this._cache.set(j,t)}return t[e]}},{key:"_fire",value:function(e,t){(t=t||{}).currentTarget=this,t.type=e;var n=this._getProtoListeners(e);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,t);var i=this.eventListeners[e];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,t)}},{key:"draw",value:function(){return this.drawScene(),this.drawHit(),this}},{key:"_createDragElement",value:function(e){var t=e?e.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(t)||n._changedPointerPositions[0]||r;V._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:t})}},{key:"startDrag",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];V._dragElements.has(this._id)||this._createDragElement(e);var n=V._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}},{key:"_setDragPosition",value:function(e,t){var n=this.getStage()._getPointerById(t.pointerId);if(n){var r={x:n.x-t.offset.x,y:n.y-t.offset.y},i=this.dragBoundFunc();if(void 0!==i){var o=i.call(this,r,e);o?r=o:b.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}}},{key:"stopDrag",value:function(e){var t=V._dragElements.get(this._id);t&&(t.dragStatus="stopped"),V._endDragBefore(e),V._endDragAfter(e)}},{key:"setDraggable",value:function(e){this._setAttr("draggable",e),this._dragChange()}},{key:"isDragging",value:function(){var e=V._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}},{key:"_listenDrag",value:function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(e){var t=this;if((!(void 0!==e.evt.button)||o.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var n=!1;V._dragElements.forEach((function(e){t.isAncestorOf(e.node)&&(n=!0)})),n||this._createDragElement(e)}}))}},{key:"_dragChange",value:function(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;var e=V._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&V._dragElements.delete(this._id)}}},{key:"_dragCleanup",value:function(){this.off("mousedown.konva"),this.off("touchstart.konva")}},{key:"isClientRectOnScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this.getStage();if(!t)return!1;var n={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return b.haveIntersection(n,this.getClientRect())}}],[{key:"create",value:function(e,t){return b._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}},{key:"_createNode",value:function(t,n){var r,i,a,s=e.prototype.getClassName.call(t),l=t.children;if(n&&(t.attrs.container=n),o[s]||(b.warn('Can not find a node with class name "'+s+'". Fallback to "Shape".'),s="Shape"),r=new(0,o[s])(t.attrs),l)for(i=l.length,a=0;a<i;a++)r.add(e._createNode(l[a]));return r}}]),e}();se.prototype.nodeType="Node",se.prototype._attrsAffectingSize=[],se.prototype.eventListeners={},se.prototype.on.call(se.prototype,oe,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(re),this._clearSelfAndDescendantCache(H))})),se.prototype.on.call(se.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(ie)})),se.prototype.on.call(se.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(K)})),se.prototype.on.call(se.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(W)}));var le=E.addGetterSetter;le(se,"zIndex"),le(se,"absolutePosition"),le(se,"position"),le(se,"x",0,D()),le(se,"y",0,D()),le(se,"globalCompositeOperation","source-over",L()),le(se,"opacity",1,D()),le(se,"name","",L()),le(se,"id","",L()),le(se,"rotation",0,D()),E.addComponentsGetterSetter(se,"scale",["x","y"]),le(se,"scaleX",1,D()),le(se,"scaleY",1,D()),E.addComponentsGetterSetter(se,"skew",["x","y"]),le(se,"skewX",0,D()),le(se,"skewY",0,D()),E.addComponentsGetterSetter(se,"offset",["x","y"]),le(se,"offsetX",0,D()),le(se,"offsetY",0,D()),le(se,"dragDistance",null,D()),le(se,"width",0,D()),le(se,"height",0,D()),le(se,"listening",!0,k()),le(se,"preventDefault",!0,k()),le(se,"filters",null,(function(e){return this._filterUpToDate=!1,e})),le(se,"visible",!0,k()),le(se,"transformsEnabled","all",L()),le(se,"size"),le(se,"dragBoundFunc"),le(se,"draggable",!1,k()),E.backCompat(se,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var ue=n(1120);function ce(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,ue.Z)(e)););return e}function de(){return de="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ce(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},de.apply(this,arguments)}var fe=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){var e;return(0,d.Z)(this,n),(e=t.apply(this,arguments)).children=[],e}return(0,f.Z)(n,[{key:"getChildren",value:function(e){if(!e)return this.children||[];var t=this.children||[],n=[];return t.forEach((function(t){e(t)&&n.push(t)})),n}},{key:"hasChildren",value:function(){return this.getChildren().length>0}},{key:"removeChildren",value:function(){return this.getChildren().forEach((function(e){e.parent=null,e.index=0,e.remove()})),this.children=[],this._requestDraw(),this}},{key:"destroyChildren",value:function(){return this.getChildren().forEach((function(e){e.parent=null,e.index=0,e.destroy()})),this.children=[],this._requestDraw(),this}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}var i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}},{key:"destroy",value:function(){return this.hasChildren()&&this.destroyChildren(),de((0,ue.Z)(n.prototype),"destroy",this).call(this),this}},{key:"find",value:function(e){return this._generalFind(e,!1)}},{key:"findOne",value:function(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}},{key:"_generalFind",value:function(e,t){var n=[];return this._descendants((function(r){var i=r._isMatch(e);return i&&n.push(r),!(!i||!t)})),n}},{key:"_descendants",value:function(e){var t,n=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,u.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return!0;if(r.hasChildren()&&r._descendants(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"toObject",value:function(){var e=se.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach((function(t){e.children.push(t.toObject())})),e}},{key:"isAncestorOf",value:function(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}},{key:"clone",value:function(e){var t=se.prototype.clone.call(this,e);return this.getChildren().forEach((function(e){t.add(e.clone())})),t}},{key:"getAllIntersections",value:function(e){var t=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(e)&&t.push(n)})),t}},{key:"_clearSelfAndDescendantCache",value:function(e){var t;de((0,ue.Z)(n.prototype),"_clearSelfAndDescendantCache",this).call(this,e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach((function(t){t._clearSelfAndDescendantCache(e)}))}},{key:"_setChildrenIndices",value:function(){var e;null===(e=this.children)||void 0===e||e.forEach((function(e,t){e.index=t})),this._requestDraw()}},{key:"drawScene",value:function(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas(),i=r&&r.getContext(),o=this._getCanvasCache(),a=o&&o.scene,s=r&&r.isCache;if(!this.isVisible()&&!s)return this;if(a){i.save();var l=this.getAbsoluteTransform(t).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",r,t);return this}},{key:"drawHit",value:function(e,t){if(!this.shouldDrawHit(t))return this;var n=this.getLayer(),r=e||n&&n.hitCanvas,i=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();var a=this.getAbsoluteTransform(t).getMatrix();i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,t);return this}},{key:"_drawChildren",value:function(e,t,n){var r,i=t&&t.getContext(),o=this.clipWidth(),a=this.clipHeight(),s=this.clipFunc(),l=o&&a||s,u=n===this;if(l){i.save();var c=this.getAbsoluteTransform(n),d=c.getMatrix();if(i.transform(d[0],d[1],d[2],d[3],d[4],d[5]),i.beginPath(),s)s.call(this,i,this);else{var f=this.clipX(),h=this.clipY();i.rect(f,h,o,a)}i.clip(),d=c.copy().invert().getMatrix(),i.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var p=!u&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;p&&(i.save(),i._applyGlobalCompositeOperation(this)),null===(r=this.children)||void 0===r||r.forEach((function(r){r[e](t,n)})),p&&i.restore(),l&&i.restore()}},{key:"getClientRect",value:function(e){var t,n,r,i,o,a=(e=e||{}).skipTransform,s=e.relativeTo,l={x:1/0,y:1/0,width:0,height:0},u=this;null===(t=this.children)||void 0===t||t.forEach((function(t){if(t.visible()){var a=t.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===a.width&&0===a.height||(void 0===n?(n=a.x,r=a.y,i=a.x+a.width,o=a.y+a.height):(n=Math.min(n,a.x),r=Math.min(r,a.y),i=Math.max(i,a.x+a.width),o=Math.max(o,a.y+a.height)))}}));for(var c=this.find("Shape"),d=!1,f=0;f<c.length;f++){if(c[f]._isVisible(this)){d=!0;break}}return l=d&&void 0!==n?{x:n,y:r,width:i-n,height:o-r}:{x:0,y:0,width:0,height:0},a?l:this._transformedRect(l,s)}}]),n}(se);E.addComponentsGetterSetter(fe,"clip",["x","y","width","height"]),E.addGetterSetter(fe,"clipX",void 0,D()),E.addGetterSetter(fe,"clipY",void 0,D()),E.addGetterSetter(fe,"clipWidth",void 0,D()),E.addGetterSetter(fe,"clipHeight",void 0,D()),E.addGetterSetter(fe,"clipFunc");var he,pe,ge,me=n(9439),xe=n(4942),ve=new Map,Se=void 0!==o._global.PointerEvent;function ye(e){return ve.get(e)}function be(e){return{evt:e,pointerId:e.pointerId}}function Ce(e,t){return ve.get(e)===t}function we(e,t){De(e),t.getStage()&&(ve.set(e,t),Se&&t._fire("gotpointercapture",be(new PointerEvent("gotpointercapture"))))}function De(e,t){var n=ve.get(e);if(n){var r=n.getStage();r&&r.content,ve.delete(e),Se&&n._fire("lostpointercapture",be(new PointerEvent("lostpointercapture")))}}var Te="mouseleave",Pe="mouseover",Le="mouseenter",Ie="mousemove",ke="mousedown",Ae="mouseup",Re="pointermove",Ee="pointerdown",Oe="pointerup",Fe="pointercancel",_e="pointerout",Me="pointerleave",qe="pointerover",Ne="pointerenter",Ue="contextmenu",Be="touchstart",Ze="touchend",Qe="touchmove",ze="touchcancel",Ge="wheel",Ve=[[Le,"_pointerenter"],[ke,"_pointerdown"],[Ie,"_pointermove"],[Ae,"_pointerup"],[Te,"_pointerleave"],[Be,"_pointerdown"],[Qe,"_pointermove"],[Ze,"_pointerup"],[ze,"_pointercancel"],[Pe,"_pointerover"],[Ge,"_wheel"],[Ue,"_contextmenu"],[Ee,"_pointerdown"],[Re,"_pointermove"],[Oe,"_pointerup"],[Fe,"_pointercancel"],["lostpointercapture","_lostpointercapture"]],We={mouse:(he={},(0,xe.Z)(he,_e,"mouseout"),(0,xe.Z)(he,Me,Te),(0,xe.Z)(he,qe,Pe),(0,xe.Z)(he,Ne,Le),(0,xe.Z)(he,Re,Ie),(0,xe.Z)(he,Ee,ke),(0,xe.Z)(he,Oe,Ae),(0,xe.Z)(he,Fe,"mousecancel"),(0,xe.Z)(he,"pointerclick","click"),(0,xe.Z)(he,"pointerdblclick","dblclick"),he),touch:(pe={},(0,xe.Z)(pe,_e,"touchout"),(0,xe.Z)(pe,Me,"touchleave"),(0,xe.Z)(pe,qe,"touchover"),(0,xe.Z)(pe,Ne,"touchenter"),(0,xe.Z)(pe,Re,Qe),(0,xe.Z)(pe,Ee,Be),(0,xe.Z)(pe,Oe,Ze),(0,xe.Z)(pe,Fe,ze),(0,xe.Z)(pe,"pointerclick","tap"),(0,xe.Z)(pe,"pointerdblclick","dbltap"),pe),pointer:(ge={},(0,xe.Z)(ge,_e,_e),(0,xe.Z)(ge,Me,Me),(0,xe.Z)(ge,qe,qe),(0,xe.Z)(ge,Ne,Ne),(0,xe.Z)(ge,Re,Re),(0,xe.Z)(ge,Ee,Ee),(0,xe.Z)(ge,Oe,Oe),(0,xe.Z)(ge,Fe,Fe),(0,xe.Z)(ge,"pointerclick","pointerclick"),(0,xe.Z)(ge,"pointerdblclick","pointerdblclick"),ge)},je=function(e){return e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse"},He=function(e){var t=je(e);return"pointer"===t?o.pointerEventsEnabled&&We.pointer:"touch"===t?We.touch:"mouse"===t?We.mouse:void 0};function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.clipFunc||e.clipWidth||e.clipHeight)&&b.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}var Ye=[],Ke=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,Xe(e)))._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),Ye.push((0,O.Z)(r)),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){Xe(r.attrs)})),r._checkVisibility(),r}return(0,f.Z)(n,[{key:"_validateAdd",value:function(e){var t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||b.throw("You may only add layers to the stage.")}},{key:"_checkVisibility",value:function(){if(this.content){var e=this.visible()?"":"none";this.content.style.display=e}}},{key:"setContainer",value:function(e){if("string"===typeof e){if("."===e.charAt(0)){var t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var n;n="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}},{key:"shouldDrawHit",value:function(){return!0}},{key:"clear",value:function(){var e,t=this.children,n=t.length;for(e=0;e<n;e++)t[e].clear();return this}},{key:"clone",value:function(e){return e||(e={}),e.container="undefined"!==typeof document&&document.createElement("div"),fe.prototype.clone.call(this,e)}},{key:"destroy",value:function(){de((0,ue.Z)(n.prototype),"destroy",this).call(this);var e=this.content;e&&b._isInDocument(e)&&this.container().removeChild(e);var t=Ye.indexOf(this);return t>-1&&Ye.splice(t,1),this}},{key:"getPointerPosition",value:function(){var e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(b.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}},{key:"_getPointerById",value:function(e){return this._pointerPositions.find((function(t){return t.id===e}))}},{key:"getPointersPositions",value:function(){return this._pointerPositions}},{key:"getStage",value:function(){return this}},{key:"getContent",value:function(){return this.content}},{key:"_toKonvaCanvas",value:function(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var t=new z({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,r=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),r.forEach((function(t){if(t.isVisible()){var r=t._toKonvaCanvas(e);n.drawImage(r._canvas,e.x,e.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}})),t}},{key:"getIntersection",value:function(e){if(!e)return null;var t,n=this.children;for(t=n.length-1;t>=0;t--){var r=n[t].getIntersection(e);if(r)return r}return null}},{key:"_resizeDOM",value:function(){var e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach((function(n){n.setSize({width:e,height:t}),n.draw()}))}},{key:"add",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(arguments.length>1){for(var a=0;a<arguments.length;a++)this.add(arguments[a]);return this}de((0,ue.Z)(n.prototype),"add",this).call(this,e);var s=this.children.length;return s>5&&b.warn("The stage has "+s+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),o.isBrowser&&this.content.appendChild(e.canvas._canvas),this}},{key:"getParent",value:function(){return null}},{key:"getLayer",value:function(){return null}},{key:"hasPointerCapture",value:function(e){return Ce(e,this)}},{key:"setPointerCapture",value:function(e){we(e,this)}},{key:"releaseCapture",value:function(e){De(e)}},{key:"getLayers",value:function(){return this.children}},{key:"_bindContentEvents",value:function(){var e=this;o.isBrowser&&Ve.forEach((function(t){var n=(0,me.Z)(t,2),r=n[0],i=n[1];e.content.addEventListener(r,(function(t){e[i](t)}))}))}},{key:"_pointerenter",value:function(e){this.setPointersPositions(e);var t=He(e.type);this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}},{key:"_pointerover",value:function(e){this.setPointersPositions(e);var t=He(e.type);this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}},{key:"_getTargetShape",value:function(e){var t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}},{key:"_pointerleave",value:function(e){var t=He(e.type),n=je(e.type);if(t){this.setPointersPositions(e);var r=this._getTargetShape(n),i=!V.isDragging||o.hitOnDragEnabled;r&&i?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):i&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}},{key:"_pointerdown",value:function(e){var t=this,n=He(e.type),r=je(e.type);if(n){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach((function(a){var s=t.getIntersection(a);if(V.justDragged=!1,o["_"+r+"ListenClick"]=!0,s&&s.isListening()){o.capturePointerEventsEnabled&&s.setPointerCapture(a.id),t[r+"ClickStartShape"]=s,s._fireAndBubble(n.pointerdown,{evt:e,pointerId:a.id}),i=!0;var l=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&l&&e.preventDefault()}})),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}},{key:"_pointermove",value:function(e){var t=this,n=He(e.type),r=je(e.type);if(n&&(V.isDragging&&V.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!V.isDragging||o.hitOnDragEnabled)){var i={},a=!1,s=this._getTargetShape(r);this._changedPointerPositions.forEach((function(o){var l=ye(o.id)||t.getIntersection(o),u=o.id,c={evt:e,pointerId:u},d=s!==l;if(d&&s&&(s._fireAndBubble(n.pointerout,Object.assign({},c),l),s._fireAndBubble(n.pointerleave,Object.assign({},c),l)),l){if(i[l._id])return;i[l._id]=!0}l&&l.isListening()?(a=!0,d&&(l._fireAndBubble(n.pointerover,Object.assign({},c),s),l._fireAndBubble(n.pointerenter,Object.assign({},c),s),t[r+"targetShape"]=l),l._fireAndBubble(n.pointermove,Object.assign({},c))):s&&(t._fire(n.pointerover,{evt:e,target:t,currentTarget:t,pointerId:u}),t[r+"targetShape"]=null)})),a||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}}},{key:"_pointerup",value:function(e){var t=this,n=He(e.type),r=je(e.type);if(n){this.setPointersPositions(e);var i=this[r+"ClickStartShape"],a=this[r+"ClickEndShape"],s={},l=!1;this._changedPointerPositions.forEach((function(u){var c=ye(u.id)||t.getIntersection(u);if(c){if(c.releaseCapture(u.id),s[c._id])return;s[c._id]=!0}var d=u.id,f={evt:e,pointerId:d},h=!1;o["_"+r+"InDblClickWindow"]?(h=!0,clearTimeout(t[r+"DblTimeout"])):V.justDragged||(o["_"+r+"InDblClickWindow"]=!0,clearTimeout(t[r+"DblTimeout"])),t[r+"DblTimeout"]=setTimeout((function(){o["_"+r+"InDblClickWindow"]=!1}),o.dblClickWindow),c&&c.isListening()?(l=!0,t[r+"ClickEndShape"]=c,c._fireAndBubble(n.pointerup,Object.assign({},f)),o["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(n.pointerclick,Object.assign({},f)),h&&a&&a===c&&c._fireAndBubble(n.pointerdblclick,Object.assign({},f)))):(t[r+"ClickEndShape"]=null,o["_"+r+"ListenClick"]&&t._fire(n.pointerclick,{evt:e,target:t,currentTarget:t,pointerId:d}),h&&t._fire(n.pointerdblclick,{evt:e,target:t,currentTarget:t,pointerId:d}))})),l||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o["_"+r+"ListenClick"]=!1,e.cancelable&&"touch"!==r&&e.preventDefault()}}},{key:"_contextmenu",value:function(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Ue,{evt:e}):this._fire(Ue,{evt:e,target:this,currentTarget:this})}},{key:"_wheel",value:function(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Ge,{evt:e}):this._fire(Ge,{evt:e,target:this,currentTarget:this})}},{key:"_pointercancel",value:function(e){this.setPointersPositions(e);var t=ye(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(Oe,be(e)),De(e.pointerId)}},{key:"_lostpointercapture",value:function(e){De(e.pointerId)}},{key:"setPointersPositions",value:function(e){var t=this,n=this._getContentPosition(),r=null,i=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,(function(e){t._pointerPositions.push({id:e.identifier,x:(e.clientX-n.left)/n.scaleX,y:(e.clientY-n.top)/n.scaleY})})),Array.prototype.forEach.call(e.changedTouches||e.touches,(function(e){t._changedPointerPositions.push({id:e.identifier,x:(e.clientX-n.left)/n.scaleX,y:(e.clientY-n.top)/n.scaleY})}))):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:b._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:b._getFirstPointerId(e)}])}},{key:"_setPointerPosition",value:function(e){b.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}},{key:"_getContentPosition",value:function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}},{key:"_buildDOM",value:function(){if(this.bufferCanvas=new z({width:this.width(),height:this.height()}),this.bufferHitCanvas=new G({pixelRatio:1,width:this.width(),height:this.height()}),o.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}},{key:"cache",value:function(){return b.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}},{key:"clearCache",value:function(){return this}},{key:"batchDraw",value:function(){return this.getChildren().forEach((function(e){e.batchDraw()})),this}}]),n}(fe);Ke.prototype.nodeType="Stage",a(Ke),E.addGetterSetter(Ke,"container");var $e,Je="hasShadow",et="shadowRGBA",tt="patternImage",nt="linearGradient",rt="radialGradient";function it(){return $e||($e=b.createCanvasElement().getContext("2d"))}var ot={};var at=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r,i;for((0,d.Z)(this,n),r=t.call(this,e);!(i=b.getRandomColor())||i in ot;);return r.colorKey=i,ot[i]=(0,O.Z)(r),r}return(0,f.Z)(n,[{key:"getContext",value:function(){return b.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}},{key:"getCanvas",value:function(){return b.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}},{key:"getSceneFunc",value:function(){return this.attrs.sceneFunc||this._sceneFunc}},{key:"getHitFunc",value:function(){return this.attrs.hitFunc||this._hitFunc}},{key:"hasShadow",value:function(){return this._getCache(Je,this._hasShadow)}},{key:"_hasShadow",value:function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}},{key:"_getFillPattern",value:function(){return this._getCache(tt,this.__getFillPattern)}},{key:"__getFillPattern",value:function(){if(this.fillPatternImage()){var e=it().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){var t=new h;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(o.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());var n=t.getMatrix(),r="undefined"===typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);e.setTransform(r)}return e}}},{key:"_getLinearGradient",value:function(){return this._getCache(nt,this.__getLinearGradient)}},{key:"__getLinearGradient",value:function(){var e=this.fillLinearGradientColorStops();if(e){for(var t=it(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=t.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}},{key:"_getRadialGradient",value:function(){return this._getCache(rt,this.__getRadialGradient)}},{key:"__getRadialGradient",value:function(){var e=this.fillRadialGradientColorStops();if(e){for(var t=it(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}},{key:"getShadowRGBA",value:function(){return this._getCache(et,this._getShadowRGBA)}},{key:"_getShadowRGBA",value:function(){if(this.hasShadow()){var e=b.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}},{key:"hasFill",value:function(){var e=this;return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(function(){return e.fillEnabled()&&!!(e.fill()||e.fillPatternImage()||e.fillLinearGradientColorStops()||e.fillRadialGradientColorStops())}))}},{key:"hasStroke",value:function(){var e=this;return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(function(){return e.strokeEnabled()&&e.strokeWidth()&&!(!e.stroke()&&!e.strokeLinearGradientColorStops())}))}},{key:"hasHitStroke",value:function(){var e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}},{key:"intersects",value:function(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t,null,!0),t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}},{key:"destroy",value:function(){return se.prototype.destroy.call(this),delete ot[this.colorKey],delete this.colorKey,this}},{key:"_useBufferCanvas",value:function(e){var t;if(!this.getStage())return!1;if(!(null===(t=this.attrs.perfectDrawEnabled)||void 0===t||t))return!1;var n=e||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;var o=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&o&&a)}},{key:"setStrokeHitEnabled",value:function(e){b.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}},{key:"getStrokeHitEnabled",value:function(){return 0!==this.hitStrokeWidth()}},{key:"getSelfRect",value:function(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}},{key:"getClientRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skipTransform,n=e.relativeTo,r=this.getSelfRect(),i=!e.skipStroke&&this.hasStroke(),o=i&&this.strokeWidth()||0,a=r.width+o,s=r.height+o,l=!e.skipShadow&&this.hasShadow(),u=l?this.shadowOffsetX():0,c=l?this.shadowOffsetY():0,d=a+Math.abs(u),f=s+Math.abs(c),h=l&&this.shadowBlur()||0,p=d+2*h,g=f+2*h,m={width:p,height:g,x:-(o/2+h)+Math.min(u,0)+r.x,y:-(o/2+h)+Math.min(c,0)+r.y};return t?m:this._transformedRect(m,n)}},{key:"drawScene",value:function(e,t){var n,r,i=this.getLayer(),o=e||i.getCanvas(),a=o.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),u=this.hasShadow(),c=o.isCache,d=t===this;if(!this.isVisible()&&!d)return this;if(s){a.save();var f=this.getAbsoluteTransform(t).getMatrix();return a.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),this._useBufferCanvas()&&!c){(r=(n=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this);var h=this.getAbsoluteTransform(t).getMatrix();r.transform(h[0],h[1],h[2],h[3],h[4],h[5]),l.call(this,r,this),r.restore();var p=n.pixelRatio;u&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(n._canvas,0,0,n.width/p,n.height/p)}else{if(a._applyLineJoin(this),!d){h=this.getAbsoluteTransform(t).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}u&&a._applyShadow(this),l.call(this,a,this)}return a.restore(),this}},{key:"drawHit",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.shouldDrawHit(t,n))return this;var r=this.getLayer(),i=e||r.hitCanvas,o=i&&i.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||b.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){o.save();var u=this.getAbsoluteTransform(t).getMatrix();return o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;o.save(),o._applyLineJoin(this);var c=this===t;if(!c){var d=this.getAbsoluteTransform(t).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return a.call(this,o,this),o.restore(),this}},{key:"drawHitFromCache",value:function(){var e,t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=a.hit,u=l.getContext(),c=l.getWidth(),d=l.getHeight();u.clear(),u.drawImage(s._canvas,0,0,c,d);try{for(n=(t=(e=u.getImageData(0,0,c,d)).data).length,r=b._hexToRgb(this.colorKey),i=0;i<n;i+=4)t[i+3]>o?(t[i]=r.r,t[i+1]=r.g,t[i+2]=r.b,t[i+3]=255):t[i+3]=0;u.putImageData(e,0,0)}catch(f){b.error("Unable to draw hit graph from cached scene canvas. "+f.message)}return this}},{key:"hasPointerCapture",value:function(e){return Ce(e,this)}},{key:"setPointerCapture",value:function(e){we(e,this)}},{key:"releaseCapture",value:function(e){De(e)}}]),n}(se);at.prototype._fillFunc=function(e){e.fill()},at.prototype._strokeFunc=function(e){e.stroke()},at.prototype._fillFuncHit=function(e){e.fill()},at.prototype._strokeFuncHit=function(e){e.stroke()},at.prototype._centroid=!1,at.prototype.nodeType="Shape",a(at),at.prototype.eventListeners={},at.prototype.on.call(at.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Je)})),at.prototype.on.call(at.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(et)})),at.prototype.on.call(at.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(tt)})),at.prototype.on.call(at.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(nt)})),at.prototype.on.call(at.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(rt)})),E.addGetterSetter(at,"stroke",void 0,I()),E.addGetterSetter(at,"strokeWidth",2,D()),E.addGetterSetter(at,"fillAfterStrokeEnabled",!1),E.addGetterSetter(at,"hitStrokeWidth","auto",P()),E.addGetterSetter(at,"strokeHitEnabled",!0,k()),E.addGetterSetter(at,"perfectDrawEnabled",!0,k()),E.addGetterSetter(at,"shadowForStrokeEnabled",!0,k()),E.addGetterSetter(at,"lineJoin"),E.addGetterSetter(at,"lineCap"),E.addGetterSetter(at,"sceneFunc"),E.addGetterSetter(at,"hitFunc"),E.addGetterSetter(at,"dash"),E.addGetterSetter(at,"dashOffset",0,D()),E.addGetterSetter(at,"shadowColor",void 0,L()),E.addGetterSetter(at,"shadowBlur",0,D()),E.addGetterSetter(at,"shadowOpacity",1,D()),E.addComponentsGetterSetter(at,"shadowOffset",["x","y"]),E.addGetterSetter(at,"shadowOffsetX",0,D()),E.addGetterSetter(at,"shadowOffsetY",0,D()),E.addGetterSetter(at,"fillPatternImage"),E.addGetterSetter(at,"fill",void 0,I()),E.addGetterSetter(at,"fillPatternX",0,D()),E.addGetterSetter(at,"fillPatternY",0,D()),E.addGetterSetter(at,"fillLinearGradientColorStops"),E.addGetterSetter(at,"strokeLinearGradientColorStops"),E.addGetterSetter(at,"fillRadialGradientStartRadius",0),E.addGetterSetter(at,"fillRadialGradientEndRadius",0),E.addGetterSetter(at,"fillRadialGradientColorStops"),E.addGetterSetter(at,"fillPatternRepeat","repeat"),E.addGetterSetter(at,"fillEnabled",!0),E.addGetterSetter(at,"strokeEnabled",!0),E.addGetterSetter(at,"shadowEnabled",!0),E.addGetterSetter(at,"dashEnabled",!0),E.addGetterSetter(at,"strokeScaleEnabled",!0),E.addGetterSetter(at,"fillPriority","color"),E.addComponentsGetterSetter(at,"fillPatternOffset",["x","y"]),E.addGetterSetter(at,"fillPatternOffsetX",0,D()),E.addGetterSetter(at,"fillPatternOffsetY",0,D()),E.addComponentsGetterSetter(at,"fillPatternScale",["x","y"]),E.addGetterSetter(at,"fillPatternScaleX",1,D()),E.addGetterSetter(at,"fillPatternScaleY",1,D()),E.addComponentsGetterSetter(at,"fillLinearGradientStartPoint",["x","y"]),E.addComponentsGetterSetter(at,"strokeLinearGradientStartPoint",["x","y"]),E.addGetterSetter(at,"fillLinearGradientStartPointX",0),E.addGetterSetter(at,"strokeLinearGradientStartPointX",0),E.addGetterSetter(at,"fillLinearGradientStartPointY",0),E.addGetterSetter(at,"strokeLinearGradientStartPointY",0),E.addComponentsGetterSetter(at,"fillLinearGradientEndPoint",["x","y"]),E.addComponentsGetterSetter(at,"strokeLinearGradientEndPoint",["x","y"]),E.addGetterSetter(at,"fillLinearGradientEndPointX",0),E.addGetterSetter(at,"strokeLinearGradientEndPointX",0),E.addGetterSetter(at,"fillLinearGradientEndPointY",0),E.addGetterSetter(at,"strokeLinearGradientEndPointY",0),E.addComponentsGetterSetter(at,"fillRadialGradientStartPoint",["x","y"]),E.addGetterSetter(at,"fillRadialGradientStartPointX",0),E.addGetterSetter(at,"fillRadialGradientStartPointY",0),E.addComponentsGetterSetter(at,"fillRadialGradientEndPoint",["x","y"]),E.addGetterSetter(at,"fillRadialGradientEndPointX",0),E.addGetterSetter(at,"fillRadialGradientEndPointY",0),E.addGetterSetter(at,"fillPatternRotation",0),E.backCompat(at,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var st=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],lt=st.length,ut=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e)).canvas=new z,r.hitCanvas=new G({pixelRatio:1}),r._waitingForDraw=!1,r.on("visibleChange.konva",r._checkVisibility),r._checkVisibility(),r.on("imageSmoothingEnabledChange.konva",r._setSmoothEnabled),r._setSmoothEnabled(),r}return(0,f.Z)(n,[{key:"createPNGStream",value:function(){return this.canvas._canvas.createPNGStream()}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getNativeCanvasElement",value:function(){return this.canvas._canvas}},{key:"getHitCanvas",value:function(){return this.hitCanvas}},{key:"getContext",value:function(){return this.getCanvas().getContext()}},{key:"clear",value:function(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}},{key:"setZIndex",value:function(e){de((0,ue.Z)(n.prototype),"setZIndex",this).call(this,e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}},{key:"moveToTop",value:function(){se.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}},{key:"moveUp",value:function(){if(!se.prototype.moveUp.call(this))return!1;var e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}},{key:"moveDown",value:function(){if(se.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}},{key:"moveToBottom",value:function(){if(se.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}},{key:"getLayer",value:function(){return this}},{key:"remove",value:function(){var e=this.getNativeCanvasElement();return se.prototype.remove.call(this),e&&e.parentNode&&b._isInDocument(e)&&e.parentNode.removeChild(e),this}},{key:"getStage",value:function(){return this.parent}},{key:"setSize",value:function(e){var t=e.width,n=e.height;return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}},{key:"_validateAdd",value:function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&b.throw("You may only add groups and shapes to a layer.")}},{key:"_toKonvaCanvas",value:function(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),se.prototype._toKonvaCanvas.call(this,e)}},{key:"_checkVisibility",value:function(){var e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}},{key:"_setSmoothEnabled",value:function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}},{key:"getWidth",value:function(){if(this.parent)return this.parent.width()}},{key:"setWidth",value:function(){b.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}},{key:"getHeight",value:function(){if(this.parent)return this.parent.height()}},{key:"setHeight",value:function(){b.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}},{key:"batchDraw",value:function(){var e=this;return this._waitingForDraw||(this._waitingForDraw=!0,b.requestAnimFrame((function(){e.draw(),e._waitingForDraw=!1}))),this}},{key:"getIntersection",value:function(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,n=!1;;){for(var r=0;r<lt;r++){var i=st[r],o=this._getIntersection({x:e.x+i.x*t,y:e.y+i.y*t}),a=o.shape;if(a)return a;if(n=!!o.antialiased,!o.antialiased)break}if(!n)return null;t+=1}}},{key:"_getIntersection",value:function(e){var t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,r=n[3];if(255===r){var i=b._rgbToHex(n[0],n[1],n[2]),o=ot["#"+i];return o?{shape:o}:{antialiased:!0}}return r>0?{antialiased:!0}:{}}},{key:"drawScene",value:function(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),fe.prototype.drawScene.call(this,r,t),this._fire("draw",{node:this}),this}},{key:"drawHit",value:function(e,t){var n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),fe.prototype.drawHit.call(this,r,t),this}},{key:"enableHitGraph",value:function(){return this.hitGraphEnabled(!0),this}},{key:"disableHitGraph",value:function(){return this.hitGraphEnabled(!1),this}},{key:"setHitGraphEnabled",value:function(e){b.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}},{key:"getHitGraphEnabled",value:function(e){return b.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}},{key:"toggleHitCanvas",value:function(){if(this.parent&&this.parent.content){var e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}]),n}(fe);ut.prototype.nodeType="Layer",a(ut),E.addGetterSetter(ut,"imageSmoothingEnabled",!0),E.addGetterSetter(ut,"clearBeforeDraw",!0),E.addGetterSetter(ut,"hitGraphEnabled",!0,k());var ct=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e)).listening(!1),b.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.'),r}return(0,f.Z)(n)}(ut);ct.prototype.nodeType="FastLayer",a(ct);var dt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_validateAdd",value:function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&b.throw("You may only add groups and shapes to groups.")}}]),n}(fe);dt.prototype.nodeType="Group",a(dt);var ft=i.performance&&i.performance.now?function(){return i.performance.now()}:function(){return(new Date).getTime()},ht=function(){function e(t,n){(0,d.Z)(this,e),this.id=e.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:ft(),frameRate:0},this.func=t,this.setLayers(n)}return(0,f.Z)(e,[{key:"setLayers",value:function(e){var t=[];return t=e?e.length>0?e:[e]:[],this.layers=t,this}},{key:"getLayers",value:function(){return this.layers}},{key:"addLayer",value:function(e){var t,n=this.layers,r=n.length;for(t=0;t<r;t++)if(n[t]._id===e._id)return!1;return this.layers.push(e),!0}},{key:"isRunning",value:function(){var t,n=e.animations,r=n.length;for(t=0;t<r;t++)if(n[t].id===this.id)return!0;return!1}},{key:"start",value:function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=ft(),e._addAnimation(this),this}},{key:"stop",value:function(){return e._removeAnimation(this),this}},{key:"_updateFrameObject",value:function(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}}],[{key:"_addAnimation",value:function(e){this.animations.push(e),this._handleAnimation()}},{key:"_removeAnimation",value:function(e){var t,n=e.id,r=this.animations,i=r.length;for(t=0;t<i;t++)if(r[t].id===n){this.animations.splice(t,1);break}}},{key:"_runFrames",value:function(){var e,t,n,r,i,o,a,s,l={},u=this.animations;for(r=0;r<u.length;r++)if(t=(e=u[r]).layers,n=e.func,e._updateFrameObject(ft()),o=t.length,!n||!1!==n.call(e,e.frame))for(i=0;i<o;i++)void 0!==(a=t[i])._id&&(l[a._id]=a);for(s in l)l.hasOwnProperty(s)&&l[s].batchDraw()}},{key:"_animationLoop",value:function(){var t=e;t.animations.length?(t._runFrames(),b.requestAnimFrame(t._animationLoop)):t.animRunning=!1}},{key:"_handleAnimation",value:function(){this.animRunning||(this.animRunning=!0,b.requestAnimFrame(this._animationLoop))}}]),e}();ht.animations=[],ht.animIdCounter=0,ht.animRunning=!1;var pt={node:1,duration:1,easing:1,onFinish:1,yoyo:1},gt=0,mt=["fill","stroke","shadowColor"],xt=function(){function e(t,n,r,i,o,a,s){(0,d.Z)(this,e),this.prop=t,this.propFunc=n,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=o-this.begin,this.pause()}return(0,f.Z)(e,[{key:"fire",value:function(e){var t=this[e];t&&t()}},{key:"setTime",value:function(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}},{key:"getTime",value:function(){return this._time}},{key:"setPosition",value:function(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}},{key:"getPosition",value:function(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}},{key:"play",value:function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}},{key:"reverse",value:function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}},{key:"seek",value:function(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}},{key:"reset",value:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")}},{key:"finish",value:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}},{key:"update",value:function(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}},{key:"onEnterFrame",value:function(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}},{key:"pause",value:function(){this.state=1,this.fire("onPause")}},{key:"getTimer",value:function(){return(new Date).getTime()}}]),e}(),vt=function(){function e(t){(0,d.Z)(this,e);var n,r,i=this,a=t.node,s=a._id,l=t.easing||St.Linear,u=!!t.yoyo;n="undefined"===typeof t.duration?.3:0===t.duration?.001:t.duration,this.node=a,this._id=gt++;var c=a.getLayer()||(a instanceof o.Stage?a.getLayers():null);for(r in c||b.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new ht((function(){i.tween.onEnterFrame()}),c),this.tween=new xt(r,(function(e){i._tweenFunc(e)}),l,0,1,1e3*n,u),this._addListeners(),e.attrs[s]||(e.attrs[s]={}),e.attrs[s][this._id]||(e.attrs[s][this._id]={}),e.tweens[s]||(e.tweens[s]={}),t)void 0===pt[r]&&this._addAttr(r,t[r]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}return(0,f.Z)(e,[{key:"_addAttr",value:function(t,n){var r,i,o,a,s,l,u,c,d=this.node,f=d._id;if((o=e.tweens[f][t])&&delete e.attrs[f][o][t],r=d.getAttr(t),b._isArray(n))if(i=[],s=Math.max(n.length,r.length),"points"===t&&n.length!==r.length&&(n.length>r.length?(u=r,r=b._prepareArrayForTween(r,n,d.closed())):(l=n,n=b._prepareArrayForTween(n,r,d.closed()))),0===t.indexOf("fill"))for(a=0;a<s;a++)if(a%2===0)i.push(n[a]-r[a]);else{var h=b.colorToRGBA(r[a]);c=b.colorToRGBA(n[a]),r[a]=h,i.push({r:c.r-h.r,g:c.g-h.g,b:c.b-h.b,a:c.a-h.a})}else for(a=0;a<s;a++)i.push(n[a]-r[a]);else-1!==mt.indexOf(t)?(r=b.colorToRGBA(r),i={r:(c=b.colorToRGBA(n)).r-r.r,g:c.g-r.g,b:c.b-r.b,a:c.a-r.a}):i=n-r;e.attrs[f][this._id][t]={start:r,diff:i,end:n,trueEnd:l,trueStart:u},e.tweens[f][t]=this._id}},{key:"_tweenFunc",value:function(t){var n,r,i,o,a,s,l,u,c=this.node,d=e.attrs[c._id][this._id];for(n in d){if(i=(r=d[n]).start,o=r.diff,u=r.end,b._isArray(i))if(a=[],l=Math.max(i.length,u.length),0===n.indexOf("fill"))for(s=0;s<l;s++)s%2===0?a.push((i[s]||0)+o[s]*t):a.push("rgba("+Math.round(i[s].r+o[s].r*t)+","+Math.round(i[s].g+o[s].g*t)+","+Math.round(i[s].b+o[s].b*t)+","+(i[s].a+o[s].a*t)+")");else for(s=0;s<l;s++)a.push((i[s]||0)+o[s]*t);else a=-1!==mt.indexOf(n)?"rgba("+Math.round(i.r+o.r*t)+","+Math.round(i.g+o.g*t)+","+Math.round(i.b+o.b*t)+","+(i.a+o.a*t)+")":i+o*t;c.setAttr(n,a)}}},{key:"_addListeners",value:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){var n=t.node,r=e.attrs[n._id][t._id];r.points&&r.points.trueEnd&&n.setAttr("points",r.points.trueEnd),t.onFinish&&t.onFinish.call(t)},this.tween.onReset=function(){var n=t.node,r=e.attrs[n._id][t._id];r.points&&r.points.trueStart&&n.points(r.points.trueStart),t.onReset&&t.onReset()},this.tween.onUpdate=function(){t.onUpdate&&t.onUpdate.call(t)}}},{key:"play",value:function(){return this.tween.play(),this}},{key:"reverse",value:function(){return this.tween.reverse(),this}},{key:"reset",value:function(){return this.tween.reset(),this}},{key:"seek",value:function(e){return this.tween.seek(1e3*e),this}},{key:"pause",value:function(){return this.tween.pause(),this}},{key:"finish",value:function(){return this.tween.finish(),this}},{key:"destroy",value:function(){var t,n=this.node._id,r=this._id,i=e.tweens[n];for(t in this.pause(),i)delete e.tweens[n][t];delete e.attrs[n][r]}}]),e}();vt.attrs={},vt.tweens={},se.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new vt(e).play()};var St={BackEaseIn:function(e,t,n,r){var i=1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},BackEaseOut:function(e,t,n,r){var i=1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},BackEaseInOut:function(e,t,n,r){var i=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},ElasticEaseIn:function(e,t,n,r,i,o){var a=0;return 0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)+t)},ElasticEaseOut:function(e,t,n,r,i,o){var a=0;return 0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut:function(e,t,n,r,i,o){var a=0;return 0===e?t:2===(e/=r/2)?t+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn:function(e,t,n,r){return n-St.BounceEaseOut(r-e,0,n,r)+t},BounceEaseInOut:function(e,t,n,r){return e<r/2?.5*St.BounceEaseIn(2*e,0,n,r)+t:.5*St.BounceEaseOut(2*e-r,0,n,r)+.5*n+t},EaseIn:function(e,t,n,r){return n*(e/=r)*e+t},EaseOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},EaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},StrongEaseIn:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},StrongEaseOut:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},StrongEaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},Linear:function(e,t,n,r){return n*e/r+t}},yt=b._assign(o,{Util:b,Transform:h,Node:se,Container:fe,Stage:Ke,stages:Ye,Layer:ut,FastLayer:ct,Group:dt,DD:V,Shape:at,shapes:ot,Animation:ht,Tween:vt,Easings:St,Context:N,Canvas:Q}),bt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t=o.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.outerRadius()}},{key:"getHeight",value:function(){return 2*this.outerRadius()}},{key:"setWidth",value:function(e){this.outerRadius(e/2)}},{key:"setHeight",value:function(e){this.outerRadius(e/2)}},{key:"getSelfRect",value:function(){var e=this.innerRadius(),t=this.outerRadius(),n=this.clockwise(),r=o.getAngle(n?360-this.angle():this.angle()),i=Math.cos(Math.min(r,Math.PI)),a=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),s=Math.sin(Math.min(r,Math.PI/2)),l=i*(i>0?e:t),u=a*(a>0?e:t),c=s*(s>0?t:e);return{x:l,y:n?-1*c:u,width:1*t-l,height:c-u}}}]),n}(at);bt.prototype._centroid=!0,bt.prototype.className="Arc",bt.prototype._attrsAffectingSize=["innerRadius","outerRadius"],a(bt),E.addGetterSetter(bt,"innerRadius",0,D()),E.addGetterSetter(bt,"outerRadius",0,D()),E.addGetterSetter(bt,"angle",0,D()),E.addGetterSetter(bt,"clockwise",!1,k());var Ct=n(3433);function wt(e,t,n,r,i,o,a){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),u=a*s/(s+l),c=a*l/(s+l);return[n-u*(i-e),r-u*(o-t),n+c*(i-e),r+c*(o-t)]}function Dt(e,t){var n,r,i=e.length,o=[];for(n=2;n<i-2;n+=2)r=wt(e[n-2],e[n-1],e[n],e[n+1],e[n+2],e[n+3],t),isNaN(r[0])||(o.push(r[0]),o.push(r[1]),o.push(e[n]),o.push(e[n+1]),o.push(r[2]),o.push(r[3]));return o}var Tt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e)).on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),r}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t,n,r,i=this.points(),o=i.length,a=this.tension(),s=this.closed(),l=this.bezier();if(o){if(e.beginPath(),e.moveTo(i[0],i[1]),0!==a&&o>4){for(n=(t=this.getTensionPoints()).length,r=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);r<n-2;)e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);s||e.quadraticCurveTo(t[n-2],t[n-1],i[o-2],i[o-1])}else if(l)for(r=2;r<o;)e.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)e.lineTo(i[r],i[r+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}},{key:"getTensionPoints",value:function(){return this._getCache("tensionPoints",this._getTensionPoints)}},{key:"_getTensionPoints",value:function(){return this.closed()?this._getTensionPointsClosed():Dt(this.points(),this.tension())}},{key:"_getTensionPointsClosed",value:function(){var e=this.points(),t=e.length,n=this.tension(),r=wt(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),i=wt(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),o=Dt(e,n);return[r[2],r[3]].concat(o).concat([i[0],i[1],e[t-2],e[t-1],i[2],i[3],r[0],r[1],e[0],e[1]])}},{key:"getWidth",value:function(){return this.getSelfRect().width}},{key:"getHeight",value:function(){return this.getSelfRect().height}},{key:"getSelfRect",value:function(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};for(var t,n,r=(e=0!==this.tension()?[e[0],e[1]].concat((0,Ct.Z)(this._getTensionPoints()),[e[e.length-2],e[e.length-1]]):this.points())[0],i=e[0],o=e[1],a=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);return{x:r,y:o,width:i-r,height:a-o}}}]),n}(at);Tt.prototype.className="Line",Tt.prototype._attrsAffectingSize=["points","bezier","tension"],a(Tt),E.addGetterSetter(Tt,"closed",!1),E.addGetterSetter(Tt,"bezier",!1),E.addGetterSetter(Tt,"tension",0,D()),E.addGetterSetter(Tt,"points",[],function(){if(o.isUnminified)return function(e,t){return b._isArray(e)?e.forEach((function(e){b._isNumber(e)||b.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")})):b.warn(C(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.'),e}}());var Pt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;(0,d.Z)(this,n),(r=t.call(this,e)).dataArray=[],r.pathLength=0,r.dataArray=n.parsePathData(r.data()),r.pathLength=0;for(var i=0;i<r.dataArray.length;++i)r.pathLength+=r.dataArray[i].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=n.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength})),r}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.dataArray;e.beginPath();for(var n=!1,r=0;r<t.length;r++){var i=t[r].command,o=t[r].points;switch(i){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],d=o[5],f=o[6],h=o[7],p=l>u?l:u,g=l>u?1:l/u,m=l>u?u/l:1;e.translate(a,s),e.rotate(f),e.scale(g,m),e.arc(0,0,p,c,c+d,1-h),e.scale(1/g,1/m),e.rotate(-f),e.translate(-a,-s);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}},{key:"getSelfRect",value:function(){var e=[];this.dataArray.forEach((function(t){if("A"===t.command){var r=t.points[4],i=t.points[5],o=t.points[4]+i,a=Math.PI/180;if(Math.abs(r-o)<a&&(a=Math.abs(r-o)),i<0)for(var s=r-a;s>o;s-=a){var l=n.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],s,0);e.push(l.x,l.y)}else for(var u=r+a;u<o;u+=a){var c=n.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],u,0);e.push(c.x,c.y)}}else if("C"===t.command)for(var d=0;d<=1;d+=.01){var f=n.getPointOnCubicBezier(d,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(f.x,f.y)}else e=e.concat(t.points)}));for(var t,r,i=e[0],o=e[0],a=e[1],s=e[1],l=0;l<e.length/2;l++)t=e[2*l],r=e[2*l+1],isNaN(t)||(i=Math.min(i,t),o=Math.max(o,t)),isNaN(r)||(a=Math.min(a,r),s=Math.max(s,r));return{x:i,y:a,width:o-i,height:s-a}}},{key:"getLength",value:function(){return this.pathLength}},{key:"getPointAtLength",value:function(e){var t,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(t=this.dataArray[r-1].points.slice(-2))[0],y:t[1]};if(e<.01)return{x:(t=this.dataArray[r].points.slice(0,2))[0],y:t[1]};var o=this.dataArray[r],a=o.points;switch(o.command){case"L":return n.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return n.getPointOnCubicBezier(e/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return n.getPointOnQuadraticBezier(e/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var s=a[0],l=a[1],u=a[2],c=a[3],d=a[4],f=a[5],h=a[6];return d+=f*e/o.pathLength,n.getPointOnEllipticalArc(s,l,u,c,d,h)}return null}}],[{key:"getLineLength",value:function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}},{key:"getPointOnLine",value:function(e,t,n,r,i,o,a){void 0===o&&(o=t),void 0===a&&(a=n);var s=(i-n)/(r-t+1e-8),l=Math.sqrt(e*e/(1+s*s));r<t&&(l*=-1);var u,c=s*l;if(r===t)u={x:o,y:a+c};else if((a-n)/(o-t+1e-8)===s)u={x:o+l,y:a+c};else{var d,f,h=this.getLineLength(t,n,r,i),p=(o-t)*(r-t)+(a-n)*(i-n);d=t+(p/=h*h)*(r-t),f=n+p*(i-n);var g=this.getLineLength(o,a,d,f),m=Math.sqrt(e*e-g*g);l=Math.sqrt(m*m/(1+s*s)),r<t&&(l*=-1),u={x:d+l,y:f+(c=s*l)}}return u}},{key:"getPointOnCubicBezier",value:function(e,t,n,r,i,o,a,s,l){function u(e){return e*e*e}function c(e){return 3*e*e*(1-e)}function d(e){return 3*e*(1-e)*(1-e)}function f(e){return(1-e)*(1-e)*(1-e)}return{x:s*u(e)+o*c(e)+r*d(e)+t*f(e),y:l*u(e)+a*c(e)+i*d(e)+n*f(e)}}},{key:"getPointOnQuadraticBezier",value:function(e,t,n,r,i,o,a){function s(e){return e*e}function l(e){return 2*e*(1-e)}function u(e){return(1-e)*(1-e)}return{x:o*s(e)+r*l(e)+t*u(e),y:a*s(e)+i*l(e)+n*u(e)}}},{key:"getPointOnEllipticalArc",value:function(e,t,n,r,i,o){var a=Math.cos(o),s=Math.sin(o),l=n*Math.cos(i),u=r*Math.sin(i);return{x:e+(l*a-u*s),y:t+(l*s+u*a)}}},{key:"parsePathData",value:function(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,o=t.split("|"),a=[],s=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var d=o[r],f=d.charAt(0);for(d=d.slice(1),s.length=0;i=c.exec(d);)s.push(i[0]);for(var h=[],p=0,g=s.length;p<g;p++)if("00"!==s[p]){var m=parseFloat(s[p]);isNaN(m)?h.push(0):h.push(m)}else h.push(0,0);for(;h.length>0&&!isNaN(h[0]);){var x,v,S,y,b,C,w,D,T,P,L=null,I=[],k=l,A=u;switch(f){case"l":l+=h.shift(),u+=h.shift(),L="L",I.push(l,u);break;case"L":l=h.shift(),u=h.shift(),I.push(l,u);break;case"m":var R=h.shift(),E=h.shift();if(l+=R,u+=E,L="M",a.length>2&&"z"===a[a.length-1].command)for(var O=a.length-2;O>=0;O--)if("M"===a[O].command){l=a[O].points[0]+R,u=a[O].points[1]+E;break}I.push(l,u),f="l";break;case"M":l=h.shift(),u=h.shift(),L="M",I.push(l,u),f="L";break;case"h":l+=h.shift(),L="L",I.push(l,u);break;case"H":l=h.shift(),L="L",I.push(l,u);break;case"v":u+=h.shift(),L="L",I.push(l,u);break;case"V":u=h.shift(),L="L",I.push(l,u);break;case"C":I.push(h.shift(),h.shift(),h.shift(),h.shift()),l=h.shift(),u=h.shift(),I.push(l,u);break;case"c":I.push(l+h.shift(),u+h.shift(),l+h.shift(),u+h.shift()),l+=h.shift(),u+=h.shift(),L="C",I.push(l,u);break;case"S":v=l,S=u,"C"===(x=a[a.length-1]).command&&(v=l+(l-x.points[2]),S=u+(u-x.points[3])),I.push(v,S,h.shift(),h.shift()),l=h.shift(),u=h.shift(),L="C",I.push(l,u);break;case"s":v=l,S=u,"C"===(x=a[a.length-1]).command&&(v=l+(l-x.points[2]),S=u+(u-x.points[3])),I.push(v,S,l+h.shift(),u+h.shift()),l+=h.shift(),u+=h.shift(),L="C",I.push(l,u);break;case"Q":I.push(h.shift(),h.shift()),l=h.shift(),u=h.shift(),I.push(l,u);break;case"q":I.push(l+h.shift(),u+h.shift()),l+=h.shift(),u+=h.shift(),L="Q",I.push(l,u);break;case"T":v=l,S=u,"Q"===(x=a[a.length-1]).command&&(v=l+(l-x.points[0]),S=u+(u-x.points[1])),l=h.shift(),u=h.shift(),L="Q",I.push(v,S,l,u);break;case"t":v=l,S=u,"Q"===(x=a[a.length-1]).command&&(v=l+(l-x.points[0]),S=u+(u-x.points[1])),l+=h.shift(),u+=h.shift(),L="Q",I.push(v,S,l,u);break;case"A":y=h.shift(),b=h.shift(),C=h.shift(),w=h.shift(),D=h.shift(),T=l,P=u,l=h.shift(),u=h.shift(),L="A",I=this.convertEndpointToCenterParameterization(T,P,l,u,w,D,y,b,C);break;case"a":y=h.shift(),b=h.shift(),C=h.shift(),w=h.shift(),D=h.shift(),T=l,P=u,l+=h.shift(),u+=h.shift(),L="A",I=this.convertEndpointToCenterParameterization(T,P,l,u,w,D,y,b,C)}a.push({command:L||f,points:I,start:{x:k,y:A},pathLength:this.calcLength(k,A,L||f,I)})}"z"!==f&&"Z"!==f||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}},{key:"calcLength",value:function(e,t,r,i){var o,a,s,l,u=n;switch(r){case"L":return u.getLineLength(e,t,i[0],i[1]);case"C":for(o=0,a=u.getPointOnCubicBezier(0,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)s=u.getPointOnCubicBezier(l,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"Q":for(o=0,a=u.getPointOnQuadraticBezier(0,e,t,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)s=u.getPointOnQuadraticBezier(l,e,t,i[0],i[1],i[2],i[3]),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"A":o=0;var c=i[4],d=i[5],f=i[4]+d,h=Math.PI/180;if(Math.abs(c-f)<h&&(h=Math.abs(c-f)),a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),d<0)for(l=c-h;l>f;l-=h)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(l=c+h;l<f;l+=h)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),o+=u.getLineLength(a.x,a.y,s.x,s.y)}return 0}},{key:"convertEndpointToCenterParameterization",value:function(e,t,n,r,i,o,a,s,l){var u=l*(Math.PI/180),c=Math.cos(u)*(e-n)/2+Math.sin(u)*(t-r)/2,d=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(t-r)/2,f=c*c/(a*a)+d*d/(s*s);f>1&&(a*=Math.sqrt(f),s*=Math.sqrt(f));var h=Math.sqrt((a*a*(s*s)-a*a*(d*d)-s*s*(c*c))/(a*a*(d*d)+s*s*(c*c)));i===o&&(h*=-1),isNaN(h)&&(h=0);var p=h*a*d/s,g=h*-s*c/a,m=(e+n)/2+Math.cos(u)*p-Math.sin(u)*g,x=(t+r)/2+Math.sin(u)*p+Math.cos(u)*g,v=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},S=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(v(e)*v(t))},y=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(S(e,t))},b=y([1,0],[(c-p)/a,(d-g)/s]),C=[(c-p)/a,(d-g)/s],w=[(-1*c-p)/a,(-1*d-g)/s],D=y(C,w);return S(C,w)<=-1&&(D=Math.PI),S(C,w)>=1&&(D=0),0===o&&D>0&&(D-=2*Math.PI),1===o&&D<0&&(D+=2*Math.PI),[m,x,a,s,b,D,u,o]}}]),n}(at);Pt.prototype.className="Path",Pt.prototype._attrsAffectingSize=["data"],a(Pt),E.addGetterSetter(Pt,"data");var Lt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){de((0,ue.Z)(n.prototype),"_sceneFunc",this).call(this,e);var t=2*Math.PI,r=this.points(),i=r,o=0!==this.tension()&&r.length>4;o&&(i=this.getTensionPoints());var a,s,l=this.pointerLength(),u=r.length;if(o){var c=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[u-2],r[u-1]],d=Pt.calcLength(i[i.length-4],i[i.length-3],"C",c),f=Pt.getPointOnQuadraticBezier(Math.min(1,1-l/d),c[0],c[1],c[2],c[3],c[4],c[5]);a=r[u-2]-f.x,s=r[u-1]-f.y}else a=r[u-2]-r[u-4],s=r[u-1]-r[u-3];var h=(Math.atan2(s,a)+t)%t,p=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[u-2],r[u-1]),e.rotate(h),e.moveTo(0,0),e.lineTo(-l,p/2),e.lineTo(-l,-p/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(a=(i[0]+i[2])/2-r[0],s=(i[1]+i[3])/2-r[1]):(a=r[2]-r[0],s=r[3]-r[1]),e.rotate((Math.atan2(-s,-a)+t)%t),e.moveTo(0,0),e.lineTo(-l,p/2),e.lineTo(-l,-p/2),e.closePath(),e.restore(),this.__fillStroke(e))}},{key:"__fillStroke",value:function(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}},{key:"getSelfRect",value:function(){var e=de((0,ue.Z)(n.prototype),"getSelfRect",this).call(this),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}}]),n}(Tt);Lt.prototype.className="Arrow",a(Lt),E.addGetterSetter(Lt,"pointerLength",10,D()),E.addGetterSetter(Lt,"pointerWidth",10,D()),E.addGetterSetter(Lt,"pointerAtBeginning",!1),E.addGetterSetter(Lt,"pointerAtEnding",!0);var It=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.radius()}},{key:"getHeight",value:function(){return 2*this.radius()}},{key:"setWidth",value:function(e){this.radius()!==e/2&&this.radius(e/2)}},{key:"setHeight",value:function(e){this.radius()!==e/2&&this.radius(e/2)}}]),n}(at);It.prototype._centroid=!0,It.prototype.className="Circle",It.prototype._attrsAffectingSize=["radius"],a(It),E.addGetterSetter(It,"radius",0,D());var kt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.radiusX()}},{key:"getHeight",value:function(){return 2*this.radiusY()}},{key:"setWidth",value:function(e){this.radiusX(e/2)}},{key:"setHeight",value:function(e){this.radiusY(e/2)}}]),n}(at);kt.prototype.className="Ellipse",kt.prototype._centroid=!0,kt.prototype._attrsAffectingSize=["radiusX","radiusY"],a(kt),E.addComponentsGetterSetter(kt,"radius",["x","y"]),E.addGetterSetter(kt,"radiusX",0,D()),E.addGetterSetter(kt,"radiusY",0,D());var At=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e)).on("imageChange.konva",(function(){r._setImageLoad()})),r._setImageLoad(),r}return(0,f.Z)(n,[{key:"_setImageLoad",value:function(){var e=this,t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",(function(){e._requestDraw()}))}},{key:"_useBufferCanvas",value:function(){return de((0,ue.Z)(n.prototype),"_useBufferCanvas",this).call(this,!0)}},{key:"_sceneFunc",value:function(e){var t,n=this.getWidth(),r=this.getHeight(),i=this.attrs.image;if(i){var o=this.attrs.cropWidth,a=this.attrs.cropHeight;t=o&&a?[i,this.cropX(),this.cropY(),o,a,0,0,n,r]:[i,0,0,n,r]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),i&&e.drawImage.apply(e,t)}},{key:"_hitFunc",value:function(e){var t=this.width(),n=this.height();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}},{key:"getHeight",value:function(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}}],[{key:"fromURL",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=b.createImageElement();i.onload=function(){var e=new n({image:i});t(e)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}]),n}(at);At.prototype.className="Image",a(At),E.addGetterSetter(At,"image"),E.addComponentsGetterSetter(At,"crop",["x","y","width","height"]),E.addGetterSetter(At,"cropX",0,D()),E.addGetterSetter(At,"cropY",0,D()),E.addGetterSetter(At,"cropWidth",0,D()),E.addGetterSetter(At,"cropHeight",0,D());var Rt=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Et="up",Ot="right",Ft="down",_t="left",Mt=Rt.length,qt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e)).on("add.konva",(function(e){this._addListeners(e.child),this._sync()})),r}return(0,f.Z)(n,[{key:"getText",value:function(){return this.find("Text")[0]}},{key:"getTag",value:function(){return this.find("Tag")[0]}},{key:"_addListeners",value:function(e){var t,n=this,r=function(){n._sync()};for(t=0;t<Mt;t++)e.on(Rt[t]+"Change.konva",r)}},{key:"getWidth",value:function(){return this.getText().width()}},{key:"getHeight",value:function(){return this.getText().height()}},{key:"_sync",value:function(){var e,t,n,r,i,o,a,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),i=0,o=0,n){case Et:i=e/2,o=-1*a;break;case Ot:i=e+r,o=t/2;break;case Ft:i=e/2,o=t+a;break;case _t:i=-1*r,o=t/2}l.setAttrs({x:-1*i,y:-1*o,width:e,height:t}),s.setAttrs({x:-1*i,y:-1*o})}}}]),n}(dt);qt.prototype.className="Label",a(qt);var Nt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius(),s=0,l=0,u=0,c=0;"number"===typeof a?s=l=u=c=Math.min(a,t/2,n/2):(s=Math.min(a[0]||0,t/2,n/2),l=Math.min(a[1]||0,t/2,n/2),c=Math.min(a[2]||0,t/2,n/2),u=Math.min(a[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(s,0),r===Et&&(e.lineTo((t-i)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+i)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),r===Ot&&(e.lineTo(t,(n-o)/2),e.lineTo(t+i,n/2),e.lineTo(t,(n+o)/2)),e.lineTo(t,n-c),e.arc(t-c,n-c,c,0,Math.PI/2,!1),r===Ft&&(e.lineTo((t+i)/2,n),e.lineTo(t/2,n+o),e.lineTo((t-i)/2,n)),e.lineTo(u,n),e.arc(u,n-u,u,Math.PI/2,Math.PI,!1),r===_t&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*i,n/2),e.lineTo(0,(n-o)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}},{key:"getSelfRect",value:function(){var e=0,t=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return i===Et?(t-=r,a+=r):i===Ft?a+=r:i===_t?(e-=1.5*n,o+=n):i===Ot&&(o+=1.5*n),{x:e,y:t,width:o,height:a}}}]),n}(at);Nt.prototype.className="Tag",a(Nt),E.addGetterSetter(Nt,"pointerDirection","none"),E.addGetterSetter(Nt,"pointerWidth",0,D()),E.addGetterSetter(Nt,"pointerHeight",0,D()),E.addGetterSetter(Nt,"cornerRadius",0,T(4));var Ut=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.cornerRadius(),n=this.width(),r=this.height();if(e.beginPath(),t){var i=0,o=0,a=0,s=0;"number"===typeof t?i=o=a=s=Math.min(t,n/2,r/2):(i=Math.min(t[0]||0,n/2,r/2),o=Math.min(t[1]||0,n/2,r/2),s=Math.min(t[2]||0,n/2,r/2),a=Math.min(t[3]||0,n/2,r/2)),e.moveTo(i,0),e.lineTo(n-o,0),e.arc(n-o,o,o,3*Math.PI/2,0,!1),e.lineTo(n,r-s),e.arc(n-s,r-s,s,0,Math.PI/2,!1),e.lineTo(a,r),e.arc(a,r-a,a,Math.PI/2,Math.PI,!1),e.lineTo(0,i),e.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else e.rect(0,0,n,r);e.closePath(),e.fillStrokeShape(this)}}]),n}(at);Ut.prototype.className="Rect",a(Ut),E.addGetterSetter(Ut,"cornerRadius",0,T(4));var Bt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.fillStrokeShape(this)}},{key:"_getPoints",value:function(){for(var e=this.attrs.sides,t=this.attrs.radius||0,n=[],r=0;r<e;r++)n.push({x:t*Math.sin(2*r*Math.PI/e),y:-1*t*Math.cos(2*r*Math.PI/e)});return n}},{key:"getSelfRect",value:function(){var e=this._getPoints(),t=e[0].x,n=e[0].y,r=e[0].x,i=e[0].y;return e.forEach((function(e){t=Math.min(t,e.x),n=Math.max(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.y)})),{x:t,y:r,width:n-t,height:i-r}}},{key:"getWidth",value:function(){return 2*this.radius()}},{key:"getHeight",value:function(){return 2*this.radius()}},{key:"setWidth",value:function(e){this.radius(e/2)}},{key:"setHeight",value:function(e){this.radius(e/2)}}]),n}(at);Bt.prototype.className="RegularPolygon",Bt.prototype._centroid=!0,Bt.prototype._attrsAffectingSize=["radius"],a(Bt),E.addGetterSetter(Bt,"radius",0,D()),E.addGetterSetter(Bt,"sides",0,D());var Zt=2*Math.PI,Qt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Zt,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Zt,0,!0),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.outerRadius()}},{key:"getHeight",value:function(){return 2*this.outerRadius()}},{key:"setWidth",value:function(e){this.outerRadius(e/2)}},{key:"setHeight",value:function(e){this.outerRadius(e/2)}}]),n}(at);Qt.prototype.className="Ring",Qt.prototype._centroid=!0,Qt.prototype._attrsAffectingSize=["innerRadius","outerRadius"],a(Qt),E.addGetterSetter(Qt,"innerRadius",0,D()),E.addGetterSetter(Qt,"outerRadius",0,D());var zt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e))._updated=!0,r.anim=new ht((function(){var e=r._updated;return r._updated=!1,e})),r.on("animationChange.konva",(function(){this.frameIndex(0)})),r.on("frameIndexChange.konva",(function(){this._updated=!0})),r.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),r}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],o=this.frameOffsets(),a=i[r+0],s=i[r+1],l=i[r+2],u=i[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)),c)if(o){var d=o[t],f=2*n;e.drawImage(c,a,s,l,u,d[f+0],d[f+1],l,u)}else e.drawImage(c,a,s,l,u,0,0,l,u)}},{key:"_hitFunc",value:function(e){var t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],o=this.frameOffsets(),a=i[r+2],s=i[r+3];if(e.beginPath(),o){var l=o[t],u=2*n;e.rect(l[u+0],l[u+1],a,s)}else e.rect(0,0,a,s);e.closePath(),e.fillShape(this)}},{key:"_useBufferCanvas",value:function(){return de((0,ue.Z)(n.prototype),"_useBufferCanvas",this).call(this,!0)}},{key:"_setInterval",value:function(){var e=this;this.interval=setInterval((function(){e._updateIndex()}),1e3/this.frameRate())}},{key:"start",value:function(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}},{key:"stop",value:function(){this.anim.stop(),clearInterval(this.interval)}},{key:"isRunning",value:function(){return this.anim.isRunning()}},{key:"_updateIndex",value:function(){var e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}]),n}(at);zt.prototype.className="Sprite",a(zt),E.addGetterSetter(zt,"animation"),E.addGetterSetter(zt,"animations"),E.addGetterSetter(zt,"frameOffsets"),E.addGetterSetter(zt,"image"),E.addGetterSetter(zt,"frameIndex",0,D()),E.addGetterSetter(zt,"frameRate",17,D()),E.backCompat(zt,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Gt=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2===0?n:t,a=o*Math.sin(i*Math.PI/r),s=-1*o*Math.cos(i*Math.PI/r);e.lineTo(a,s)}e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.outerRadius()}},{key:"getHeight",value:function(){return 2*this.outerRadius()}},{key:"setWidth",value:function(e){this.outerRadius(e/2)}},{key:"setHeight",value:function(e){this.outerRadius(e/2)}}]),n}(at);function Vt(e){return Array.from(e)}Gt.prototype.className="Star",Gt.prototype._centroid=!0,Gt.prototype._attrsAffectingSize=["innerRadius","outerRadius"],a(Gt),E.addGetterSetter(Gt,"numPoints",5,D()),E.addGetterSetter(Gt,"innerRadius",0,D()),E.addGetterSetter(Gt,"outerRadius",0,D());var Wt,jt="auto",Ht="justify",Xt="left",Yt="middle",Kt="normal",$t=" ",Jt="none",en=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],tn=en.length;function nn(){return Wt||(Wt=b.createCanvasElement().getContext("2d"))}var rn=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;(0,d.Z)(this,n),r=t.call(this,function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),r._partialTextX=0,r._partialTextY=0;for(var i=0;i<tn;i++)r.on(en[i]+"Change.konva",r._setTextData);return r._setTextData(),r}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.textArr,n=t.length;if(this.text()){var r,i=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,s=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),d=this.letterSpacing(),f=this.fill(),h=this.textDecoration(),p=-1!==h.indexOf("underline"),g=-1!==h.indexOf("line-through"),m=0,x=(m=a/2,0),v=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",Yt),e.setAttr("textAlign",Xt),s===Yt?l=(this.getHeight()-n*a-2*i)/2:"bottom"===s&&(l=this.getHeight()-n*a-2*i),e.translate(i,l+i),r=0;r<n;r++){x=0,v=0;var S,y,b,C=t[r],w=C.text,D=C.width,T=C.lastInParagraph;if(e.save(),"right"===u?x+=c-D-2*i:"center"===u&&(x+=(c-D-2*i)/2),p&&(e.save(),e.beginPath(),e.moveTo(x,m+v+Math.round(o/2)),y=0===(S=w.split(" ").length-1),b=u===Ht&&T&&!y?c-2*i:D,e.lineTo(x+Math.round(b),m+v+Math.round(o/2)),e.lineWidth=o/15,e.strokeStyle=f,e.stroke(),e.restore()),g&&(e.save(),e.beginPath(),e.moveTo(x,m+v),y=0===(S=w.split(" ").length-1),b=u===Ht&&T&&!y?c-2*i:D,e.lineTo(x+Math.round(b),m+v),e.lineWidth=o/15,e.strokeStyle=f,e.stroke(),e.restore()),0!==d||u===Ht){S=w.split(" ").length-1;for(var P=Vt(w),L=0;L<P.length;L++){var I=P[L];" "!==I||T||u!==Ht||(x+=(c-2*i-D)/S),this._partialTextX=x,this._partialTextY=m+v,this._partialText=I,e.fillStrokeShape(this),x+=this.measureSize(I).width+d}}else this._partialTextX=x,this._partialTextY=m+v,this._partialText=w,e.fillStrokeShape(this);e.restore(),n>1&&(m+=a)}}}},{key:"_hitFunc",value:function(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}},{key:"setText",value:function(e){var t=b._isString(e)?e:null===e||void 0===e?"":e+"";return this._setAttr("text",t),this}},{key:"getWidth",value:function(){return this.attrs.width===jt||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}},{key:"getHeight",value:function(){return this.attrs.height===jt||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}},{key:"getTextWidth",value:function(){return this.textWidth}},{key:"getTextHeight",value:function(){return b.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}},{key:"measureSize",value:function(e){var t,n=nn(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),t=n.measureText(e),n.restore(),{width:t.width,height:r}}},{key:"_getContextFont",value:function(){return this.fontStyle()+$t+this.fontVariant()+$t+(this.fontSize()+"px ")+this.fontFamily().split(",").map((function(e){var t=(e=e.trim()).indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e='"'.concat(e,'"')),e})).join(", ")}},{key:"_addTextLine",value:function(e){this.align()===Ht&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}},{key:"_getTextWidth",value:function(e){var t=this.letterSpacing(),n=e.length;return nn().measureText(e).width+(n?t*(n-1):0)}},{key:"_setTextData",value:function(){var e=this.text().split("\n"),t=+this.fontSize(),n=0,r=this.lineHeight()*t,i=this.attrs.width,o=this.attrs.height,a=i!==jt&&void 0!==i,s=o!==jt&&void 0!==o,l=this.padding(),u=i-2*l,c=o-2*l,d=0,f=this.wrap(),h="char"!==f&&f!==Jt,p=this.ellipsis();this.textArr=[],nn().font=this._getContextFont();for(var g=p?this._getTextWidth("\u2026"):0,m=0,x=e.length;m<x;++m){var v=e[m],S=this._getTextWidth(v);if(a&&S>u)for(;v.length>0;){for(var y=0,b=v.length,C="",w=0;y<b;){var D=y+b>>>1,T=v.slice(0,D+1),P=this._getTextWidth(T)+g;P<=u?(y=D+1,C=T,w=P):b=D}if(!C)break;if(h){var L,I=v[C.length];(L=(I===$t||"-"===I)&&w<=u?C.length:Math.max(C.lastIndexOf($t),C.lastIndexOf("-"))+1)>0&&(y=L,C=C.slice(0,y),w=this._getTextWidth(C))}if(C=C.trimRight(),this._addTextLine(C),n=Math.max(n,w),d+=r,this._shouldHandleEllipsis(d)){this._tryToAddEllipsisToLastLine();break}if((v=(v=v.slice(y)).trimLeft()).length>0&&(S=this._getTextWidth(v))<=u){this._addTextLine(v),d+=r,n=Math.max(n,S);break}}else this._addTextLine(v),d+=r,n=Math.max(n,S),this._shouldHandleEllipsis(d)&&this._tryToAddEllipsisToLastLine();if(s&&d+r>c)break;this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0)}this.textHeight=t,this.textWidth=n}},{key:"_shouldHandleEllipsis",value:function(e){var t=+this.fontSize(),n=this.lineHeight()*t,r=this.attrs.height,i=r!==jt&&void 0!==r,o=r-2*this.padding();return!(this.wrap()!==Jt)||i&&e+n>o}},{key:"_tryToAddEllipsisToLastLine",value:function(){var e=this.attrs.width,t=e!==jt&&void 0!==e,n=e-2*this.padding(),r=this.ellipsis(),i=this.textArr[this.textArr.length-1];if(i&&r){if(t)this._getTextWidth(i.text+"\u2026")<n||(i.text=i.text.slice(0,i.text.length-3));this.textArr.splice(this.textArr.length-1,1),this._addTextLine(i.text+"\u2026")}}},{key:"getStrokeScaleEnabled",value:function(){return!0}}]),n}(at);rn.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},rn.prototype._strokeFunc=function(e){e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},rn.prototype.className="Text",rn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],a(rn),E.overWriteSetter(rn,"width",P()),E.overWriteSetter(rn,"height",P()),E.addGetterSetter(rn,"fontFamily","Arial"),E.addGetterSetter(rn,"fontSize",12,D()),E.addGetterSetter(rn,"fontStyle",Kt),E.addGetterSetter(rn,"fontVariant",Kt),E.addGetterSetter(rn,"padding",0,D()),E.addGetterSetter(rn,"align",Xt),E.addGetterSetter(rn,"verticalAlign","top"),E.addGetterSetter(rn,"lineHeight",1,D()),E.addGetterSetter(rn,"wrap","word"),E.addGetterSetter(rn,"ellipsis",!1,k()),E.addGetterSetter(rn,"letterSpacing",0,D()),E.addGetterSetter(rn,"text","",L()),E.addGetterSetter(rn,"textDecoration","");var on="normal";function an(e){e.fillText(this.partialText,0,0)}function sn(e){e.strokeText(this.partialText,0,0)}var ln=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e)).dummyCanvas=b.createCanvasElement(),r.dataArray=[],r.dataArray=Pt.parsePathData(r.attrs.data),r.on("dataChange.konva",(function(){this.dataArray=Pt.parsePathData(this.attrs.data),this._setTextData()})),r.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",r._setTextData),r._setTextData(),r}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===t&&e.beginPath();for(var o=0;o<i.length;o++){e.save();var a=i[o].p0;e.translate(a.x,a.y),e.rotate(i[o].rotation),this.partialText=i[o].text,e.fillStrokeShape(this),"underline"===t&&(0===o&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),e.restore()}},{key:"_hitFunc",value:function(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var n=t[0].p0;e.moveTo(n.x,n.y)}for(var r=0;r<t.length;r++){var i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}},{key:"getTextWidth",value:function(){return this.textWidth}},{key:"getTextHeight",value:function(){return b.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}},{key:"setText",value:function(e){return rn.prototype.setText.call(this,e)}},{key:"_getContextFont",value:function(){return rn.prototype._getContextFont.call(this)}},{key:"_getTextSize",value:function(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}}},{key:"_setTextData",value:function(){var e=this,t=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),i=this.kerningFunc();this.textWidth=t.width,this.textHeight=t.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var a=0,s=0;s<e.dataArray.length;s++)e.dataArray[s].pathLength>0&&(a+=e.dataArray[s].pathLength);var l=0;"center"===r&&(l=Math.max(0,a/2-o/2)),"right"===r&&(l=Math.max(0,a-o));for(var u,c,d,f=Vt(this.text()),h=this.text().split(" ").length-1,p=-1,g=0,m=function(){g=0;for(var t=e.dataArray,n=p+1;n<t.length;n++){if(t[n].pathLength>0)return p=n,t[n];"M"===t[n].command&&(u={x:t[n].points[0],y:t[n].points[1]})}return{}},x=function(t){var i=e._getTextSize(t).width+n;" "===t&&"justify"===r&&(i+=(a-o)/h);var s=0,l=0;for(c=void 0;Math.abs(i-s)/i>.01&&l<20;){l++;for(var f=s;void 0===d;)(d=m())&&f+d.pathLength<i&&(f+=d.pathLength,d=void 0);if(d==={}||void 0===u)return;var p=!1;switch(d.command){case"L":Pt.getLineLength(u.x,u.y,d.points[0],d.points[1])>i?c=Pt.getPointOnLine(i,u.x,u.y,d.points[0],d.points[1],u.x,u.y):d=void 0;break;case"A":var x=d.points[4],v=d.points[5],S=d.points[4]+v;0===g?g=x+1e-8:i>s?g+=Math.PI/180*v/Math.abs(v):g-=Math.PI/360*v/Math.abs(v),(v<0&&g<S||v>=0&&g>S)&&(g=S,p=!0),c=Pt.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],g,d.points[6]);break;case"C":0===g?g=i>d.pathLength?1e-8:i/d.pathLength:i>s?g+=(i-s)/d.pathLength/2:g=Math.max(g-(s-i)/d.pathLength/2,0),g>1&&(g=1,p=!0),c=Pt.getPointOnCubicBezier(g,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===g?g=i/d.pathLength:i>s?g+=(i-s)/d.pathLength:g-=(s-i)/d.pathLength,g>1&&(g=1,p=!0),c=Pt.getPointOnQuadraticBezier(g,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}void 0!==c&&(s=Pt.getLineLength(u.x,u.y,c.x,c.y)),p&&(p=!1,d=void 0)}},v=l/(e._getTextSize("C").width+n)-1,S=0;S<v&&(x("C"),void 0!==u&&void 0!==c);S++)u=c;for(var y=0;y<f.length&&(x(f[y]),void 0!==u&&void 0!==c);y++){var b=Pt.getLineLength(u.x,u.y,c.x,c.y),C=0;if(i)try{C=i(f[y-1],f[y])*this.fontSize()}catch(T){C=0}u.x+=C,c.x+=C,this.textWidth+=C;var w=Pt.getPointOnLine(C+b/2,u.x,u.y,c.x,c.y),D=Math.atan2(c.y-u.y,c.x-u.x);this.glyphInfo.push({transposeX:w.x,transposeY:w.y,text:f[y],rotation:D,p0:u,p1:c}),u=c}}},{key:"getSelfRect",value:function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach((function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)}));for(var t,n,r=e[0]||0,i=e[0]||0,o=e[1]||0,a=e[1]||0,s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);var l=this.fontSize();return{x:r-l/2,y:o-l/2,width:i-r+l,height:a-o+l}}}]),n}(at);ln.prototype._fillFunc=an,ln.prototype._strokeFunc=sn,ln.prototype._fillFuncHit=an,ln.prototype._strokeFuncHit=sn,ln.prototype.className="TextPath",ln.prototype._attrsAffectingSize=["text","fontSize","data"],a(ln),E.addGetterSetter(ln,"data"),E.addGetterSetter(ln,"fontFamily","Arial"),E.addGetterSetter(ln,"fontSize",12,D()),E.addGetterSetter(ln,"fontStyle",on),E.addGetterSetter(ln,"align","left"),E.addGetterSetter(ln,"letterSpacing",0,D()),E.addGetterSetter(ln,"textBaseline","middle"),E.addGetterSetter(ln,"fontVariant",on),E.addGetterSetter(ln,"text",""),E.addGetterSetter(ln,"textDecoration",null),E.addGetterSetter(ln,"kerningFunc",null);var un="tr-konva",cn=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(e){return e+".".concat(un)})).join(" "),dn="nodesRect",fn=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],hn={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},pn="ontouchstart"in o._global;var gn=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function mn(e,t,n){var r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),i=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return Object.assign(Object.assign({},e),{rotation:e.rotation+t,x:r,y:i})}function xn(e,t){var n=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return mn(e,t,n)}var vn=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e))._transforming=!1,r._createElements(),r._handleMouseMove=r._handleMouseMove.bind((0,O.Z)(r)),r._handleMouseUp=r._handleMouseUp.bind((0,O.Z)(r)),r.update=r.update.bind((0,O.Z)(r)),r.on(cn,r.update),r.getNode()&&r.update(),r}return(0,f.Z)(n,[{key:"attachTo",value:function(e){return this.setNode(e),this}},{key:"setNode",value:function(e){return b.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}},{key:"getNode",value:function(){return this._nodes&&this._nodes[0]}},{key:"_getEventNamespace",value:function(){return un+this._id}},{key:"setNodes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((function(t){var n=function(){1===e.nodes().length&&e.useSingleNodeRotation()&&e.rotation(e.nodes()[0].getAbsoluteRotation()),e._resetTransformCache(),e._transforming||e.isDragging()||e.update()},r=t._attrsAffectingSize.map((function(t){return t+"Change."+e._getEventNamespace()})).join(" ");t.on(r,n),t.on(fn.map((function(t){return t+".".concat(e._getEventNamespace())})).join(" "),n),t.on("absoluteTransformChange.".concat(e._getEventNamespace()),n),e._proxyDrag(t)})),this._resetTransformCache();var n=!!this.findOne(".top-left");return n&&this.update(),this}},{key:"_proxyDrag",value:function(e){var t,n=this;e.on("dragstart.".concat(this._getEventNamespace()),(function(r){t=e.getAbsolutePosition(),n.isDragging()||e===n.findOne(".back")||n.startDrag(r,!1)})),e.on("dragmove.".concat(this._getEventNamespace()),(function(r){if(t){var i=e.getAbsolutePosition(),o=i.x-t.x,a=i.y-t.y;n.nodes().forEach((function(t){if(t!==e&&!t.isDragging()){var n=t.getAbsolutePosition();t.setAbsolutePosition({x:n.x+o,y:n.y+a}),t.startDrag(r)}})),t=null}}))}},{key:"getNodes",value:function(){return this._nodes||[]}},{key:"getActiveAnchor",value:function(){return this._movingAnchorName}},{key:"detach",value:function(){var e=this;this._nodes&&this._nodes.forEach((function(t){t.off("."+e._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}},{key:"_resetTransformCache",value:function(){this._clearCache(dn),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}},{key:"_getNodeRect",value:function(){return this._getCache(dn,this.__getNodeRect)}},{key:"__getNodeShape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation(),n=arguments.length>2?arguments[2]:void 0,r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(n),a=e.getAbsolutePosition(n),s=r.x*i.x-e.offsetX()*i.x,l=r.y*i.y-e.offsetY()*i.y,u=(o.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI),c={x:a.x+s*Math.cos(u)+l*Math.sin(-u),y:a.y+l*Math.cos(u)+s*Math.sin(u),width:r.width*i.x,height:r.height*i.y,rotation:u};return mn(c,-o.getAngle(t),{x:0,y:0})}},{key:"__getNodeRect",value:function(){var e=this;if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};var t=[];this.nodes().map((function(n){var r=n.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:e.ignoreStroke()}),i=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],o=n.getAbsoluteTransform();i.forEach((function(e){var n=o.point(e);t.push(n)}))}));var n,r,i,a,s=new h;s.rotate(-o.getAngle(this.rotation())),t.forEach((function(e){var t=s.point(e);void 0===n&&(n=i=t.x,r=a=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),a=Math.max(a,t.y)})),s.invert();var l=s.point({x:n,y:r});return{x:l.x,y:l.y,width:i-n,height:a-r,rotation:o.getAngle(this.rotation())}}},{key:"getX",value:function(){return this._getNodeRect().x}},{key:"getY",value:function(){return this._getNodeRect().y}},{key:"getWidth",value:function(){return this._getNodeRect().width}},{key:"getHeight",value:function(){return this._getNodeRect().height}},{key:"_createElements",value:function(){this._createBack(),gn.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}},{key:"_createAnchor",value:function(e){var t=this,n=new Ut({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:pn?10:"auto"}),r=this;n.on("mousedown touchstart",(function(e){r._handleMouseDown(e)})),n.on("dragstart",(function(e){n.stopDrag(),e.cancelBubble=!0})),n.on("dragend",(function(e){e.cancelBubble=!0})),n.on("mouseenter",(function(){var r=o.getAngle(t.rotation()),i=function(e,t){if("rotater"===e)return"crosshair";t+=b.degToRad(hn[e]||0);var n=(b.radToDeg(t)%360+360)%360;return b._inRange(n,337.5,360)||b._inRange(n,0,22.5)?"ns-resize":b._inRange(n,22.5,67.5)?"nesw-resize":b._inRange(n,67.5,112.5)?"ew-resize":b._inRange(n,112.5,157.5)?"nwse-resize":b._inRange(n,157.5,202.5)?"ns-resize":b._inRange(n,202.5,247.5)?"nesw-resize":b._inRange(n,247.5,292.5)?"ew-resize":b._inRange(n,292.5,337.5)?"nwse-resize":(b.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(e,r);n.getStage().content&&(n.getStage().content.style.cursor=i),t._cursorChange=!0})),n.on("mouseout",(function(){n.getStage().content&&(n.getStage().content.style.cursor=""),t._cursorChange=!1})),this.add(n)}},{key:"_createBack",value:function(){var e=this,t=new at({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(e){var t=this.getParent(),n=t.padding();e.beginPath(),e.rect(-n,-n,this.width()+2*n,this.height()+2*n),e.moveTo(this.width()/2,-n),t.rotateEnabled()&&e.lineTo(this.width()/2,-t.rotateAnchorOffset()*b._sign(this.height())-n),e.fillStrokeShape(this)},hitFunc:function(t,n){if(e.shouldOverdrawWholeArea()){var r=e.padding();t.beginPath(),t.rect(-r,-r,n.width()+2*r,n.height()+2*r),t.fillStrokeShape(n)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",(function(e){e.cancelBubble=!0})),t.on("dragmove",(function(e){e.cancelBubble=!0})),t.on("dragend",(function(e){e.cancelBubble=!0})),this.on("dragmove",(function(t){e.update()}))}},{key:"_handleMouseDown",value:function(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),n=t.width,r=t.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),"undefined"!==typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach((function(t){t._fire("transformstart",{evt:e.evt,target:t})}))}},{key:"_handleMouseMove",value:function(e){var t,n,r,i=this.findOne("."+this._movingAnchorName),a=i.getStage();a.setPointersPositions(e);var s=a.getPointerPosition(),l={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y},u=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,e)),i.setAbsolutePosition(l);var c=i.getAbsolutePosition();if(u.x!==c.x||u.y!==c.y)if("rotater"!==this._movingAnchorName){var d=this.keepRatio()||e.shiftKey,f=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(d){var h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(h.x-i.x(),2)+Math.pow(h.y-i.y(),2));var p=this.findOne(".top-left").x()>h.x?-1:1,g=this.findOne(".top-left").y()>h.y?-1:1;t=r*this.cos*p,n=r*this.sin*g,this.findOne(".top-left").x(h.x-t),this.findOne(".top-left").y(h.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(d){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-h.x,2)+Math.pow(h.y-i.y(),2));p=this.findOne(".top-right").x()<h.x?-1:1,g=this.findOne(".top-right").y()>h.y?-1:1;t=r*this.cos*p,n=r*this.sin*g,this.findOne(".top-right").x(h.x+t),this.findOne(".top-right").y(h.y-n)}var m=i.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(d){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(h.x-i.x(),2)+Math.pow(i.y()-h.y,2));p=h.x<i.x()?-1:1,g=i.y()<h.y?-1:1;t=r*this.cos*p,n=r*this.sin*g,i.x(h.x-t),i.y(h.y+n)}m=i.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName){if(d){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-h.x,2)+Math.pow(i.y()-h.y,2));p=this.findOne(".bottom-right").x()<h.x?-1:1,g=this.findOne(".bottom-right").y()<h.y?-1:1;t=r*this.cos*p,n=r*this.sin*g,this.findOne(".bottom-right").x(h.x+t),this.findOne(".bottom-right").y(h.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey){var x=this.findOne(".top-left"),v=this.findOne(".bottom-right"),S=x.x(),y=x.y(),b=this.getWidth()-v.x(),C=this.getHeight()-v.y();v.move({x:-S,y:-y}),x.move({x:b,y:C})}var w=this.findOne(".top-left").getAbsolutePosition();t=w.x,n=w.y;var D=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:D,height:T,rotation:o.getAngle(this.rotation())},e)}else{var P=this._getNodeRect();t=i.x()-P.width/2,n=-i.y()+P.height/2;var L=Math.atan2(-n,t)+Math.PI/2;P.height<0&&(L-=Math.PI);var I=o.getAngle(this.rotation())+L,k=o.getAngle(this.rotationSnapTolerance()),A=function(e,t,n){for(var r=t,i=0;i<e.length;i++){var a=o.getAngle(e[i]),s=Math.abs(a-t)%(2*Math.PI);Math.min(s,2*Math.PI-s)<n&&(r=a)}return r}(this.rotationSnaps(),I,k),R=xn(P,A-P.rotation);this._fitNodesInto(R,e)}}},{key:"_handleMouseUp",value:function(e){this._removeEvents(e)}},{key:"getAbsoluteTransform",value:function(){return this.getTransform()}},{key:"_removeEvents",value:function(e){if(this._transforming){this._transforming=!1,"undefined"!==typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var t=this.getNode();this._fire("transformend",{evt:e,target:t}),t&&this._nodes.forEach((function(t){t._fire("transformend",{evt:e,target:t})})),this._movingAnchorName=null}}},{key:"_fitNodesInto",value:function(e,t){var n=this,r=this._getNodeRect();if(b._inRange(e.width,2*-this.padding()-1,1))this.update();else if(b._inRange(e.height,2*-this.padding()-1,1))this.update();else{var i=this.flipEnabled(),a=new h;if(a.rotate(o.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){var s=a.point({x:2*-this.padding(),y:0});if(e.x+=s.x,e.y+=s.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=s.x,this._anchorDragOffset.y-=s.y,!i)return void this.update()}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){var l=a.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,e.width+=2*this.padding(),!i)return void this.update()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){var u=a.point({x:0,y:2*-this.padding()});if(e.x+=u.x,e.y+=u.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,e.height+=2*this.padding(),!i)return void this.update()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){var c=a.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=c.x,this._anchorDragOffset.y-=c.y,e.height+=2*this.padding(),!i)return void this.update()}if(this.boundBoxFunc()){var d=this.boundBoxFunc()(r,e);d?e=d:b.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}var f=1e7,p=new h;p.translate(r.x,r.y),p.rotate(r.rotation),p.scale(r.width/f,r.height/f);var g=new h;g.translate(e.x,e.y),g.rotate(e.rotation),g.scale(e.width/f,e.height/f);var m=g.multiply(p.invert());this._nodes.forEach((function(e){var r,i=e.getParent().getAbsoluteTransform(),o=e.getTransform().copy();o.translate(e.offsetX(),e.offsetY());var a=new h;a.multiply(i.copy().invert()).multiply(m).multiply(i).multiply(o);var s=a.decompose();e.setAttrs(s),n._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e}),null===(r=e.getLayer())||void 0===r||r.batchDraw()})),this.rotation(b._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}}},{key:"forceUpdate",value:function(){this._resetTransformCache(),this.update()}},{key:"_batchChangeChild",value:function(e,t){this.findOne(e).setAttrs(t)}},{key:"update",value:function(){var e,t=this,n=this._getNodeRect();this.rotation(b._getRotation(n.rotation));var r=n.width,i=n.height,o=this.enabledAnchors(),a=this.resizeEnabled(),s=this.padding(),l=this.anchorSize();this.find("._anchor").forEach((function(e){e.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+s,offsetY:l/2+s,visible:a&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+s,visible:a&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-s,offsetY:l/2+s,visible:a&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+s,visible:a&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-s,visible:a&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+s,offsetY:l/2-s,visible:a&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-s,visible:a&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-s,offsetY:l/2-s,visible:a&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*b._sign(i)-s,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(e=this.getLayer())||void 0===e||e.batchDraw()}},{key:"isTransforming",value:function(){return this._transforming}},{key:"stopTransform",value:function(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}},{key:"destroy",value:function(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),dt.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}},{key:"toObject",value:function(){return se.prototype.toObject.call(this)}},{key:"getClientRect",value:function(){return{x:0,y:0,width:0,height:0}}}]),n}(dt);vn.prototype.className="Transformer",a(vn),E.addGetterSetter(vn,"enabledAnchors",gn,(function(e){return e instanceof Array||b.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach((function(e){-1===gn.indexOf(e)&&b.warn("Unknown anchor name: "+e+". Available names are: "+gn.join(", "))})),e||[]})),E.addGetterSetter(vn,"flipEnabled",!0,k()),E.addGetterSetter(vn,"resizeEnabled",!0),E.addGetterSetter(vn,"anchorSize",10,D()),E.addGetterSetter(vn,"rotateEnabled",!0),E.addGetterSetter(vn,"rotationSnaps",[]),E.addGetterSetter(vn,"rotateAnchorOffset",50,D()),E.addGetterSetter(vn,"rotationSnapTolerance",5,D()),E.addGetterSetter(vn,"borderEnabled",!0),E.addGetterSetter(vn,"anchorStroke","rgb(0, 161, 255)"),E.addGetterSetter(vn,"anchorStrokeWidth",1,D()),E.addGetterSetter(vn,"anchorFill","white"),E.addGetterSetter(vn,"anchorCornerRadius",0,D()),E.addGetterSetter(vn,"borderStroke","rgb(0, 161, 255)"),E.addGetterSetter(vn,"borderStrokeWidth",1,D()),E.addGetterSetter(vn,"borderDash"),E.addGetterSetter(vn,"keepRatio",!0),E.addGetterSetter(vn,"centeredScaling",!1),E.addGetterSetter(vn,"ignoreStroke",!1),E.addGetterSetter(vn,"padding",0,D()),E.addGetterSetter(vn,"node"),E.addGetterSetter(vn,"nodes"),E.addGetterSetter(vn,"boundBoxFunc"),E.addGetterSetter(vn,"anchorDragBoundFunc"),E.addGetterSetter(vn,"shouldOverdrawWholeArea",!1),E.addGetterSetter(vn,"useSingleNodeRotation",!0),E.backCompat(vn,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Sn=function(e){(0,F.Z)(n,e);var t=(0,_.Z)(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"_sceneFunc",value:function(e){e.beginPath(),e.arc(0,0,this.radius(),0,o.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.radius()}},{key:"getHeight",value:function(){return 2*this.radius()}},{key:"setWidth",value:function(e){this.radius(e/2)}},{key:"setHeight",value:function(e){this.radius(e/2)}}]),n}(at);function yn(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}Sn.prototype.className="Wedge",Sn.prototype._centroid=!0,Sn.prototype._attrsAffectingSize=["radius"],a(Sn),E.addGetterSetter(Sn,"radius",0,D()),E.addGetterSetter(Sn,"angle",0,D()),E.addGetterSetter(Sn,"clockwise",!1),E.backCompat(Sn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var bn=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Cn=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];E.addGetterSetter(se,"blurRadius",0,D(),E.afterSetFilter);E.addGetterSetter(se,"brightness",0,D(),E.afterSetFilter);E.addGetterSetter(se,"contrast",0,D(),E.afterSetFilter);function wn(e,t,n,r,i){var o=n-t,a=i-r;return 0===o?r+a/2:0===a?r:a*((e-t)/o)+r}E.addGetterSetter(se,"embossStrength",.5,D(),E.afterSetFilter),E.addGetterSetter(se,"embossWhiteLevel",.5,D(),E.afterSetFilter),E.addGetterSetter(se,"embossDirection","top-left",null,E.afterSetFilter),E.addGetterSetter(se,"embossBlend",!1,null,E.afterSetFilter);E.addGetterSetter(se,"enhance",0,D(),E.afterSetFilter);E.addGetterSetter(se,"hue",0,D(),E.afterSetFilter),E.addGetterSetter(se,"saturation",0,D(),E.afterSetFilter),E.addGetterSetter(se,"luminance",0,D(),E.afterSetFilter);E.addGetterSetter(se,"hue",0,D(),E.afterSetFilter),E.addGetterSetter(se,"saturation",0,D(),E.afterSetFilter),E.addGetterSetter(se,"value",0,D(),E.afterSetFilter);function Dn(e,t,n){var r=4*(n*e.width+t),i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function Tn(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}E.addGetterSetter(se,"kaleidoscopePower",2,D(),E.afterSetFilter),E.addGetterSetter(se,"kaleidoscopeAngle",0,D(),E.afterSetFilter);E.addGetterSetter(se,"threshold",0,D(),E.afterSetFilter);E.addGetterSetter(se,"noise",.2,D(),E.afterSetFilter);E.addGetterSetter(se,"pixelSize",8,D(),E.afterSetFilter);E.addGetterSetter(se,"levels",.5,D(),E.afterSetFilter);E.addGetterSetter(se,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),E.addGetterSetter(se,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),E.addGetterSetter(se,"blue",0,w,E.afterSetFilter);E.addGetterSetter(se,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),E.addGetterSetter(se,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),E.addGetterSetter(se,"blue",0,w,E.afterSetFilter),E.addGetterSetter(se,"alpha",1,(function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}));E.addGetterSetter(se,"threshold",.5,D(),E.afterSetFilter);var Pn=yt.Util._assign(yt,{Arc:bt,Arrow:Lt,Circle:It,Ellipse:kt,Image:At,Label:qt,Tag:Nt,Line:Tt,Path:Pt,Rect:Ut,RegularPolygon:Bt,Ring:Qt,Sprite:zt,Star:Gt,Text:rn,TextPath:ln,Transformer:vn,Wedge:Sn,Filters:{Blur:function(e){var t=Math.round(this.blurRadius());t>0&&function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h,p,g,m,x,v,S,y,b,C,w,D,T,P=e.data,L=e.width,I=e.height,k=t+t+1,A=L-1,R=I-1,E=t+1,O=E*(E+1)/2,F=new yn,_=null,M=F,q=null,N=null,U=bn[t],B=Cn[t];for(i=1;i<k;i++)M=M.next=new yn,i===E&&(_=M);for(M.next=F,l=s=0,r=0;r<I;r++){for(x=v=S=y=u=c=d=f=0,h=E*(b=P[s]),p=E*(C=P[s+1]),g=E*(w=P[s+2]),m=E*(D=P[s+3]),u+=O*b,c+=O*C,d+=O*w,f+=O*D,M=F,i=0;i<E;i++)M.r=b,M.g=C,M.b=w,M.a=D,M=M.next;for(i=1;i<E;i++)o=s+((A<i?A:i)<<2),u+=(M.r=b=P[o])*(T=E-i),c+=(M.g=C=P[o+1])*T,d+=(M.b=w=P[o+2])*T,f+=(M.a=D=P[o+3])*T,x+=b,v+=C,S+=w,y+=D,M=M.next;for(q=F,N=_,n=0;n<L;n++)P[s+3]=D=f*U>>B,0!==D?(D=255/D,P[s]=(u*U>>B)*D,P[s+1]=(c*U>>B)*D,P[s+2]=(d*U>>B)*D):P[s]=P[s+1]=P[s+2]=0,u-=h,c-=p,d-=g,f-=m,h-=q.r,p-=q.g,g-=q.b,m-=q.a,o=l+((o=n+t+1)<A?o:A)<<2,u+=x+=q.r=P[o],c+=v+=q.g=P[o+1],d+=S+=q.b=P[o+2],f+=y+=q.a=P[o+3],q=q.next,h+=b=N.r,p+=C=N.g,g+=w=N.b,m+=D=N.a,x-=b,v-=C,S-=w,y-=D,N=N.next,s+=4;l+=L}for(n=0;n<L;n++){for(v=S=y=x=c=d=f=u=0,h=E*(b=P[s=n<<2]),p=E*(C=P[s+1]),g=E*(w=P[s+2]),m=E*(D=P[s+3]),u+=O*b,c+=O*C,d+=O*w,f+=O*D,M=F,i=0;i<E;i++)M.r=b,M.g=C,M.b=w,M.a=D,M=M.next;for(a=L,i=1;i<=t;i++)s=a+n<<2,u+=(M.r=b=P[s])*(T=E-i),c+=(M.g=C=P[s+1])*T,d+=(M.b=w=P[s+2])*T,f+=(M.a=D=P[s+3])*T,x+=b,v+=C,S+=w,y+=D,M=M.next,i<R&&(a+=L);for(s=n,q=F,N=_,r=0;r<I;r++)P[3+(o=s<<2)]=D=f*U>>B,D>0?(D=255/D,P[o]=(u*U>>B)*D,P[o+1]=(c*U>>B)*D,P[o+2]=(d*U>>B)*D):P[o]=P[o+1]=P[o+2]=0,u-=h,c-=p,d-=g,f-=m,h-=q.r,p-=q.g,g-=q.b,m-=q.a,o=n+((o=r+E)<R?o:R)*L<<2,u+=x+=q.r=P[o],c+=v+=q.g=P[o+1],d+=S+=q.b=P[o+2],f+=y+=q.a=P[o+3],q=q.next,h+=b=N.r,p+=C=N.g,g+=w=N.b,m+=D=N.a,x-=b,v-=C,S-=w,y-=D,N=N.next,s+=L}}(e,t)},Brighten:function(e){var t,n=255*this.brightness(),r=e.data,i=r.length;for(t=0;t<i;t+=4)r[t]+=n,r[t+1]+=n,r[t+2]+=n},Contrast:function(e){var t,n=Math.pow((this.contrast()+100)/100,2),r=e.data,i=r.length,o=150,a=150,s=150;for(t=0;t<i;t+=4)o=r[t],a=r[t+1],s=r[t+2],o/=255,o-=.5,o*=n,o+=.5,a/=255,a-=.5,a*=n,a+=.5,s/=255,s-=.5,s*=n,s+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,s=(s*=255)<0?0:s>255?255:s,r[t]=o,r[t+1]=a,r[t+2]=s},Emboss:function(e){var t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),o=0,a=0,s=e.data,l=e.width,u=e.height,c=4*l,d=u;switch(r){case"top-left":o=-1,a=-1;break;case"top":o=-1,a=0;break;case"top-right":o=-1,a=1;break;case"right":o=0,a=1;break;case"bottom-right":o=1,a=1;break;case"bottom":o=1,a=0;break;case"bottom-left":o=1,a=-1;break;case"left":o=0,a=-1;break;default:b.error("Unknown emboss direction: "+r)}do{var f=(d-1)*c,h=o;d+h<1&&(h=0),d+h>u&&(h=0);var p=(d-1+h)*l*4,g=l;do{var m=f+4*(g-1),x=a;g+x<1&&(x=0),g+x>l&&(x=0);var v=p+4*(g-1+x),S=s[m]-s[v],y=s[m+1]-s[v+1],C=s[m+2]-s[v+2],w=S,D=w>0?w:-w;if((y>0?y:-y)>D&&(w=y),(C>0?C:-C)>D&&(w=C),w*=t,i){var T=s[m]+w,P=s[m+1]+w,L=s[m+2]+w;s[m]=T>255?255:T<0?0:T,s[m+1]=P>255?255:P<0?0:P,s[m+2]=L>255?255:L<0?0:L}else{var I=n-w;I<0?I=0:I>255&&(I=255),s[m]=s[m+1]=s[m+2]=I}}while(--g)}while(--d)},Enhance:function(e){var t,n,r,i,o=e.data,a=o.length,s=o[0],l=s,u=o[1],c=u,d=o[2],f=d,h=this.enhance();if(0!==h){for(i=0;i<a;i+=4)(t=o[i+0])<s?s=t:t>l&&(l=t),(n=o[i+1])<u?u=n:n>c&&(c=n),(r=o[i+2])<d?d=r:r>f&&(f=r);var p,g,m,x,v,S,y,b,C;for(l===s&&(l=255,s=0),c===u&&(c=255,u=0),f===d&&(f=255,d=0),h>0?(g=l+h*(255-l),m=s-h*(s-0),v=c+h*(255-c),S=u-h*(u-0),b=f+h*(255-f),C=d-h*(d-0)):(g=l+h*(l-(p=.5*(l+s))),m=s+h*(s-p),v=c+h*(c-(x=.5*(c+u))),S=u+h*(u-x),b=f+h*(f-(y=.5*(f+d))),C=d+h*(d-y)),i=0;i<a;i+=4)o[i+0]=wn(o[i+0],s,l,m,g),o[i+1]=wn(o[i+1],u,c,S,v),o[i+2]=wn(o[i+2],d,f,C,b)}},Grayscale:function(e){var t,n,r=e.data,i=r.length;for(t=0;t<i;t+=4)n=.34*r[t]+.5*r[t+1]+.16*r[t+2],r[t]=n,r[t+1]=n,r[t+2]=n},HSL:function(e){var t,n,r,i,o,a=e.data,s=a.length,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=127*this.luminance(),d=1*l*Math.cos(u*Math.PI/180),f=1*l*Math.sin(u*Math.PI/180),h=.299+.701*d+.167*f,p=.587-.587*d+.33*f,g=.114-.114*d-.497*f,m=.299-.299*d-.328*f,x=.587+.413*d+.035*f,v=.114-.114*d+.293*f,S=.299-.3*d+1.25*f,y=.587-.586*d-1.05*f,b=.114+.886*d-.2*f;for(t=0;t<s;t+=4)n=a[t+0],r=a[t+1],i=a[t+2],o=a[t+3],a[t+0]=h*n+p*r+g*i+c,a[t+1]=m*n+x*r+v*i+c,a[t+2]=S*n+y*r+b*i+c,a[t+3]=o},HSV:function(e){var t,n,r,i,o,a=e.data,s=a.length,l=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=l*u*Math.cos(c*Math.PI/180),f=l*u*Math.sin(c*Math.PI/180),h=.299*l+.701*d+.167*f,p=.587*l-.587*d+.33*f,g=.114*l-.114*d-.497*f,m=.299*l-.299*d-.328*f,x=.587*l+.413*d+.035*f,v=.114*l-.114*d+.293*f,S=.299*l-.3*d+1.25*f,y=.587*l-.586*d-1.05*f,b=.114*l+.886*d-.2*f;for(t=0;t<s;t+=4)n=a[t+0],r=a[t+1],i=a[t+2],o=a[t+3],a[t+0]=h*n+p*r+g*i,a[t+1]=m*n+x*r+v*i,a[t+2]=S*n+y*r+b*i,a[t+3]=o},Invert:function(e){var t,n=e.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},Kaleidoscope:function(e){var t,n,r,i,o,a,s,l,u,c=e.width,d=e.height,f=Math.round(this.kaleidoscopePower()),h=Math.round(this.kaleidoscopeAngle()),p=Math.floor(c*(h%360)/360);if(!(f<1)){var g=b.createCanvasElement();g.width=c,g.height=d;var m=g.getContext("2d").getImageData(0,0,c,d);!function(e,t,n){var r,i,o,a,s=e.data,l=t.data,u=e.width,c=e.height,d=n.polarCenterX||u/2,f=n.polarCenterY||c/2,h=0,p=0,g=0,m=0,x=Math.sqrt(d*d+f*f);i=u-d,o=c-f,x=(a=Math.sqrt(i*i+o*o))>x?a:x;var v,S,y,b,C=c,w=u,D=360/w*Math.PI/180;for(S=0;S<w;S+=1)for(y=Math.sin(S*D),b=Math.cos(S*D),v=0;v<C;v+=1)i=Math.floor(d+x*v/C*b),h=s[0+(r=4*((o=Math.floor(f+x*v/C*y))*u+i))],p=s[r+1],g=s[r+2],m=s[r+3],l[0+(r=4*(S+v*u))]=h,l[r+1]=p,l[r+2]=g,l[r+3]=m}(e,m,{polarCenterX:c/2,polarCenterY:d/2});for(var x=c/Math.pow(2,f);x<=8;)x*=2,f-=1;var v=x=Math.ceil(x),S=0,y=v,C=1;for(p+x>c&&(S=v,y=0,C=-1),n=0;n<d;n+=1)for(t=S;t!==y;t+=C)l=4*(c*n+Math.round(t+p)%c),i=m.data[l+0],o=m.data[l+1],a=m.data[l+2],s=m.data[l+3],u=4*(c*n+t),m.data[u+0]=i,m.data[u+1]=o,m.data[u+2]=a,m.data[u+3]=s;for(n=0;n<d;n+=1)for(v=Math.floor(x),r=0;r<f;r+=1){for(t=0;t<v+1;t+=1)l=4*(c*n+t),i=m.data[l+0],o=m.data[l+1],a=m.data[l+2],s=m.data[l+3],u=4*(c*n+2*v-t-1),m.data[u+0]=i,m.data[u+1]=o,m.data[u+2]=a,m.data[u+3]=s;v*=2}!function(e,t,n){var r,i,o,a,s,l,u=e.data,c=t.data,d=e.width,f=e.height,h=n.polarCenterX||d/2,p=n.polarCenterY||f/2,g=0,m=0,x=0,v=0,S=Math.sqrt(h*h+p*p);i=d-h,o=f-p,S=(l=Math.sqrt(i*i+o*o))>S?l:S;var y,b,C,w=f,D=d,T=n.polarRotation||0;for(i=0;i<d;i+=1)for(o=0;o<f;o+=1)a=i-h,s=o-p,y=Math.sqrt(a*a+s*s)*w/S,b=(b=(180*Math.atan2(s,a)/Math.PI+360+T)%360)*D/360,C=Math.floor(b),g=u[0+(r=4*(Math.floor(y)*d+C))],m=u[r+1],x=u[r+2],v=u[r+3],c[0+(r=4*(o*d+i))]=g,c[r+1]=m,c[r+2]=x,c[r+3]=v}(m,e,{polarRotation:0})}},Mask:function(e){var t=function(e,t){var n=Dn(e,0,0),r=Dn(e,e.width-1,0),i=Dn(e,0,e.height-1),o=Dn(e,e.width-1,e.height-1),a=t||10;if(Tn(n,r)<a&&Tn(r,o)<a&&Tn(o,i)<a&&Tn(i,n)<a){for(var s=function(e){for(var t=[0,0,0],n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([r,n,o,i]),l=[],u=0;u<e.width*e.height;u++){var c=Tn(s,[e.data[4*u],e.data[4*u+1],e.data[4*u+2]]);l[u]=c<a?0:255}return l}}(e,this.threshold());return t&&function(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t=function(e,t,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=s+d-o,p=l+f-o;if(h>=0&&h<n&&p>=0&&p<t){var g=r[d*i+f];c+=e[h*t+p]*g}}a[u]=c}return a}(t=function(e,t,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=s+d-o,p=l+f-o;if(h>=0&&h<n&&p>=0&&p<t){var g=r[d*i+f];c+=e[h*t+p]*g}}a[u]=c>=1020?255:0}return a}(t=function(e,t,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=s+d-o,p=l+f-o;if(h>=0&&h<n&&p>=0&&p<t){var g=r[d*i+f];c+=e[h*t+p]*g}}a[u]=2040===c?255:0}return a}(t,e.width,e.height),e.width,e.height),e.width,e.height)),e},Noise:function(e){var t,n=255*this.noise(),r=e.data,i=r.length,o=n/2;for(t=0;t<i;t+=4)r[t+0]+=o-2*o*Math.random(),r[t+1]+=o-2*o*Math.random(),r[t+2]+=o-2*o*Math.random()},Pixelate:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,g=Math.ceil(this.pixelSize()),m=e.width,x=e.height,v=Math.ceil(m/g),S=Math.ceil(x/g),y=e.data;if(g<=0)b.error("pixelSize value can not be <= 0");else for(f=0;f<v;f+=1)for(h=0;h<S;h+=1){for(i=0,o=0,a=0,s=0,u=(l=f*g)+g,d=(c=h*g)+g,p=0,t=l;t<u;t+=1)if(!(t>=m))for(n=c;n<d;n+=1)n>=x||(i+=y[(r=4*(m*n+t))+0],o+=y[r+1],a+=y[r+2],s+=y[r+3],p+=1);for(i/=p,o/=p,a/=p,s/=p,t=l;t<u;t+=1)if(!(t>=m))for(n=c;n<d;n+=1)n>=x||(y[(r=4*(m*n+t))+0]=i,y[r+1]=o,y[r+2]=a,y[r+3]=s)}},Posterize:function(e){var t,n=Math.round(254*this.levels())+1,r=e.data,i=r.length,o=255/n;for(t=0;t<i;t+=1)r[t]=Math.floor(r[t]/o)*o},RGB:function(e){var t,n,r=e.data,i=r.length,o=this.red(),a=this.green(),s=this.blue();for(t=0;t<i;t+=4)n=(.34*r[t]+.5*r[t+1]+.16*r[t+2])/255,r[t]=n*o,r[t+1]=n*a,r[t+2]=n*s,r[t+3]=r[t+3]},RGBA:function(e){var t,n,r=e.data,i=r.length,o=this.red(),a=this.green(),s=this.blue(),l=this.alpha();for(t=0;t<i;t+=4)n=1-l,r[t]=o*l+r[t]*n,r[t+1]=a*l+r[t+1]*n,r[t+2]=s*l+r[t+2]*n},Sepia:function(e){var t,n,r,i,o=e.data,a=o.length;for(t=0;t<a;t+=4)n=o[t+0],r=o[t+1],i=o[t+2],o[t+0]=Math.min(255,.393*n+.769*r+.189*i),o[t+1]=Math.min(255,.349*n+.686*r+.168*i),o[t+2]=Math.min(255,.272*n+.534*r+.131*i)},Solarize:function(e){var t=e.data,n=e.width,r=4*n,i=e.height;do{var o=(i-1)*r,a=n;do{var s=o+4*(a-1),l=t[s],u=t[s+1],c=t[s+2];l>127&&(l=255-l),u>127&&(u=255-u),c>127&&(c=255-c),t[s]=l,t[s+1]=u,t[s+2]=c}while(--a)}while(--i)},Threshold:function(e){var t,n=255*this.threshold(),r=e.data,i=r.length;for(t=0;t<i;t+=1)r[t]=r[t]<n?0:255}}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e=n(2791),t=n.t(e,2),r=n(1250),i=n(9439),o=n(9120),a=n(1537),s=n(162);function l(t,n,r,o,a){var l=e.useState((function(){return a&&r?r(t).matches:o?o(t).matches:n})),u=(0,i.Z)(l,2),c=u[0],d=u[1];return(0,s.Z)((function(){var e=!0;if(r){var n=r(t),i=function(){e&&d(n.matches)};return i(),n.addListener(i),function(){e=!1,n.removeListener(i)}}}),[t,r]),c}var u=t.useSyncExternalStore;function c(t,n,r,o,a){var s=e.useCallback((function(){return n}),[n]),l=e.useMemo((function(){if(a&&r)return function(){return r(t).matches};if(null!==o){var e=o(t).matches;return function(){return e}}return s}),[s,t,o,a,r]),c=e.useMemo((function(){if(null===r)return[s,function(){return function(){}}];var e=r(t);return[function(){return e.matches},function(t){return e.addListener(t),function(){e.removeListener(t)}}]}),[s,r,t]),d=(0,i.Z)(c,2),f=d[0],h=d[1];return u(h,f,l)}var d=n(7462),f=n(3736),h=(n(3361),n(9886)),p=n(2110),g=n.n(p),m=n(5438),x=n(9140),v=n(2561),S=(0,h.w)((function(t,n){var r=t.styles,i=(0,x.O)([r],void 0,(0,e.useContext)(h.T)),o=(0,e.useRef)();return(0,v.j)((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,r],function(){t.flush()}}),[n]),(0,v.j)((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,m.My)(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,x.O)(t)}var b=function(){var e=y.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var C=n(184);function w(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,C.jsx)(S,{styles:i})}var D=n(6482);var T=function(e){return(0,C.jsx)(w,(0,d.Z)({},e,{defaultTheme:D.Z}))},P=function(e,t){return(0,d.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode})},L=function(e){return(0,d.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}})};var I=function(t){var n=(0,f.Z)({props:t,name:"MuiCssBaseline"}),r=n.children,o=n.enableColorScheme,a=void 0!==o&&o;return(0,C.jsxs)(e.Fragment,{children:[(0,C.jsx)(T,{styles:function(e){return function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={};r&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((function(t){var n,r=(0,i.Z)(t,2),a=r[0],s=r[1];o[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:null==(n=s.palette)?void 0:n.mode}}));var a=(0,d.Z)({html:P(e,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,d.Z)({margin:0},L(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},o),s=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return s&&(a=[a,s]),a}(e,a)}}),r]})},k=n(7107),A=n(8023),R=n(9598),E="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var O=function(t){var n=t.children,r=t.theme,i=(0,R.Z)(),o=e.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):(0,d.Z)({},e,t)}(i,r);return null!=e&&(e[E]=null!==i),e}),[r,i]);return(0,C.jsx)(A.Z.Provider,{value:o,children:n})},F=n(418),_={};function M(e){var t=(0,F.Z)();return(0,C.jsx)(h.T.Provider,{value:"object"===typeof t?t:_,children:e.children})}var q=function(e){var t=e.children,n=e.theme;return(0,C.jsx)(O,{theme:n,children:(0,C.jsx)(M,{children:t})})},N={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},U={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},B=n(5671),Z=n(3144),Q=n(136),z=n(1129),G=n(4942);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,G.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=n(3366),H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X="object"===("undefined"===typeof window?"undefined":H(window))&&"object"===("undefined"===typeof document?"undefined":H(document))&&9===document.nodeType,Y=n(9611);function K(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,Y.Z)(e,t)}var $=n(7326),J={}.constructor;function ee(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(ee);if(e.constructor!==J)return e;var t={};for(var n in e)t[n]=ee(e[n]);return t}function te(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=ee(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var ne=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},re=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=ne(e[n]," ");else t=ne(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function ie(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function oe(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function ae(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=ie(n),l=s.linebreak,u=s.space;if(e&&o++,a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];for(var f in d){var h=d[f];null!=h&&(r&&(r+=l),r+=oe(f+":"+u+re(h)+";",o))}}else for(var p in a){var g=a[p];null!=g&&(r&&(r+=l),r+=oe(p+":"+u+re(g)+";",o))}for(var m in t){var x=t[m];null!=x&&"fallbacks"!==m&&(r&&(r+=l),r+=oe(m+":"+u+re(x)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),oe(""+e+u+"{"+r,--o)+oe("}",o)):r}var se=/([[\].#*$><+~=|^:(),"'`\s])/g,le="undefined"!==typeof CSS&&CSS.escape,ue=function(e){return le?le(e):e.replace(se,"\\$1")},ce=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),de=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l((0,$.Z)((0,$.Z)(i)),s),i.selectorText="."+ue(i.id)),i}K(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=re(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,d.Z)({},e,{allowEmpty:!0}):e;return ae(this.selectorText,this.style,n)},(0,Z.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(ce),fe={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new de(e,t,n)}},he={indent:1,children:!0},pe=/@([\w-]+)/,ge=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(pe);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Ue((0,d.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=he);var t=ie(e).linebreak;if(null==e.indent&&(e.indent=he.indent),null==e.children&&(e.children=he.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),me=/@container|@media|@supports\s+/,xe={onCreateRule:function(e,t,n){return me.test(e)?new ge(e,t,n):null}},ve={indent:1,children:!0},Se=/@keyframes\s+([\w-]+)/,ye=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(Se);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,o=n.sheet,a=n.generateId;for(var s in this.id=!1===i?this.name:ue(a(this,o)),this.rules=new Ue((0,d.Z)({},n,{parent:this})),t)this.rules.add(s,t[s],(0,d.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=ve);var t=ie(e).linebreak;if(null==e.indent&&(e.indent=ve.indent),null==e.children&&(e.children=ve.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),be=/@keyframes\s+/,Ce=/\$([\w-]+)/g,we=function(e,t){return"string"===typeof e?e.replace(Ce,(function(e,n){return n in t?t[n]:e})):e},De=function(e,t,n){var r=e[t],i=we(r,n);i!==r&&(e[t]=i)},Te={onCreateRule:function(e,t,n){return"string"===typeof e&&be.test(e)?new ye(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&De(e,"animation-name",n.keyframes),"animation"in e&&De(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return we(e,r.keyframes);default:return e}}},Pe=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,d.Z)({},e,{allowEmpty:!0}):e;return ae(this.key,this.style,n)},t}(ce),Le={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Pe(e,t,n):null}},Ie=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=ie(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=ae(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return ae(this.at,this.style,e)},e}(),ke=/@font-face/,Ae={onCreateRule:function(e,t,n){return ke.test(e)?new Ie(e,t,n):null}},Re=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return ae(this.key,this.style,e)},e}(),Ee={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Re(e,t,n):null}},Oe=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Fe={"@charset":!0,"@import":!0,"@namespace":!0},_e={onCreateRule:function(e,t,n){return e in Fe?new Oe(e,t,n):null}},Me=[fe,xe,Te,Le,Ae,Ee,_e],qe={process:!0},Ne={force:!0,process:!0},Ue=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,o=r.sheet,a=r.jss,s=r.Renderer,l=r.generateId,u=r.scoped,c=(0,d.Z)({classes:this.classes,parent:i,sheet:o,jss:a,Renderer:s,generateId:l,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(c.selector="."+ue(this.classes[f]));var h=te(f,t,c);if(!h)return null;this.register(h);var p=void 0===c.index?this.index.length:c.index;return this.index.splice(p,0,h),h},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==i&&(o=(0,d.Z)({},n,{index:i})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof de?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof ye&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof de?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof ye&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=qe);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var l in o.onProcessStyle(t.style,t,a),t.style){var u=t.style[l];u!==s[l]&&t.prop(l,u,Ne)}for(var c in s){var d=t.style[c],f=s[c];null==d&&d!==f&&t.prop(c,null,Ne)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=ie(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),Be=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,d.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Ue(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Ze=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Qe=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,j.Z)(t,["attached"]),i=ie(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},(0,Z.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ze=new Qe,Ge="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),Ve="2f1acc6c3a606b082e5eef5e54414ffb";null==Ge[Ve]&&(Ge[Ve]=0);var We=Ge[Ve]++,je=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+We+i+t:o+n.key+"-"+We+(i?"-"+i:"")+"-"+t}},He=function(e){var t;return function(){return t||(t=e()),t}},Xe=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},Ye=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=re(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(a){return!1}return!0},Ke=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},$e=function(e,t){return e.selectorText=t,e.selectorText===t},Je=He((function(){return document.querySelector("head")}));function et(e){var t=ze.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=Je(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var tt=He((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),nt=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},rt=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},it=function(){function e(e){this.getPropertyValue=Xe,this.setProperty=Ye,this.removeProperty=Ke,this.setSelector=$e,this.hasInsertedRules=!1,this.cssRules=[],e&&ze.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=tt();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=et(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else Je().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=rt(n,t);if(!1===(i=nt(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=rt(n,t),l=nt(n,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Be&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ot=0,at=function(){function e(e){this.id=ot++,this.version="10.10.0",this.plugins=new Ze,this.options={id:{minify:!1},createGenerateId:je,Renderer:X?it:null,plugins:[]},this.generateId=je({minify:!1});for(var t=0;t<Me.length;t++)this.plugins.use(Me[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,d.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ze.index?0:ze.index+1);var r=new Be(e,(0,d.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ze.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,d.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=te(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),st=function(e){return new at(e)},lt="object"===typeof CSS&&null!=CSS&&"number"in CSS;function ut(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ut(r);o&&(t||(t={}),t[n]=o)}}return t}st();function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=(0,d.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var dt={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},ft=dt,ht=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var pt=Date.now(),gt="fnValues"+pt,mt="fnStyle"+ ++pt,xt=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=te(e,{},n);return r[mt]=t,r},onProcessStyle:function(e,t){if(gt in t||mt in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[gt]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[mt];o&&(i.style=o(e)||{});var a=i[gt];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},vt="@global",St="@global ",yt=function(){function e(e,t,n){for(var r in this.type="global",this.at=vt,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Ue((0,d.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),bt=function(){function e(e,t,n){this.type="global",this.at=vt,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(St.length);this.rule=n.jss.createRule(r,t,(0,d.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ct=/\s*,\s*/g;function wt(e,t){for(var n=e.split(Ct),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Dt=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===vt)return new yt(e,t,n);if("@"===e[0]&&e.substr(0,St.length)===St)return new bt(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[vt]:null;if(i){for(var o in i)t.addRule(o,i[o],(0,d.Z)({},n,{selector:wt(o,e.selector)}));delete r[vt]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,vt.length)===vt){var o=wt(i.substr(vt.length),e.selector);t.addRule(o,r[i],(0,d.Z)({},n,{selector:o})),delete r[i]}}(e,t))}}},Tt=/\s*,\s*/g,Pt=/&/g,Lt=/\$([\w-]+)/g;var It=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Tt),r=e.split(Tt),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Pt,a):a+" "+l}return i}function n(e,t,n){if(n)return(0,d.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=(0,d.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var a,s,l=i,u=l.options.parent;for(var c in r){var f=-1!==c.indexOf("&"),h="@"===c[0];if(f||h){if(a=n(l,u,a),f){var p=t(c,l.selector);s||(s=e(u,o)),p=p.replace(Lt,s);var g=l.key+"-"+c;"replaceRule"in u?u.replaceRule(g,r[c],(0,d.Z)({},a,{selector:p})):u.addRule(g,r[c],(0,d.Z)({},a,{selector:p}))}else h&&u.addRule(c,{},a).addRule(l.key,r[c],{selector:l.selector});delete r[c]}}return r}}},kt=/[A-Z]/g,At=/^ms-/,Rt={};function Et(e){return"-"+e.toLowerCase()}var Ot=function(e){if(Rt.hasOwnProperty(e))return Rt[e];var t=e.replace(kt,Et);return Rt[e]=At.test(t)?"-"+t:t};function Ft(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ot(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ft):t.fallbacks=Ft(e.fallbacks)),t}var _t=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ft(e[t]);return e}return Ft(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ot(t);return t===r?e:(n.prop(r,e),null)}}},Mt=lt&&CSS?CSS.px:"px",qt=lt&&CSS?CSS.ms:"ms",Nt=lt&&CSS?CSS.percent:"%";function Ut(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Bt=Ut({"animation-delay":qt,"animation-duration":qt,"background-position":Mt,"background-position-x":Mt,"background-position-y":Mt,"background-size":Mt,border:Mt,"border-bottom":Mt,"border-bottom-left-radius":Mt,"border-bottom-right-radius":Mt,"border-bottom-width":Mt,"border-left":Mt,"border-left-width":Mt,"border-radius":Mt,"border-right":Mt,"border-right-width":Mt,"border-top":Mt,"border-top-left-radius":Mt,"border-top-right-radius":Mt,"border-top-width":Mt,"border-width":Mt,"border-block":Mt,"border-block-end":Mt,"border-block-end-width":Mt,"border-block-start":Mt,"border-block-start-width":Mt,"border-block-width":Mt,"border-inline":Mt,"border-inline-end":Mt,"border-inline-end-width":Mt,"border-inline-start":Mt,"border-inline-start-width":Mt,"border-inline-width":Mt,"border-start-start-radius":Mt,"border-start-end-radius":Mt,"border-end-start-radius":Mt,"border-end-end-radius":Mt,margin:Mt,"margin-bottom":Mt,"margin-left":Mt,"margin-right":Mt,"margin-top":Mt,"margin-block":Mt,"margin-block-end":Mt,"margin-block-start":Mt,"margin-inline":Mt,"margin-inline-end":Mt,"margin-inline-start":Mt,padding:Mt,"padding-bottom":Mt,"padding-left":Mt,"padding-right":Mt,"padding-top":Mt,"padding-block":Mt,"padding-block-end":Mt,"padding-block-start":Mt,"padding-inline":Mt,"padding-inline-end":Mt,"padding-inline-start":Mt,"mask-position-x":Mt,"mask-position-y":Mt,"mask-size":Mt,height:Mt,width:Mt,"min-height":Mt,"max-height":Mt,"min-width":Mt,"max-width":Mt,bottom:Mt,left:Mt,top:Mt,right:Mt,inset:Mt,"inset-block":Mt,"inset-block-end":Mt,"inset-block-start":Mt,"inset-inline":Mt,"inset-inline-end":Mt,"inset-inline-start":Mt,"box-shadow":Mt,"text-shadow":Mt,"column-gap":Mt,"column-rule":Mt,"column-rule-width":Mt,"column-width":Mt,"font-size":Mt,"font-size-delta":Mt,"letter-spacing":Mt,"text-decoration-thickness":Mt,"text-indent":Mt,"text-stroke":Mt,"text-stroke-width":Mt,"word-spacing":Mt,motion:Mt,"motion-offset":Mt,outline:Mt,"outline-offset":Mt,"outline-width":Mt,perspective:Mt,"perspective-origin-x":Nt,"perspective-origin-y":Nt,"transform-origin":Nt,"transform-origin-x":Nt,"transform-origin-y":Nt,"transform-origin-z":Nt,"transition-delay":qt,"transition-duration":qt,"vertical-align":Mt,"flex-basis":Mt,"shape-margin":Mt,size:Mt,gap:Mt,grid:Mt,"grid-gap":Mt,"row-gap":Mt,"grid-row-gap":Mt,"grid-column-gap":Mt,"grid-template-rows":Mt,"grid-template-columns":Mt,"grid-auto-rows":Mt,"grid-auto-columns":Mt,"box-shadow-x":Mt,"box-shadow-y":Mt,"box-shadow-blur":Mt,"box-shadow-spread":Mt,"font-line-height":Mt,"text-shadow-x":Mt,"text-shadow-y":Mt,"text-shadow-blur":Mt});function Zt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Zt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Zt(i,t[i],n);else for(var o in t)t[o]=Zt(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||Bt[e];return!a||0===t&&a===Mt?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var Qt=function(e){void 0===e&&(e={});var t=Ut(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Zt(r,e[r],t);return e},onChangeValue:function(e,n){return Zt(n,e,t)}}},zt=n(3433),Gt="",Vt="",Wt="",jt="",Ht=X&&"ontouchstart"in document.documentElement;if(X){var Xt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Yt=document.createElement("p").style;for(var Kt in Xt)if(Kt+"Transform"in Yt){Gt=Kt,Vt=Xt[Kt];break}"Webkit"===Gt&&"msHyphens"in Yt&&(Gt="ms",Vt=Xt.ms,jt="edge"),"Webkit"===Gt&&"-apple-trailing-word"in Yt&&(Wt="apple")}var $t=Gt,Jt=Vt,en=Wt,tn=jt,nn=Ht;var rn={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===$t?"-webkit-"+e:Jt+e)}},on={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===$t?Jt+"print-"+e:e)}},an=/[-\s]+(.)?/g;function sn(e,t){return t?t.toUpperCase():""}function ln(e){return e.replace(an,sn)}function un(e){return ln("-"+e)}var cn,dn={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===$t){var n="mask-image";if(ln(n)in t)return e;if($t+un(n)in t)return Jt+e}return e}},fn={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==en||nn?e:Jt+e)}},hn={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Jt+e)}},pn={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Jt+e)}},gn={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===$t||"ms"===$t&&"edge"!==tn?Jt+e:e)}},mn={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===$t||"ms"===$t||"apple"===en?Jt+e:e)}},xn={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===$t?"WebkitColumn"+un(e)in t&&Jt+"column-"+e:"Moz"===$t&&("page"+un(e)in t&&"page-"+e))}},vn={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===$t)return e;var n=e.replace("-inline","");return $t+un(n)in t&&Jt+n}},Sn={supportedProperty:function(e,t){return ln(e)in t&&e}},yn={supportedProperty:function(e,t){var n=un(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:$t+n in t?Jt+e:"Webkit"!==$t&&"Webkit"+n in t&&"-webkit-"+e}},bn={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===$t?""+Jt+e:e)}},Cn={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===$t?Jt+"scroll-chaining":e)}},wn={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Dn={supportedProperty:function(e,t){var n=wn[e];return!!n&&($t+un(n)in t&&Jt+n)}},Tn={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Pn=Object.keys(Tn),Ln=function(e){return Jt+e},In={supportedProperty:function(e,t,n){var r=n.multiple;if(Pn.indexOf(e)>-1){var i=Tn[e];if(!Array.isArray(i))return $t+un(i)in t&&Jt+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!($t+un(i[0])in t))return!1;return i.map(Ln)}return!1}},kn=[rn,on,dn,fn,hn,pn,gn,mn,xn,vn,Sn,yn,bn,Cn,Dn,In],An=kn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Rn=kn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,zt.Z)(t.noPrefill)),e}),[]),En={};if(X){cn=document.createElement("p");var On=window.getComputedStyle(document.documentElement,"");for(var Fn in On)isNaN(Fn)||(En[On[Fn]]=On[Fn]);Rn.forEach((function(e){return delete En[e]}))}function _n(e,t){if(void 0===t&&(t={}),!cn)return e;if(null!=En[e])return En[e];"transition"!==e&&"transform"!==e||(t[e]=e in cn.style);for(var n=0;n<An.length&&(En[e]=An[n](e,cn.style,t),!En[e]);n++);try{cn.style[e]=""}catch(r){return!1}return En[e]}var Mn,qn={},Nn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Un=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Bn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?_n(t):", "+_n(n);return r||(t||n)}function Zn(e,t){var n=t;if(!Mn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=qn[r])return qn[r];try{Mn.style[e]=n}catch(i){return qn[r]=!1,!1}if(Nn[e])n=n.replace(Un,Bn);else if(""===Mn.style[e]&&("-ms-flex"===(n=Jt+n)&&(Mn.style[e]="-ms-flexbox"),Mn.style[e]=n,""===Mn.style[e]))return qn[r]=!1,!1;return Mn.style[e]="",qn[r]=n,qn[r]}X&&(Mn=document.createElement("p"));var Qn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=_n(n);o&&o!==n&&(i=!0);var a=!1,s=Zn(o,re(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===$t?e:"@"+Jt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Zn(t,re(e))||e}}};var zn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var Gn=st({plugins:[xt(),Dt(),It(),_t(),Qt(),"undefined"===typeof window?null:Qn(),zn()]}),Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0,u=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==ht.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[E]&&""===a?"".concat(o,"-").concat(u()):o}return"".concat(s).concat(i).concat(u())}}(),Wn={disableGeneration:!1,generateClassName:Vn,jss:Gn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},jn=e.createContext(Wn);var Hn=-1e9;function Xn(){return Hn+=1}var Yn=n(2466),Kn=n(7312),$n=["variant"];function Jn(e){return 0===e.length}function er(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(l){throw l}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;var o=n.components[r].styleOverrides||{},a=n.components[r].variants||[],s=(0,d.Z)({},i);return Object.keys(o).forEach((function(e){s[e]=(0,Yn.Z)(s[e]||{},o[e])})),a.forEach((function(e){var t=function(e){var t=e.variant,n=(0,j.Z)(e,$n),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Jn(r)?e[t]:(0,Kn.Z)(e[t]):"".concat(Jn(r)?t:(0,Kn.Z)(t)).concat((0,Kn.Z)(e[t].toString()))})),r}(e.props);s[t]=(0,Yn.Z)(s[t]||{},e.style)})),s},options:{}}}var tr={},nr=["name","classNamePrefix","Component","defaultTheme"];function rr(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=ct({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function ir(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,o=e.stylesCreator,a=e.name;if(!i.disableGeneration){var s=ft.get(i.sheetsManager,o,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},ft.set(i.sheetsManager,o,r,s));var l=(0,d.Z)({},o.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var u=i.sheetsRegistry;if(0===s.refs){var c;i.sheetsCache&&(c=ft.get(i.sheetsCache,o,r));var f=o.create(r,a);c||((c=i.jss.createStyleSheet(f,(0,d.Z)({link:!1},l))).attach(),i.sheetsCache&&ft.set(i.sheetsCache,o,r,c)),u&&u.add(c),s.staticSheet=c,s.dynamicStyles=ut(f)}if(s.dynamicStyles){var h=i.jss.createStyleSheet(s.dynamicStyles,(0,d.Z)({link:!0},l));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=ct({baseClasses:s.staticSheet.classes,newClasses:h.classes}),u&&u.add(h)}else n.classes=s.staticSheet.classes;s.refs+=1}}function or(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function ar(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=ft.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(ft.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function sr(t,n){var r,i=e.useRef([]),o=e.useMemo((function(){return{}}),n);i.current!==o&&(i.current=o,r=t()),e.useEffect((function(){return function(){r&&r()}}),[o])}function lr(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,o=n.Component,a=n.defaultTheme,s=void 0===a?tr:a,l=(0,j.Z)(n,nr),u=er(t),c=r||i||"makeStyles";u.options={index:Xn(),name:r,meta:c,classNamePrefix:c};var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,R.Z)()||s,i=(0,d.Z)({},e.useContext(jn),l),a=e.useRef(),c=e.useRef();sr((function(){var e={name:r,state:{},stylesCreator:u,stylesOptions:i,theme:n};return ir(e,t),c.current=!1,a.current=e,function(){ar(e)}}),[n,u]),e.useEffect((function(){c.current&&or(a.current,t),c.current=!0}));var f=rr(a.current,t.classes,o);return f};return f}function ur(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.components||!t.components[n]||!t.components[n].defaultProps)return r;var i,o=(0,d.Z)({},r),a=t.components[n].defaultProps;for(i in a)void 0===o[i]&&(o[i]=a[i]);return o}var cr=["defaultTheme","withTheme","name"],dr=["classes"],fr=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,o=n.withTheme,a=void 0!==o&&o,s=n.name,l=(0,j.Z)(n,cr);var u=s,c=lr(t,(0,d.Z)({defaultTheme:i,Component:r,name:s||r.displayName,classNamePrefix:u},l)),f=e.forwardRef((function(e,t){var n,o=(0,j.Z)(e,dr),l=c((0,d.Z)({},r.defaultProps,e)),u=o;return("string"===typeof s||a)&&(n=(0,R.Z)()||i,s&&(u=ur({theme:n,name:s,props:o})),a&&!u.theme&&(u.theme=n)),(0,C.jsx)(r,(0,d.Z)({ref:t,classes:l},u))}));return g()(f,r),f}},hr=n(8182),pr=n(7416),gr=["sx"];function mr(e){var t,n=e.sx,r=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:pr.Z;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r}((0,j.Z)(e,gr)),i=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[i].concat((0,zt.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,Yn.P)(e)?(0,d.Z)({},i,e):i}:(0,d.Z)({},i,n),(0,d.Z)({},o,{sx:t})}var xr=n(4419),vr=n(4923),Sr=n(4036),yr=n(5878),br=n(1217);function Cr(e){return(0,br.Z)("MuiTypography",e)}(0,yr.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var wr=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Dr=(0,vr.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,Sr.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Tr={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Pr={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Lr=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiTypography"}),r=function(e){return Pr[e]||e}(n.color),i=mr((0,d.Z)({},n,{color:r})),o=i.align,a=void 0===o?"inherit":o,s=i.className,l=i.component,u=i.gutterBottom,c=void 0!==u&&u,h=i.noWrap,p=void 0!==h&&h,g=i.paragraph,m=void 0!==g&&g,x=i.variant,v=void 0===x?"body1":x,S=i.variantMapping,y=void 0===S?Tr:S,b=(0,j.Z)(i,wr),w=(0,d.Z)({},i,{align:a,color:r,className:s,component:l,gutterBottom:c,noWrap:p,paragraph:m,variant:v,variantMapping:y}),D=l||(m?"p":y[v]||Tr[v])||"span",T=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,o=e.variant,a=e.classes,s={root:["root",o,"inherit"!==e.align&&"align".concat((0,Sr.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,xr.Z)(s,Cr,a)}(w);return(0,C.jsx)(Dr,(0,d.Z)({as:D,ref:t,ownerState:w,className:(0,hr.Z)(T.root,s)},b))})),Ir=n(1184),kr=n(5682),Ar=["component","direction","spacing","divider","children"];function Rr(t,n){var r=e.Children.toArray(t).filter(Boolean);return r.reduce((function(t,i,o){return t.push(i),o<r.length-1&&t.push(e.cloneElement(n,{key:"separator-".concat(o)})),t}),[])}var Er=(0,vr.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,r=(0,d.Z)({display:"flex",flexDirection:"column"},(0,Ir.k9)({theme:n},(0,Ir.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=(0,kr.hB)(n),o=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),a=(0,Ir.P$)({values:t.direction,base:o}),s=(0,Ir.P$)({values:t.spacing,base:o});"object"===typeof a&&Object.keys(a).forEach((function(e,t,n){if(!a[e]){var r=t>0?a[n[t-1]]:"column";a[e]=r}}));r=(0,Yn.Z)(r,(0,Ir.k9)({theme:n},s,(function(e,n){return{"& > :not(style) + :not(style)":(0,G.Z)({margin:0},"margin".concat((r=n?a[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,kr.NA)(i,e))};var r})))}return r=(0,Ir.dt)(n.breakpoints,r)})),Or=e.forwardRef((function(e,t){var n=mr((0,f.Z)({props:e,name:"MuiStack"})),r=n.component,i=void 0===r?"div":r,o=n.direction,a=void 0===o?"column":o,s=n.spacing,l=void 0===s?0:s,u=n.divider,c=n.children,h=(0,j.Z)(n,Ar),p={direction:a,spacing:l};return(0,C.jsx)(Er,(0,d.Z)({as:i,ownerState:p,ref:t},h,{children:u?Rr(c,u):c}))})),Fr=Or;function _r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Mr=n(2065);function qr(){return(0,F.Z)(D.Z)}function Nr(e){return(0,br.Z)("MuiLinearProgress",e)}(0,yr.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var Ur,Br,Zr,Qr,zr,Gr,Vr,Wr,jr,Hr,Xr,Yr,Kr=["className","color","value","valueBuffer","variant"],$r=b(Vr||(Vr=Ur||(Ur=_r(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),Jr=b(Wr||(Wr=Br||(Br=_r(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),ei=b(jr||(jr=Zr||(Zr=_r(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),ti=function(e,t){return"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,Mr.$n)(e.palette[t].main,.62):(0,Mr._j)(e.palette[t].main,.5)},ni=(0,vr.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,Sr.Z)(n.color))],t[n.variant]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,d.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ti(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),ri=(0,vr.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,t){var n=e.ownerState;return[t.dashed,t["dashedColor".concat((0,Sr.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme,r=ti(n,t.color);return(0,d.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),y(Hr||(Hr=Qr||(Qr=_r(["\n    animation: "," 3s infinite linear;\n  "]))),ei)),ii=(0,vr.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,Sr.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,d.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&y(Xr||(Xr=zr||(zr=_r(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),$r)})),oi=(0,vr.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,Sr.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,d.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:ti(n,t.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&y(Yr||(Yr=Gr||(Gr=_r(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),Jr)})),ai=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiLinearProgress"}),r=n.className,i=n.color,o=void 0===i?"primary":i,a=n.value,s=n.valueBuffer,l=n.variant,u=void 0===l?"indeterminate":l,c=(0,j.Z)(n,Kr),h=(0,d.Z)({},n,{color:o,variant:u}),p=function(e){var t=e.classes,n=e.variant,r=e.color,i={root:["root","color".concat((0,Sr.Z)(r)),n],dashed:["dashed","dashedColor".concat((0,Sr.Z)(r))],bar1:["bar","barColor".concat((0,Sr.Z)(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,Sr.Z)(r)),"buffer"===n&&"color".concat((0,Sr.Z)(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,xr.Z)(i,Nr,t)}(h),g=qr(),m={},x={bar1:{},bar2:{}};if("determinate"===u||"buffer"===u)if(void 0!==a){m["aria-valuenow"]=Math.round(a),m["aria-valuemin"]=0,m["aria-valuemax"]=100;var v=a-100;"rtl"===g.direction&&(v=-v),x.bar1.transform="translateX(".concat(v,"%)")}else 0;if("buffer"===u)if(void 0!==s){var S=(s||0)-100;"rtl"===g.direction&&(S=-S),x.bar2.transform="translateX(".concat(S,"%)")}else 0;return(0,C.jsxs)(ni,(0,d.Z)({className:(0,hr.Z)(p.root,r),ownerState:h,role:"progressbar"},m,{ref:t},c,{children:["buffer"===u?(0,C.jsx)(ri,{className:p.dashed,ownerState:h}):null,(0,C.jsx)(ii,{className:p.bar1,ownerState:h,style:x.bar1}),"determinate"===u?null:(0,C.jsx)(oi,{className:p.bar2,ownerState:h,style:x.bar2})]}))})),si=ai,li=n(3031),ui=n(2071);function ci(e){return(0,br.Z)("MuiLink",e)}var di=(0,yr.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),fi=n(8529),hi={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},pi=function(e){var t=e.theme,n=e.ownerState,r=function(e){return hi[e]||e}(n.color),i=(0,fi.DW)(t,"palette.".concat(r),!1)||n.color,o=(0,fi.DW)(t,"palette.".concat(r,"Channel"));return"vars"in t&&o?"rgba(".concat(o," / 0.4)"):(0,Mr.Fq)(i,.4)},gi=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],mi=(0,vr.ZP)(Lr,{name:"MuiLink",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["underline".concat((0,Sr.Z)(n.underline))],"button"===n.component&&t.button]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,d.Z)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:pi({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&(0,G.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(di.focusVisible),{outline:"auto"}))})),xi=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiLink"}),o=r.className,a=r.color,s=void 0===a?"primary":a,l=r.component,u=void 0===l?"a":l,c=r.onBlur,h=r.onFocus,p=r.TypographyClasses,g=r.underline,m=void 0===g?"always":g,x=r.variant,v=void 0===x?"inherit":x,S=r.sx,y=(0,j.Z)(r,gi),b=(0,li.Z)(),w=b.isFocusVisibleRef,D=b.onBlur,T=b.onFocus,P=b.ref,L=e.useState(!1),I=(0,i.Z)(L,2),k=I[0],A=I[1],R=(0,ui.Z)(n,P),E=(0,d.Z)({},r,{color:s,component:u,focusVisible:k,underline:m,variant:v}),O=function(e){var t=e.classes,n=e.component,r=e.focusVisible,i=e.underline,o={root:["root","underline".concat((0,Sr.Z)(i)),"button"===n&&"button",r&&"focusVisible"]};return(0,xr.Z)(o,ci,t)}(E);return(0,C.jsx)(mi,(0,d.Z)({color:s,className:(0,hr.Z)(O.root,o),classes:p,component:u,onBlur:function(e){D(e),!1===w.current&&A(!1),c&&c(e)},onFocus:function(e){T(e),!0===w.current&&A(!0),h&&h(e)},ref:R,ownerState:E,variant:v,sx:[].concat((0,zt.Z)(Object.keys(hi).includes(s)?[]:[{color:s}]),(0,zt.Z)(Array.isArray(S)?S:[S]))},y))})),vi=n(9683),Si=e.createContext(null);function yi(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function bi(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Ci(t,n,r){var i=yi(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,e.isValidElement)(s)){var l=a in n,u=a in i,c=n[a],d=(0,e.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,e.isValidElement)(c)&&(o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:bi(s,"exit",t),enter:bi(s,"enter",t)})):o[a]=(0,e.cloneElement)(s,{in:!1}):o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:bi(s,"exit",t),enter:bi(s,"enter",t)})}})),o}var wi=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Di=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,$.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}K(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=t,i=a,yi(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:bi(t,"appear",r),enter:bi(t,"enter",r),exit:bi(t,"exit",r)})}))):Ci(t,o,a),firstRender:!1}},r.handleExited=function(e,t){var n=yi(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,d.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,j.Z)(t,["component","childFactory"]),o=this.state.contextValue,a=wi(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(Si.Provider,{value:o},a):e.createElement(Si.Provider,{value:o},e.createElement(n,i,a))},n}(e.Component);Di.propTypes={},Di.defaultProps={component:"div",childFactory:function(e){return e}};var Ti=Di;var Pi=function(t){var n=t.className,r=t.classes,o=t.pulsate,a=void 0!==o&&o,s=t.rippleX,l=t.rippleY,u=t.rippleSize,c=t.in,d=t.onExited,f=t.timeout,h=e.useState(!1),p=(0,i.Z)(h,2),g=p[0],m=p[1],x=(0,hr.Z)(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),v={width:u,height:u,top:-u/2+l,left:-u/2+s},S=(0,hr.Z)(r.child,g&&r.childLeaving,a&&r.childPulsate);return c||g||m(!0),e.useEffect((function(){if(!c&&null!=d){var e=setTimeout(d,f);return function(){clearTimeout(e)}}}),[d,c,f]),(0,C.jsx)("span",{className:x,style:v,children:(0,C.jsx)("span",{className:S})})};var Li,Ii,ki,Ai,Ri,Ei,Oi,Fi,_i=(0,yr.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Mi=["center","classes","className"],qi=b(Ri||(Ri=Li||(Li=_r(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Ni=b(Ei||(Ei=Ii||(Ii=_r(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ui=b(Oi||(Oi=ki||(ki=_r(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Bi=(0,vr.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Zi=(0,vr.ZP)(Pi,{name:"MuiTouchRipple",slot:"Ripple"})(Fi||(Fi=Ai||(Ai=_r(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),_i.rippleVisible,qi,550,(function(e){return e.theme.transitions.easing.easeInOut}),_i.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),_i.child,_i.childLeaving,Ni,550,(function(e){return e.theme.transitions.easing.easeInOut}),_i.childPulsate,Ui,(function(e){return e.theme.transitions.easing.easeInOut})),Qi=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiTouchRipple"}),o=r.center,a=void 0!==o&&o,s=r.classes,l=void 0===s?{}:s,u=r.className,c=(0,j.Z)(r,Mi),h=e.useState([]),p=(0,i.Z)(h,2),g=p[0],m=p[1],x=e.useRef(0),v=e.useRef(null);e.useEffect((function(){v.current&&(v.current(),v.current=null)}),[g]);var S=e.useRef(!1),y=e.useRef(null),b=e.useRef(null),w=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var D=e.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;m((function(e){return[].concat((0,zt.Z)(e),[(0,C.jsx)(Zi,{classes:{ripple:(0,hr.Z)(l.ripple,_i.ripple),rippleVisible:(0,hr.Z)(l.rippleVisible,_i.rippleVisible),ripplePulsate:(0,hr.Z)(l.ripplePulsate,_i.ripplePulsate),child:(0,hr.Z)(l.child,_i.child),childLeaving:(0,hr.Z)(l.childLeaving,_i.childLeaving),childPulsate:(0,hr.Z)(l.childPulsate,_i.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},x.current)])})),x.current+=1,v.current=o}),[l]),T=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===(null==e?void 0:e.type)&&S.current)S.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(S.current=!0);var c,d,f,h=u?null:w.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),d=Math.round(p.height/2);else{var g=e.touches&&e.touches.length>0?e.touches[0]:e,m=g.clientX,x=g.clientY;c=Math.round(m-p.left),d=Math.round(x-p.top)}if(s)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var v=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,C=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(v,2)+Math.pow(C,2))}null!=e&&e.touches?null===b.current&&(b.current=function(){D({pulsate:i,rippleX:c,rippleY:d,rippleSize:f,cb:n})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):D({pulsate:i,rippleX:c,rippleY:d,rippleSize:f,cb:n})}}),[a,D]),P=e.useCallback((function(){T({},{pulsate:!0})}),[T]),L=e.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===(null==e?void 0:e.type)&&b.current)return b.current(),b.current=null,void(y.current=setTimeout((function(){L(e,t)})));b.current=null,m((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:P,start:T,stop:L}}),[P,T,L]),(0,C.jsx)(Bi,(0,d.Z)({className:(0,hr.Z)(_i.root,l.root,u),ref:w},c,{children:(0,C.jsx)(Ti,{component:null,exit:!0,children:g})}))})),zi=Qi;function Gi(e){return(0,br.Z)("MuiButtonBase",e)}var Vi,Wi=(0,yr.Z)("MuiButtonBase",["root","disabled","focusVisible"]),ji=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Hi=(0,vr.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Vi={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,G.Z)(Vi,"&.".concat(Wi.disabled),{pointerEvents:"none",cursor:"default"}),(0,G.Z)(Vi,"@media print",{colorAdjust:"exact"}),Vi)),Xi=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiButtonBase"}),o=r.action,a=r.centerRipple,s=void 0!==a&&a,l=r.children,u=r.className,c=r.component,h=void 0===c?"button":c,p=r.disabled,g=void 0!==p&&p,m=r.disableRipple,x=void 0!==m&&m,v=r.disableTouchRipple,S=void 0!==v&&v,y=r.focusRipple,b=void 0!==y&&y,w=r.LinkComponent,D=void 0===w?"a":w,T=r.onBlur,P=r.onClick,L=r.onContextMenu,I=r.onDragLeave,k=r.onFocus,A=r.onFocusVisible,R=r.onKeyDown,E=r.onKeyUp,O=r.onMouseDown,F=r.onMouseLeave,_=r.onMouseUp,M=r.onTouchEnd,q=r.onTouchMove,N=r.onTouchStart,U=r.tabIndex,B=void 0===U?0:U,Z=r.TouchRippleProps,Q=r.touchRippleRef,z=r.type,G=(0,j.Z)(r,ji),V=e.useRef(null),W=e.useRef(null),H=(0,ui.Z)(W,Q),X=(0,li.Z)(),Y=X.isFocusVisibleRef,K=X.onFocus,$=X.onBlur,J=X.ref,ee=e.useState(!1),te=(0,i.Z)(ee,2),ne=te[0],re=te[1];g&&ne&&re(!1),e.useImperativeHandle(o,(function(){return{focusVisible:function(){re(!0),V.current.focus()}}}),[]);var ie=e.useState(!1),oe=(0,i.Z)(ie,2),ae=oe[0],se=oe[1];e.useEffect((function(){se(!0)}),[]);var le=ae&&!x&&!g;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return(0,vi.Z)((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}e.useEffect((function(){ne&&b&&!x&&ae&&W.current.pulsate()}),[x,b,ne,ae]);var ce=ue("start",O),de=ue("stop",L),fe=ue("stop",I),he=ue("stop",_),pe=ue("stop",(function(e){ne&&e.preventDefault(),F&&F(e)})),ge=ue("start",N),me=ue("stop",M),xe=ue("stop",q),ve=ue("stop",(function(e){$(e),!1===Y.current&&re(!1),T&&T(e)}),!1),Se=(0,vi.Z)((function(e){V.current||(V.current=e.currentTarget),K(e),!0===Y.current&&(re(!0),A&&A(e)),k&&k(e)})),ye=function(){var e=V.current;return h&&"button"!==h&&!("A"===e.tagName&&e.href)},be=e.useRef(!1),Ce=(0,vi.Z)((function(e){b&&!be.current&&ne&&W.current&&" "===e.key&&(be.current=!0,W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&ye()&&" "===e.key&&e.preventDefault(),R&&R(e),e.target===e.currentTarget&&ye()&&"Enter"===e.key&&!g&&(e.preventDefault(),P&&P(e))})),we=(0,vi.Z)((function(e){b&&" "===e.key&&W.current&&ne&&!e.defaultPrevented&&(be.current=!1,W.current.stop(e,(function(){W.current.pulsate(e)}))),E&&E(e),P&&e.target===e.currentTarget&&ye()&&" "===e.key&&!e.defaultPrevented&&P(e)})),De=h;"button"===De&&(G.href||G.to)&&(De=D);var Te={};"button"===De?(Te.type=void 0===z?"button":z,Te.disabled=g):(G.href||G.to||(Te.role="button"),g&&(Te["aria-disabled"]=g));var Pe=(0,ui.Z)(n,J,V);var Le=(0,d.Z)({},r,{centerRipple:s,component:h,disabled:g,disableRipple:x,disableTouchRipple:S,focusRipple:b,tabIndex:B,focusVisible:ne}),Ie=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,o={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,xr.Z)(o,Gi,i);return n&&r&&(a.root+=" ".concat(r)),a}(Le);return(0,C.jsxs)(Hi,(0,d.Z)({as:De,className:(0,hr.Z)(Ie.root,u),ownerState:Le,onBlur:ve,onClick:P,onContextMenu:de,onFocus:Se,onKeyDown:Ce,onKeyUp:we,onMouseDown:ce,onMouseLeave:pe,onMouseUp:he,onDragLeave:fe,onTouchEnd:me,onTouchMove:xe,onTouchStart:ge,ref:Pe,tabIndex:g?-1:B,type:z},Te,G,{children:[l,le?(0,C.jsx)(zi,(0,d.Z)({ref:H,center:s},Z)):null]}))})),Yi=Xi;function Ki(e){return(0,br.Z)("MuiIconButton",e)}var $i=(0,yr.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ji=["edge","children","className","color","disabled","disableFocusRipple","size"],eo=(0,vr.ZP)(Yi,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,Sr.Z)(n.color))],n.edge&&t["edge".concat((0,Sr.Z)(n.edge))],t["size".concat((0,Sr.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Mr.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,r=e.ownerState,i=null==(t=(n.vars||n).palette)?void 0:t[r.color];return(0,d.Z)({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&(0,d.Z)({color:null==i?void 0:i.main},!r.disableRipple&&{"&:hover":(0,d.Z)({},i&&{backgroundColor:n.vars?"rgba(".concat(i.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,Mr.Fq)(i.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},(0,G.Z)({},"&.".concat($i.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),to=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,o=n.children,a=n.className,s=n.color,l=void 0===s?"default":s,u=n.disabled,c=void 0!==u&&u,h=n.disableFocusRipple,p=void 0!==h&&h,g=n.size,m=void 0===g?"medium":g,x=(0,j.Z)(n,Ji),v=(0,d.Z)({},n,{edge:i,color:l,disabled:c,disableFocusRipple:p,size:m}),S=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,o=e.size,a={root:["root",n&&"disabled","default"!==r&&"color".concat((0,Sr.Z)(r)),i&&"edge".concat((0,Sr.Z)(i)),"size".concat((0,Sr.Z)(o))]};return(0,xr.Z)(a,Ki,t)}(v);return(0,C.jsx)(eo,(0,d.Z)({className:(0,hr.Z)(S.root,a),centerRipple:!0,focusRipple:!p,disabled:c,ref:t,ownerState:v},x,{children:o}))}));function no(e){return(0,br.Z)("MuiToggleButton",e)}var ro=(0,yr.Z)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),io=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],oo=(0,vr.ZP)(Yi,{name:"MuiToggleButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["size".concat((0,Sr.Z)(n.size))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState,o="standard"===i.color?r.palette.text.primary:r.palette[i.color].main;return r.vars&&(o="standard"===i.color?r.vars.palette.text.primary:r.vars.palette[i.color].main,n="standard"===i.color?r.vars.palette.text.primaryChannel:r.vars.palette[i.color].mainChannel),(0,d.Z)({},r.typography.button,{borderRadius:(r.vars||r).shape.borderRadius,padding:11,border:"1px solid ".concat((r.vars||r).palette.divider),color:(r.vars||r).palette.action.active},i.fullWidth&&{width:"100%"},(t={},(0,G.Z)(t,"&.".concat(ro.disabled),{color:(r.vars||r).palette.action.disabled,border:"1px solid ".concat((r.vars||r).palette.action.disabledBackground)}),(0,G.Z)(t,"&:hover",{textDecoration:"none",backgroundColor:r.vars?"rgba(".concat(r.vars.palette.text.primaryChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,Mr.Fq)(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}),(0,G.Z)(t,"&.".concat(ro.selected),{color:o,backgroundColor:r.vars?"rgba(".concat(n," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,Mr.Fq)(o,r.palette.action.selectedOpacity),"&:hover":{backgroundColor:r.vars?"rgba(".concat(n," / calc(").concat(r.vars.palette.action.selectedOpacity," + ").concat(r.vars.palette.action.hoverOpacity,"))"):(0,Mr.Fq)(o,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?"rgba(".concat(n," / ").concat(r.vars.palette.action.selectedOpacity,")"):(0,Mr.Fq)(o,r.palette.action.selectedOpacity)}}}),t),"small"===i.size&&{padding:7,fontSize:r.typography.pxToRem(13)},"large"===i.size&&{padding:15,fontSize:r.typography.pxToRem(15)})})),ao=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiToggleButton"}),r=n.children,i=n.className,o=n.color,a=void 0===o?"standard":o,s=n.disabled,l=void 0!==s&&s,u=n.disableFocusRipple,c=void 0!==u&&u,h=n.fullWidth,p=void 0!==h&&h,g=n.onChange,m=n.onClick,x=n.selected,v=n.size,S=void 0===v?"medium":v,y=n.value,b=(0,j.Z)(n,io),w=(0,d.Z)({},n,{color:a,disabled:l,disableFocusRipple:c,fullWidth:p,size:S}),D=function(e){var t=e.classes,n=e.fullWidth,r=e.selected,i=e.disabled,o=e.size,a=e.color,s={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth","size".concat((0,Sr.Z)(o)),a]};return(0,xr.Z)(s,no,t)}(w);return(0,C.jsx)(oo,(0,d.Z)({className:(0,hr.Z)(D.root,i),disabled:l,focusRipple:!c,ref:t,onClick:function(e){m&&(m(e,y),e.defaultPrevented)||g&&g(e,y)},onChange:g,value:y,ownerState:w,"aria-pressed":x},b,{children:r}))}));n(7441);function so(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}function lo(e){return(0,br.Z)("MuiToggleButtonGroup",e)}var uo=(0,yr.Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),co=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],fo=(0,vr.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,G.Z)({},"& .".concat(uo.grouped),t.grouped),(0,G.Z)({},"& .".concat(uo.grouped),t["grouped".concat((0,Sr.Z)(n.orientation))]),t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})((function(e){var t=e.ownerState,n=e.theme;return(0,d.Z)({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},(0,G.Z)({},"& .".concat(uo.grouped),(0,d.Z)({},"horizontal"===t.orientation?(0,G.Z)({"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0}},"&.".concat(uo.selected," + .").concat(uo.grouped,".").concat(uo.selected),{borderLeft:0,marginLeft:0}):(0,G.Z)({"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}},"&.".concat(uo.selected," + .").concat(uo.grouped,".").concat(uo.selected),{borderTop:0,marginTop:0}))))})),ho=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiToggleButtonGroup"}),i=r.children,o=r.className,a=r.color,s=void 0===a?"standard":a,l=r.disabled,u=void 0!==l&&l,c=r.exclusive,h=void 0!==c&&c,p=r.fullWidth,g=void 0!==p&&p,m=r.onChange,x=r.orientation,v=void 0===x?"horizontal":x,S=r.size,y=void 0===S?"medium":S,b=r.value,w=(0,j.Z)(r,co),D=(0,d.Z)({},r,{disabled:u,fullWidth:g,orientation:v,size:y}),T=function(e){var t=e.classes,n=e.orientation,r=e.fullWidth,i=e.disabled,o={root:["root","vertical"===n&&"vertical",r&&"fullWidth"],grouped:["grouped","grouped".concat((0,Sr.Z)(n)),i&&"disabled"]};return(0,xr.Z)(o,lo,t)}(D),P=function(e,t){if(m){var n,r=b&&b.indexOf(t);b&&r>=0?(n=b.slice()).splice(r,1):n=b?b.concat(t):[t],m(e,n)}},L=function(e,t){m&&m(e,b===t?null:t)};return(0,C.jsx)(fo,(0,d.Z)({role:"group",className:(0,hr.Z)(T.root,o),ref:n,ownerState:D},w,{children:e.Children.map(i,(function(t){return e.isValidElement(t)?e.cloneElement(t,{className:(0,hr.Z)(T.grouped,t.props.className),onChange:h?L:P,selected:void 0===t.props.selected?so(t.props.value,b):t.props.selected,size:t.props.size||y,fullWidth:g,color:t.props.color||s,disabled:t.props.disabled||u}):null}))}))})),po=ho,go=n(9823),mo=n(3950),xo=n(8008),vo=n(7491),So=n(5403),yo=n(1788),bo=n(2960),Co=n(6248),wo=n(7563),Do=n(9723),To=n(8956),Po=n(8949),Lo=n(4164),Io=n(5721),ko=n(2971);var Ao=e.forwardRef((function(t,n){var r=t.children,o=t.container,a=t.disablePortal,s=void 0!==a&&a,l=e.useState(null),u=(0,i.Z)(l,2),c=u[0],d=u[1],f=(0,wo.Z)(e.isValidElement(r)?r.ref:null,n);if((0,Io.Z)((function(){s||d(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,s]),(0,Io.Z)((function(){if(c&&!s)return(0,ko.Z)(n,c),function(){(0,ko.Z)(n,null)}}),[n,c,s]),s){if(e.isValidElement(r)){var h={ref:f};return e.cloneElement(r,h)}return(0,C.jsx)(e.Fragment,{children:r})}return(0,C.jsx)(e.Fragment,{children:c?Lo.createPortal(r,c):c})}));var Ro=Ao,Eo=n(7979);function Oo(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Fo(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function _o(e){return parseInt((0,Eo.Z)(e).getComputedStyle(e).paddingRight,10)||0}function Mo(e,t,n,r,i){var o=[t,n].concat((0,zt.Z)(r));[].forEach.call(e.children,(function(e){var t=-1===o.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Fo(e,i)}))}function qo(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function No(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Do.Z)(e);return t.body===e?(0,Eo.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=Oo((0,Do.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(_o(r)+i,"px");var o=(0,Do.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(_o(e)+i,"px")}))}var a;if(r.parentNode instanceof DocumentFragment)a=(0,Do.Z)(r).body;else{var s=r.parentElement,l=(0,Eo.Z)(r);a="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===l.getComputedStyle(s).overflowY?s:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Uo=function(){function e(){(0,B.Z)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,Z.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Fo(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Mo(t,e.mount,e.modalRef,r,!0);var i=qo(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=qo(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=No(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=qo(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Fo(e.modalRef,t),Mo(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var o=i.modals[i.modals.length-1];o.modalRef&&Fo(o.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),Bo=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Zo(e){var t=[],n=[];return Array.from(e.querySelectorAll(Bo)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function Qo(){return!0}var zo=function(t){var n=t.children,r=t.disableAutoFocus,i=void 0!==r&&r,o=t.disableEnforceFocus,a=void 0!==o&&o,s=t.disableRestoreFocus,l=void 0!==s&&s,u=t.getTabbable,c=void 0===u?Zo:u,d=t.isEnabled,f=void 0===d?Qo:d,h=t.open,p=e.useRef(!1),g=e.useRef(null),m=e.useRef(null),x=e.useRef(null),v=e.useRef(null),S=e.useRef(!1),y=e.useRef(null),b=(0,wo.Z)(n.ref,y),w=e.useRef(null);e.useEffect((function(){h&&y.current&&(S.current=!i)}),[i,h]),e.useEffect((function(){if(h&&y.current){var e=(0,Do.Z)(y.current);return y.current.contains(e.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),S.current&&y.current.focus()),function(){l||(x.current&&x.current.focus&&(p.current=!0,x.current.focus()),x.current=null)}}}),[h]),e.useEffect((function(){if(h&&y.current){var e=(0,Do.Z)(y.current),t=function(t){var n=y.current;if(null!==n)if(e.hasFocus()&&!a&&f()&&!p.current){if(!n.contains(e.activeElement)){if(t&&v.current!==t.target||e.activeElement!==v.current)v.current=null;else if(null!==v.current)return;if(!S.current)return;var r=[];if(e.activeElement!==g.current&&e.activeElement!==m.current||(r=c(y.current)),r.length>0){var i,o,s=Boolean((null==(i=w.current)?void 0:i.shiftKey)&&"Tab"===(null==(o=w.current)?void 0:o.key)),l=r[0],u=r[r.length-1];"string"!==typeof l&&"string"!==typeof u&&(s?u.focus():l.focus())}else n.focus()}}else p.current=!1},n=function(t){w.current=t,!a&&f()&&"Tab"===t.key&&e.activeElement===y.current&&t.shiftKey&&(p.current=!0,m.current&&m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,a,l,f,h,c]);var D=function(e){null===x.current&&(x.current=e.relatedTarget),S.current=!0};return(0,C.jsxs)(e.Fragment,{children:[(0,C.jsx)("div",{tabIndex:h?0:-1,onFocus:D,ref:g,"data-testid":"sentinelStart"}),e.cloneElement(n,{ref:b,onFocus:function(e){null===x.current&&(x.current=e.relatedTarget),S.current=!0,v.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,C.jsx)("div",{tabIndex:h?0:-1,onFocus:D,ref:m,"data-testid":"sentinelEnd"})]})};function Go(e){return(0,br.Z)("MuiModal",e)}(0,yr.Z)("MuiModal",["root","hidden"]);var Vo=function(e){return"string"===typeof e};function Wo(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function jo(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,o=e.className;if(!t){var a=(0,hr.Z)(null==i?void 0:i.className,null==r?void 0:r.className,o,null==n?void 0:n.className),s=(0,d.Z)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),l=(0,d.Z)({},n,i,r);return a.length>0&&(l.className=a),Object.keys(s).length>0&&(l.style=s),{props:l,internalRef:void 0}}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}((0,d.Z)({},i,r)),c=Wo(r),f=Wo(i),h=t(u),p=(0,hr.Z)(null==h?void 0:h.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),g=(0,d.Z)({},null==h?void 0:h.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),m=(0,d.Z)({},h,n,f,c);return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:h.ref}}function Ho(e,t){return"function"===typeof e?e(t):e}var Xo=["elementType","externalSlotProps","ownerState"];function Yo(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,o=(0,j.Z)(e,Xo),a=Ho(r,i),s=jo((0,d.Z)({},o,{externalSlotProps:a})),l=s.props,u=s.internalRef,c=(0,wo.Z)(u,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref),f=function(e,t,n){return void 0===e||Vo(e)?t:(0,d.Z)({},t,{ownerState:(0,d.Z)({},t.ownerState,n)})}(n,(0,d.Z)({},l,{ref:c}),i);return f}var Ko=["children","classes","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"];var $o=new Uo,Jo=e.forwardRef((function(t,n){var r,o,a=t.children,s=t.classes,l=t.closeAfterTransition,u=void 0!==l&&l,c=t.component,f=t.container,h=t.disableAutoFocus,p=void 0!==h&&h,g=t.disableEnforceFocus,m=void 0!==g&&g,x=t.disableEscapeKeyDown,v=void 0!==x&&x,S=t.disablePortal,y=void 0!==S&&S,b=t.disableRestoreFocus,w=void 0!==b&&b,D=t.disableScrollLock,T=void 0!==D&&D,P=t.hideBackdrop,L=void 0!==P&&P,I=t.keepMounted,k=void 0!==I&&I,A=t.manager,R=void 0===A?$o:A,E=t.onBackdropClick,O=t.onClose,F=t.onKeyDown,_=t.open,M=t.onTransitionEnter,q=t.onTransitionExited,N=t.slotProps,U=void 0===N?{}:N,B=t.slots,Z=void 0===B?{}:B,Q=(0,j.Z)(t,Ko),z=e.useState(!_),G=(0,i.Z)(z,2),V=G[0],W=G[1],H=e.useRef({}),X=e.useRef(null),Y=e.useRef(null),K=(0,wo.Z)(Y,n),$=function(e){return!!e&&e.props.hasOwnProperty("in")}(a),J=null==(r=t["aria-hidden"])||r,ee=function(){return H.current.modalRef=Y.current,H.current.mountNode=X.current,H.current},te=function(){R.mount(ee(),{disableScrollLock:T}),Y.current&&(Y.current.scrollTop=0)},ne=(0,To.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(f)||(0,Do.Z)(X.current).body;R.add(ee(),e),Y.current&&te()})),re=e.useCallback((function(){return R.isTopModal(ee())}),[R]),ie=(0,To.Z)((function(e){X.current=e,e&&Y.current&&(_&&re()?te():Fo(Y.current,J))})),oe=e.useCallback((function(){R.remove(ee(),J)}),[R,J]);e.useEffect((function(){return function(){oe()}}),[oe]),e.useEffect((function(){_?ne():$&&u||oe()}),[_,oe,$,u,ne]);var ae=(0,d.Z)({},t,{classes:s,closeAfterTransition:u,disableAutoFocus:p,disableEnforceFocus:m,disableEscapeKeyDown:v,disablePortal:y,disableRestoreFocus:w,disableScrollLock:T,exited:V,hideBackdrop:L,keepMounted:k}),se=function(e){var t=e.open,n=e.exited,r=e.classes,i={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,xr.Z)(i,Go,r)}(ae),le={};void 0===a.props.tabIndex&&(le.tabIndex="-1"),$&&(le.onEnter=(0,Po.Z)((function(){W(!1),M&&M()}),a.props.onEnter),le.onExited=(0,Po.Z)((function(){W(!0),q&&q(),u&&oe()}),a.props.onExited));var ue=null!=(o=null!=c?c:Z.root)?o:"div",ce=Yo({elementType:ue,externalSlotProps:U.root,externalForwardedProps:Q,additionalProps:{ref:K,role:"presentation",onKeyDown:function(e){F&&F(e),"Escape"===e.key&&re()&&(v||(e.stopPropagation(),O&&O(e,"escapeKeyDown")))}},className:se.root,ownerState:ae}),de=Z.backdrop,fe=Yo({elementType:de,externalSlotProps:U.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(E&&E(e),O&&O(e,"backdropClick"))},open:_},className:se.backdrop,ownerState:ae});return k||_||$&&!V?(0,C.jsx)(Ro,{ref:ie,container:f,disablePortal:y,children:(0,C.jsxs)(ue,(0,d.Z)({},ce,{children:[!L&&de?(0,C.jsx)(de,(0,d.Z)({},fe)):null,(0,C.jsx)(zo,{disableEnforceFocus:m,disableAutoFocus:p,disableRestoreFocus:w,isEnabled:re,open:_,children:e.cloneElement(a,le)})]}))}):null})),ea=Jo,ta=!1,na="unmounted",ra="exited",ia="entering",oa="entered",aa="exiting",sa=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=ra,r.appearStatus=ia):i=oa:i=e.unmountOnExit||e.mountOnEnter?na:ra,r.state={status:i},r.nextCallback=null,r}K(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===na?{status:ra}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ia&&n!==oa&&(t=ia):n!==ia&&n!==oa||(t=aa)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ia){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Lo.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ra&&this.setState({status:na})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Lo.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||ta?this.safeSetState({status:oa},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:ia},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:oa},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Lo.findDOMNode(this);t&&!ta?(this.props.onExit(r),this.safeSetState({status:aa},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ra},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ra},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Lo.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===na)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,j.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Si.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function la(){}sa.contextType=Si,sa.propTypes={},sa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:la,onEntering:la,onEntered:la,onExit:la,onExiting:la,onExited:la},sa.UNMOUNTED=na,sa.EXITED=ra,sa.ENTERING=ia,sa.ENTERED=oa,sa.EXITING=aa;var ua=sa,ca=function(e){return e.scrollTop};function da(e,t){var n,r,i=e.timeout,o=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var fa=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ha={entering:{opacity:1},entered:{opacity:1}},pa=e.forwardRef((function(t,n){var r=qr(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=t.addEndListener,a=t.appear,s=void 0===a||a,l=t.children,u=t.easing,c=t.in,f=t.onEnter,h=t.onEntered,p=t.onEntering,g=t.onExit,m=t.onExited,x=t.onExiting,v=t.style,S=t.timeout,y=void 0===S?i:S,b=t.TransitionComponent,w=void 0===b?ua:b,D=(0,j.Z)(t,fa),T=e.useRef(null),P=(0,ui.Z)(T,l.ref,n),L=function(e){return function(t){if(e){var n=T.current;void 0===t?e(n):e(n,t)}}},I=L(p),k=L((function(e,t){ca(e);var n=da({style:v,timeout:y,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),f&&f(e,t)})),A=L(h),R=L(x),E=L((function(e){var t=da({style:v,timeout:y,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),g&&g(e)})),O=L(m);return(0,C.jsx)(w,(0,d.Z)({appear:s,in:c,nodeRef:T,onEnter:k,onEntered:A,onEntering:I,onExit:E,onExited:O,onExiting:R,addEndListener:function(e){o&&o(T.current,e)},timeout:y},D,{children:function(t,n){return e.cloneElement(l,(0,d.Z)({style:(0,d.Z)({opacity:0,visibility:"exited"!==t||c?void 0:"hidden"},ha[t],v,l.props.style),ref:P},n))}}))})),ga=pa;function ma(e){return(0,br.Z)("MuiBackdrop",e)}(0,yr.Z)("MuiBackdrop",["root","invisible"]);var xa=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],va=(0,vr.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,d.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Sa=e.forwardRef((function(e,t){var n,r,i,o=(0,f.Z)({props:e,name:"MuiBackdrop"}),a=o.children,s=o.className,l=o.component,u=void 0===l?"div":l,c=o.components,h=void 0===c?{}:c,p=o.componentsProps,g=void 0===p?{}:p,m=o.invisible,x=void 0!==m&&m,v=o.open,S=o.slotProps,y=void 0===S?{}:S,b=o.slots,w=void 0===b?{}:b,D=o.TransitionComponent,T=void 0===D?ga:D,P=o.transitionDuration,L=(0,j.Z)(o,xa),I=(0,d.Z)({},o,{component:u,invisible:x}),k=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,xr.Z)(n,ma,t)}(I),A=null!=(n=y.root)?n:g.root;return(0,C.jsx)(T,(0,d.Z)({in:v,timeout:P},L,{children:(0,C.jsx)(va,(0,d.Z)({"aria-hidden":!0},A,{as:null!=(r=null!=(i=w.root)?i:h.Root)?r:u,className:(0,hr.Z)(k.root,s,null==A?void 0:A.className),ownerState:(0,d.Z)({},I,null==A?void 0:A.ownerState),classes:k,ref:t,children:a}))}))})),ya=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],ba=(0,vr.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Ca=(0,vr.ZP)(Sa,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),wa=e.forwardRef((function(t,n){var r,o,a,s,l,u,c=(0,f.Z)({name:"MuiModal",props:t}),h=c.BackdropComponent,p=void 0===h?Ca:h,g=c.BackdropProps,m=c.closeAfterTransition,x=void 0!==m&&m,v=c.children,S=c.component,y=c.components,b=void 0===y?{}:y,w=c.componentsProps,D=void 0===w?{}:w,T=c.disableAutoFocus,P=void 0!==T&&T,L=c.disableEnforceFocus,I=void 0!==L&&L,k=c.disableEscapeKeyDown,A=void 0!==k&&k,R=c.disablePortal,E=void 0!==R&&R,O=c.disableRestoreFocus,F=void 0!==O&&O,_=c.disableScrollLock,M=void 0!==_&&_,q=c.hideBackdrop,N=void 0!==q&&q,U=c.keepMounted,B=void 0!==U&&U,Z=c.slotProps,Q=c.slots,z=c.theme,G=(0,j.Z)(c,ya),V=e.useState(!0),W=(0,i.Z)(V,2),H=W[0],X=W[1],Y={closeAfterTransition:x,disableAutoFocus:P,disableEnforceFocus:I,disableEscapeKeyDown:A,disablePortal:E,disableRestoreFocus:F,disableScrollLock:M,hideBackdrop:N,keepMounted:B},K=(0,d.Z)({},c,Y,{exited:H}),$=function(e){return e.classes}(K),J=null!=(r=null!=(o=null==Q?void 0:Q.root)?o:b.Root)?r:ba,ee=null!=(a=null!=(s=null==Q?void 0:Q.backdrop)?s:b.Backdrop)?a:p,te=null!=(l=null==Z?void 0:Z.root)?l:D.root,ne=null!=(u=null==Z?void 0:Z.backdrop)?u:D.backdrop;return(0,C.jsx)(ea,(0,d.Z)({slots:{root:J,backdrop:ee},slotProps:{root:function(){return(0,d.Z)({},Ho(te,K),!Vo(J)&&{as:S,theme:z})},backdrop:function(){return(0,d.Z)({},g,Ho(ne,K))}},onTransitionEnter:function(){return X(!1)},onTransitionExited:function(){return X(!0)},ref:n},G,{classes:$},Y,{children:v}))})),Da=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function Ta(e){return(0,br.Z)("MuiPaper",e)}(0,yr.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var Pa=["className","component","elevation","square","variant"],La=(0,vr.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,d.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&(0,d.Z)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,Mr.Fq)("#fff",Da(r.elevation)),", ").concat((0,Mr.Fq)("#fff",Da(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),Ia=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiPaper"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=n.elevation,s=void 0===a?1:a,l=n.square,u=void 0!==l&&l,c=n.variant,h=void 0===c?"elevation":c,p=(0,j.Z)(n,Pa),g=(0,d.Z)({},n,{component:o,elevation:s,square:u,variant:h}),m=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,xr.Z)(o,Ta,i)}(g);return(0,C.jsx)(La,(0,d.Z)({as:o,ownerState:g,className:(0,hr.Z)(m.root,r),ref:t},p))}));function ka(e){return(0,br.Z)("MuiDialog",e)}var Aa=(0,yr.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var Ra=e.createContext({}),Ea=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Oa=(0,vr.ZP)(Sa,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),Fa=(0,vr.ZP)(wa,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),_a=(0,vr.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat((0,Sr.Z)(n.scroll))]]}})((function(e){var t=e.ownerState;return(0,d.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Ma=(0,vr.ZP)(Ia,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat((0,Sr.Z)(n.scroll))],t["paperWidth".concat((0,Sr.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&(0,G.Z)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(Aa.paperScrollBody),(0,G.Z)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&(0,G.Z)({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(Aa.paperScrollBody),(0,G.Z)({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&(0,G.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(Aa.paperScrollBody),{margin:0,maxWidth:"100%"}))})),qa=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiDialog"}),i=qr(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},a=r["aria-describedby"],s=r["aria-labelledby"],l=r.BackdropComponent,u=r.BackdropProps,c=r.children,h=r.className,p=r.disableEscapeKeyDown,g=void 0!==p&&p,m=r.fullScreen,x=void 0!==m&&m,v=r.fullWidth,S=void 0!==v&&v,y=r.maxWidth,b=void 0===y?"sm":y,w=r.onBackdropClick,D=r.onClose,T=r.open,P=r.PaperComponent,L=void 0===P?Ia:P,I=r.PaperProps,k=void 0===I?{}:I,A=r.scroll,R=void 0===A?"paper":A,E=r.TransitionComponent,O=void 0===E?ga:E,F=r.transitionDuration,_=void 0===F?o:F,M=r.TransitionProps,q=(0,j.Z)(r,Ea),N=(0,d.Z)({},r,{disableEscapeKeyDown:g,fullScreen:x,fullWidth:S,maxWidth:b,scroll:R}),U=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,i=e.fullWidth,o=e.fullScreen,a={root:["root"],container:["container","scroll".concat((0,Sr.Z)(n))],paper:["paper","paperScroll".concat((0,Sr.Z)(n)),"paperWidth".concat((0,Sr.Z)(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,xr.Z)(a,ka,t)}(N),B=e.useRef(),Z=(0,Co.Z)(s),Q=e.useMemo((function(){return{titleId:Z}}),[Z]);return(0,C.jsx)(Fa,(0,d.Z)({className:(0,hr.Z)(U.root,h),closeAfterTransition:!0,components:{Backdrop:Oa},componentsProps:{backdrop:(0,d.Z)({transitionDuration:_,as:l},u)},disableEscapeKeyDown:g,onClose:D,open:T,ref:n,onClick:function(e){B.current&&(B.current=null,w&&w(e),D&&D(e,"backdropClick"))},ownerState:N},q,{children:(0,C.jsx)(O,(0,d.Z)({appear:!0,in:T,timeout:_,role:"presentation"},M,{children:(0,C.jsx)(_a,{className:(0,hr.Z)(U.container),onMouseDown:function(e){B.current=e.target===e.currentTarget},ownerState:N,children:(0,C.jsx)(Ma,(0,d.Z)({as:L,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":Z},k,{className:(0,hr.Z)(U.paper,k.className),ownerState:N,children:(0,C.jsx)(Ra.Provider,{value:Q,children:c})}))})}))}))}));function Na(e){return(0,br.Z)("MuiAppBar",e)}(0,yr.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var Ua=["className","color","enableColorOnDark","position"],Ba=function(e,t){return e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t},Za=(0,vr.ZP)(Ia,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,Sr.Z)(n.position))],t["color".concat((0,Sr.Z)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,d.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,d.Z)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,d.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,d.Z)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Ba(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:Ba(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:Ba(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:Ba(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),Qa=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiAppBar"}),r=n.className,i=n.color,o=void 0===i?"primary":i,a=n.enableColorOnDark,s=void 0!==a&&a,l=n.position,u=void 0===l?"fixed":l,c=(0,j.Z)(n,Ua),h=(0,d.Z)({},n,{color:o,position:u,enableColorOnDark:s}),p=function(e){var t=e.color,n=e.position,r=e.classes,i={root:["root","color".concat((0,Sr.Z)(t)),"position".concat((0,Sr.Z)(n))]};return(0,xr.Z)(i,Na,r)}(h);return(0,C.jsx)(Za,(0,d.Z)({square:!0,component:"header",ownerState:h,elevation:4,className:(0,hr.Z)(p.root,r,"fixed"===u&&"mui-fixed"),ref:t},c))})),za=n(3199),Ga=n(7602),Va=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Wa(e,t,n){var r,i=function(e,t,n){var r,i=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),a=(0,Ga.Z)(t);if(t.fakeTransform)r=t.fakeTransform;else{var s=a.getComputedStyle(t);r=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}var l=0,u=0;if(r&&"none"!==r&&"string"===typeof r){var c=r.split("(")[1].split(")")[0].split(",");l=parseInt(c[4],10),u=parseInt(c[5],10)}return"left"===e?"translateX(".concat(o?o.right+l-i.left:a.innerWidth+l-i.left,"px)"):"right"===e?"translateX(-".concat(o?i.right-o.left-l:i.left+i.width-l,"px)"):"up"===e?"translateY(".concat(o?o.bottom+u-i.top:a.innerHeight+u-i.top,"px)"):"translateY(-".concat(o?i.top-o.top+i.height-u:i.top+i.height-u,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}var ja=e.forwardRef((function(t,n){var r=qr(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=t.addEndListener,s=t.appear,l=void 0===s||s,u=t.children,c=t.container,f=t.direction,h=void 0===f?"down":f,p=t.easing,g=void 0===p?i:p,m=t.in,x=t.onEnter,v=t.onEntered,S=t.onEntering,y=t.onExit,b=t.onExited,w=t.onExiting,D=t.style,T=t.timeout,P=void 0===T?o:T,L=t.TransitionComponent,I=void 0===L?ua:L,k=(0,j.Z)(t,Va),A=e.useRef(null),R=(0,ui.Z)(u.ref,A,n),E=function(e){return function(t){e&&(void 0===t?e(A.current):e(A.current,t))}},O=E((function(e,t){Wa(h,e,c),ca(e),x&&x(e,t)})),F=E((function(e,t){var n=da({timeout:P,style:D,easing:g},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,d.Z)({},n)),e.style.transition=r.transitions.create("transform",(0,d.Z)({},n)),e.style.webkitTransform="none",e.style.transform="none",S&&S(e,t)})),_=E(v),M=E(w),q=E((function(e){var t=da({timeout:P,style:D,easing:g},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),Wa(h,e,c),y&&y(e)})),N=E((function(e){e.style.webkitTransition="",e.style.transition="",b&&b(e)})),U=e.useCallback((function(){A.current&&Wa(h,A.current,c)}),[h,c]);return e.useEffect((function(){if(!m&&"down"!==h&&"right"!==h){var e=(0,za.Z)((function(){A.current&&Wa(h,A.current,c)})),t=(0,Ga.Z)(A.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[h,m,c]),e.useEffect((function(){m||U()}),[m,U]),(0,C.jsx)(I,(0,d.Z)({nodeRef:A,onEnter:O,onEntered:_,onEntering:F,onExit:q,onExited:N,onExiting:M,addEndListener:function(e){a&&a(A.current,e)},appear:l,in:m,timeout:P},k,{children:function(t,n){return e.cloneElement(u,(0,d.Z)({ref:R,style:(0,d.Z)({visibility:"exited"!==t||m?void 0:"hidden"},D,u.props.style)},n))}}))})),Ha=ja;function Xa(e){return(0,br.Z)("MuiToolbar",e)}(0,yr.Z)("MuiToolbar",["root","gutters","regular","dense"]);var Ya=["className","component","disableGutters","variant"],Ka=(0,vr.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,G.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),$a=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiToolbar"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=n.disableGutters,s=void 0!==a&&a,l=n.variant,u=void 0===l?"regular":l,c=(0,j.Z)(n,Ya),h=(0,d.Z)({},n,{component:o,disableGutters:s,variant:u}),p=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,xr.Z)(n,Xa,t)}(h);return(0,C.jsx)(Ka,(0,d.Z)({as:o,className:(0,hr.Z)(p.root,r),ref:t,ownerState:h},c))}));var Ja=e.createContext(void 0);function es(){return e.useContext(Ja)}function ts(e){return(0,br.Z)("MuiInputAdornment",e)}var ns,rs=(0,yr.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),is=["children","className","component","disablePointerEvents","disableTypography","position","variant"],os=(0,vr.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,Sr.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&(0,G.Z)({},"&.".concat(rs.positionStart,"&:not(.").concat(rs.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),as=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiInputAdornment"}),i=r.children,o=r.className,a=r.component,s=void 0===a?"div":a,l=r.disablePointerEvents,u=void 0!==l&&l,c=r.disableTypography,h=void 0!==c&&c,p=r.position,g=r.variant,m=(0,j.Z)(r,is),x=es()||{},v=g;g&&x.variant,x&&!v&&(v=x.variant);var S=(0,d.Z)({},r,{hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:u,position:p,variant:v}),y=function(e){var t=e.classes,n=e.disablePointerEvents,r=e.hiddenLabel,i=e.position,o=e.size,a=e.variant,s={root:["root",n&&"disablePointerEvents",i&&"position".concat((0,Sr.Z)(i)),a,r&&"hiddenLabel",o&&"size".concat((0,Sr.Z)(o))]};return(0,xr.Z)(s,ts,t)}(S);return(0,C.jsx)(Ja.Provider,{value:null,children:(0,C.jsx)(os,(0,d.Z)({as:s,ownerState:S,className:(0,hr.Z)(y.root,o),ref:n},m,{children:"string"!==typeof i||h?(0,C.jsxs)(e.Fragment,{children:["start"===p?ns||(ns=(0,C.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,C.jsx)(Lr,{color:"text.secondary",children:i})}))})})),ss=n(6189),ls=n(3981),us=["onChange","maxRows","minRows","style","value"];function cs(e,t){return parseInt(e[t],10)||0}var ds={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function fs(e){return void 0===e||null===e||0===Object.keys(e).length}var hs=e.forwardRef((function(t,n){var r=t.onChange,o=t.maxRows,a=t.minRows,s=void 0===a?1:a,l=t.style,u=t.value,c=(0,j.Z)(t,us),f=e.useRef(null!=u).current,h=e.useRef(null),p=(0,wo.Z)(n,h),g=e.useRef(null),m=e.useRef(0),x=e.useState({}),v=(0,i.Z)(x,2),S=v[0],y=v[1],b=e.useCallback((function(){var e=h.current,n=(0,Eo.Z)(e).getComputedStyle(e);if("0px"===n.width)return{};var r=g.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=cs(n,"padding-bottom")+cs(n,"padding-top"),l=cs(n,"border-bottom-width")+cs(n,"border-top-width"),u=r.scrollHeight;r.value="x";var c=r.scrollHeight,d=u;return s&&(d=Math.max(Number(s)*c,d)),o&&(d=Math.min(Number(o)*c,d)),{outerHeightStyle:(d=Math.max(d,c))+("border-box"===i?a+l:0),overflow:Math.abs(d-u)<=1}}),[o,s,t.placeholder]),w=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return m.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(m.current+=1,{overflow:r,outerHeightStyle:n}):e},D=e.useCallback((function(){var e=b();fs(e)||y((function(t){return w(t,e)}))}),[b]);e.useEffect((function(){var e,t=(0,ls.Z)((function(){m.current=0,h.current&&function(){var e=b();fs(e)||(0,Lo.flushSync)((function(){y((function(t){return w(t,e)}))}))}()})),n=(0,Eo.Z)(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}})),(0,Io.Z)((function(){D()})),e.useEffect((function(){m.current=0}),[u]);return(0,C.jsxs)(e.Fragment,{children:[(0,C.jsx)("textarea",(0,d.Z)({value:u,onChange:function(e){m.current=0,f||D(),r&&r(e)},ref:p,rows:s,style:(0,d.Z)({height:S.outerHeightStyle,overflow:S.overflow?"hidden":null},l)},c)),(0,C.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:g,tabIndex:-1,style:(0,d.Z)({},ds,l,{padding:0})})]})})),ps=hs;function gs(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function ms(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function xs(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(ms(e.value)&&""!==e.value||t&&ms(e.defaultValue)&&""!==e.defaultValue)}function vs(e){return(0,br.Z)("MuiInputBase",e)}var Ss=(0,yr.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ys=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],bs=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,Sr.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Cs=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ws=(0,vr.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:bs})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({},t.typography.body1,(0,G.Z)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(Ss.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&(0,d.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Ds=(0,vr.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Cs})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o=(0,d.Z)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),a={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,d.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,G.Z)(t,"label[data-shrink=false] + .".concat(Ss.formControl," &"),{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),(0,G.Z)(t,"&.".concat(Ss.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,G.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),Ts=(0,C.jsx)(T,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Ps=e.forwardRef((function(t,n){var r,o=(0,f.Z)({props:t,name:"MuiInputBase"}),a=o["aria-describedby"],l=o.autoComplete,u=o.autoFocus,c=o.className,h=o.components,p=void 0===h?{}:h,g=o.componentsProps,m=void 0===g?{}:g,x=o.defaultValue,v=o.disabled,S=o.disableInjectingGlobalStyles,y=o.endAdornment,b=o.fullWidth,w=void 0!==b&&b,D=o.id,T=o.inputComponent,P=void 0===T?"input":T,L=o.inputProps,I=void 0===L?{}:L,k=o.inputRef,A=o.maxRows,R=o.minRows,E=o.multiline,O=void 0!==E&&E,F=o.name,_=o.onBlur,M=o.onChange,q=o.onClick,N=o.onFocus,U=o.onKeyDown,B=o.onKeyUp,Z=o.placeholder,Q=o.readOnly,z=o.renderSuffix,G=o.rows,V=o.slotProps,W=void 0===V?{}:V,H=o.slots,X=void 0===H?{}:H,Y=o.startAdornment,K=o.type,$=void 0===K?"text":K,J=o.value,ee=(0,j.Z)(o,ys),te=null!=I.value?I.value:J,ne=e.useRef(null!=te).current,re=e.useRef(),ie=e.useCallback((function(e){0}),[]),oe=(0,ui.Z)(re,k,I.ref,ie),ae=e.useState(!1),se=(0,i.Z)(ae,2),le=se[0],ue=se[1],ce=es();var de=gs({props:o,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});de.focused=ce?ce.focused:le,e.useEffect((function(){!ce&&v&&le&&(ue(!1),_&&_())}),[ce,v,le,_]);var fe=ce&&ce.onFilled,he=ce&&ce.onEmpty,pe=e.useCallback((function(e){xs(e)?fe&&fe():he&&he()}),[fe,he]);(0,s.Z)((function(){ne&&pe({value:te})}),[te,pe,ne]);e.useEffect((function(){pe(re.current)}),[]);var ge=P,me=I;O&&"input"===ge&&(me=G?(0,d.Z)({type:void 0,minRows:G,maxRows:G},me):(0,d.Z)({type:void 0,maxRows:A,minRows:R},me),ge=ps);e.useEffect((function(){ce&&ce.setAdornedStart(Boolean(Y))}),[ce,Y]);var xe=(0,d.Z)({},o,{color:de.color||"primary",disabled:de.disabled,endAdornment:y,error:de.error,focused:de.focused,formControl:ce,fullWidth:w,hiddenLabel:de.hiddenLabel,multiline:O,size:de.size,startAdornment:Y,type:$}),ve=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,o=e.endAdornment,a=e.focused,s=e.formControl,l=e.fullWidth,u=e.hiddenLabel,c=e.multiline,d=e.readOnly,f=e.size,h=e.startAdornment,p=e.type,g={root:["root","color".concat((0,Sr.Z)(n)),r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl","small"===f&&"sizeSmall",c&&"multiline",h&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",c&&"inputMultiline","small"===f&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return(0,xr.Z)(g,vs,t)}(xe),Se=X.root||p.Root||ws,ye=W.root||m.root||{},be=X.input||p.Input||Ds;return me=(0,d.Z)({},me,null!=(r=W.input)?r:m.input),(0,C.jsxs)(e.Fragment,{children:[!S&&Ts,(0,C.jsxs)(Se,(0,d.Z)({},ye,!Vo(Se)&&{ownerState:(0,d.Z)({},xe,ye.ownerState)},{ref:n,onClick:function(e){re.current&&e.currentTarget===e.target&&re.current.focus(),q&&q(e)}},ee,{className:(0,hr.Z)(ve.root,ye.className,c),children:[Y,(0,C.jsx)(Ja.Provider,{value:null,children:(0,C.jsx)(be,(0,d.Z)({ownerState:xe,"aria-invalid":de.error,"aria-describedby":a,autoComplete:l,autoFocus:u,defaultValue:x,disabled:de.disabled,id:D,onAnimationStart:function(e){pe("mui-auto-fill-cancel"===e.animationName?re.current:{value:"x"})},name:F,placeholder:Z,readOnly:Q,required:de.required,rows:G,value:te,onKeyDown:U,onKeyUp:B,type:$},me,!Vo(be)&&{as:ge,ownerState:(0,d.Z)({},xe,me.ownerState)},{ref:oe,className:(0,hr.Z)(ve.input,me.className),onBlur:function(e){_&&_(e),I.onBlur&&I.onBlur(e),ce&&ce.onBlur?ce.onBlur(e):ue(!1)},onChange:function(e){if(!ne){var t=e.target||re.current;if(null==t)throw new Error((0,ss.Z)(1));pe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];I.onChange&&I.onChange.apply(I,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){de.disabled?e.stopPropagation():(N&&N(e),I.onFocus&&I.onFocus(e),ce&&ce.onFocus?ce.onFocus(e):ue(!0))}}))}),y,z?z((0,d.Z)({},de,{startAdornment:Y})):null]}))]})})),Ls=Ps;function Is(e){return(0,br.Z)("MuiInput",e)}var ks=(0,d.Z)({},Ss,(0,yr.Z)("MuiInput",["root","underline","input"])),As=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Rs=(0,vr.ZP)(ws,{shouldForwardProp:function(e){return(0,vr.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,zt.Z)(bs(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),(0,d.Z)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,G.Z)(t,"&.".concat(ks.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,G.Z)(t,"&.".concat(ks.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),(0,G.Z)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,G.Z)(t,"&:hover:not(.".concat(ks.disabled,", .").concat(ks.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),(0,G.Z)(t,"&.".concat(ks.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),Es=(0,vr.ZP)(Ds,{name:"MuiInput",slot:"Input",overridesResolver:Cs})({}),Os=e.forwardRef((function(e,t){var n,r,i,o,a=(0,f.Z)({props:e,name:"MuiInput"}),s=a.disableUnderline,l=a.components,u=void 0===l?{}:l,c=a.componentsProps,h=a.fullWidth,p=void 0!==h&&h,g=a.inputComponent,m=void 0===g?"input":g,x=a.multiline,v=void 0!==x&&x,S=a.slotProps,y=a.slots,b=void 0===y?{}:y,w=a.type,D=void 0===w?"text":w,T=(0,j.Z)(a,As),P=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,xr.Z)(n,Is,t);return(0,d.Z)({},t,r)}(a),L={root:{ownerState:{disableUnderline:s}}},I=(null!=S?S:c)?(0,Yn.Z)(null!=S?S:c,L):L,k=null!=(n=null!=(r=b.root)?r:u.Root)?n:Rs,A=null!=(i=null!=(o=b.input)?o:u.Input)?i:Es;return(0,C.jsx)(Ls,(0,d.Z)({slots:{root:k,input:A},slotProps:I,fullWidth:p,inputComponent:m,multiline:v,ref:t,type:D},T,{classes:P}))}));Os.muiName="Input";var Fs=Os;function _s(e){return(0,br.Z)("MuiFilledInput",e)}var Ms=(0,d.Z)({},Ss,(0,yr.Z)("MuiFilledInput",["root","underline","input"])),qs=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Ns=(0,vr.ZP)(ws,{shouldForwardProp:function(e){return(0,vr.FO)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,zt.Z)(bs(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,o=e.ownerState,a="light"===i.palette.mode,s=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",u=a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,d.Z)((t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:l,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:u,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:l}}},(0,G.Z)(t,"&.".concat(Ms.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:l}),(0,G.Z)(t,"&.".concat(Ms.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:c}),t),!o.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[o.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},(0,G.Z)(n,"&.".concat(Ms.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,G.Z)(n,"&.".concat(Ms.error),{"&:before, &:after":{borderBottomColor:(i.vars||i).palette.error.main}}),(0,G.Z)(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),(0,G.Z)(n,"&:hover:not(.".concat(Ms.disabled,", .").concat(Ms.error,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),(0,G.Z)(n,"&.".concat(Ms.disabled,":before"),{borderBottomStyle:"dotted"}),n),o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&(0,d.Z)({padding:"25px 12px 8px"},"small"===o.size&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),Us=(0,vr.ZP)(Ds,{name:"MuiFilledInput",slot:"Input",overridesResolver:Cs})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&(0,G.Z)({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),Bs=e.forwardRef((function(e,t){var n,r,i,o,a=(0,f.Z)({props:e,name:"MuiFilledInput"}),s=a.components,l=void 0===s?{}:s,u=a.componentsProps,c=a.fullWidth,h=void 0!==c&&c,p=a.inputComponent,g=void 0===p?"input":p,m=a.multiline,x=void 0!==m&&m,v=a.slotProps,S=a.slots,y=void 0===S?{}:S,b=a.type,w=void 0===b?"text":b,D=(0,j.Z)(a,qs),T=(0,d.Z)({},a,{fullWidth:h,inputComponent:g,multiline:x,type:w}),P=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,xr.Z)(n,_s,t);return(0,d.Z)({},t,r)}(a),L={root:{ownerState:T},input:{ownerState:T}},I=(null!=v?v:u)?(0,Yn.Z)(null!=v?v:u,L):L,k=null!=(n=null!=(r=y.root)?r:l.Root)?n:Ns,A=null!=(i=null!=(o=y.input)?o:l.Input)?i:Us;return(0,C.jsx)(Ls,(0,d.Z)({slots:{root:k,input:A},componentsProps:I,fullWidth:h,inputComponent:g,multiline:x,ref:t,type:w},D,{classes:P}))}));Bs.muiName="Input";var Zs,Qs=Bs,zs=["children","classes","className","label","notched"],Gs=(0,vr.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Vs=(0,vr.ZP)("legend")((function(e){var t=e.ownerState,n=e.theme;return(0,d.Z)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,d.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Ws(e){return(0,br.Z)("MuiOutlinedInput",e)}var js=(0,d.Z)({},Ss,(0,yr.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),Hs=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Xs=(0,vr.ZP)(ws,{shouldForwardProp:function(e){return(0,vr.FO)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:bs})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,d.Z)((t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},(0,G.Z)(t,"&:hover .".concat(js.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),(0,G.Z)(t,"@media (hover: none)",(0,G.Z)({},"&:hover .".concat(js.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),(0,G.Z)(t,"&.".concat(js.focused," .").concat(js.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),(0,G.Z)(t,"&.".concat(js.error," .").concat(js.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),(0,G.Z)(t,"&.".concat(js.disabled," .").concat(js.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,d.Z)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),Ys=(0,vr.ZP)((function(e){var t=e.className,n=e.label,r=e.notched,i=(0,j.Z)(e,zs),o=null!=n&&""!==n,a=(0,d.Z)({},e,{notched:r,withLabel:o});return(0,C.jsx)(Gs,(0,d.Z)({"aria-hidden":!0,className:t,ownerState:a},i,{children:(0,C.jsx)(Vs,{ownerState:a,children:o?(0,C.jsx)("span",{children:n}):Zs||(Zs=(0,C.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Ks=(0,vr.ZP)(Ds,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Cs})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&(0,G.Z)({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),$s=e.forwardRef((function(t,n){var r,i,o,a,s,l=(0,f.Z)({props:t,name:"MuiOutlinedInput"}),u=l.components,c=void 0===u?{}:u,h=l.fullWidth,p=void 0!==h&&h,g=l.inputComponent,m=void 0===g?"input":g,x=l.label,v=l.multiline,S=void 0!==v&&v,y=l.notched,b=l.slots,w=void 0===b?{}:b,D=l.type,T=void 0===D?"text":D,P=(0,j.Z)(l,Hs),L=function(e){var t=e.classes,n=(0,xr.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ws,t);return(0,d.Z)({},t,n)}(l),I=es(),k=gs({props:l,muiFormControl:I,states:["required"]}),A=(0,d.Z)({},l,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:I,fullWidth:p,hiddenLabel:k.hiddenLabel,multiline:S,size:k.size,type:T}),R=null!=(r=null!=(i=w.root)?i:c.Root)?r:Xs,E=null!=(o=null!=(a=w.input)?a:c.Input)?o:Ks;return(0,C.jsx)(Ls,(0,d.Z)({slots:{root:R,input:E},renderSuffix:function(t){return(0,C.jsx)(Ys,{ownerState:A,className:L.notchedOutline,label:null!=x&&""!==x&&k.required?s||(s=(0,C.jsxs)(e.Fragment,{children:[x,"\xa0","*"]})):x,notched:"undefined"!==typeof y?y:Boolean(t.startAdornment||t.filled||t.focused)})},fullWidth:p,inputComponent:m,multiline:S,ref:n,type:T},P,{classes:(0,d.Z)({},L,{notchedOutline:null})}))}));$s.muiName="Input";var Js=$s;function el(e){return(0,br.Z)("MuiFormLabel",e)}var tl=(0,yr.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),nl=["children","className","color","component","disabled","error","filled","focused","required"],rl=(0,vr.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,d.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,d.Z)({color:(n.vars||n).palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,G.Z)(t,"&.".concat(tl.focused),{color:(n.vars||n).palette[r.color].main}),(0,G.Z)(t,"&.".concat(tl.disabled),{color:(n.vars||n).palette.text.disabled}),(0,G.Z)(t,"&.".concat(tl.error),{color:(n.vars||n).palette.error.main}),t))})),il=(0,vr.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,G.Z)({},"&.".concat(tl.error),{color:(t.vars||t).palette.error.main})})),ol=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,o=n.component,a=void 0===o?"label":o,s=(0,j.Z)(n,nl),l=gs({props:n,muiFormControl:es(),states:["color","required","focused","disabled","error","filled"]}),u=(0,d.Z)({},n,{color:l.color||"primary",component:a,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,o=e.error,a=e.filled,s=e.required,l={root:["root","color".concat((0,Sr.Z)(n)),i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return(0,xr.Z)(l,el,t)}(u);return(0,C.jsxs)(rl,(0,d.Z)({as:a,ownerState:u,className:(0,hr.Z)(c.root,i),ref:t},s,{children:[r,l.required&&(0,C.jsxs)(il,{ownerState:u,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))}));function al(e){return(0,br.Z)("MuiInputLabel",e)}(0,yr.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var sl=["disableAnimation","margin","shrink","variant","className"],ll=(0,vr.ZP)(ol,{shouldForwardProp:function(e){return(0,vr.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,G.Z)({},"& .".concat(tl.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,d.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,d.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,d.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),ul=e.forwardRef((function(e,t){var n=(0,f.Z)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,o=n.shrink,a=n.className,s=(0,j.Z)(n,sl),l=es(),u=o;"undefined"===typeof u&&l&&(u=l.filled||l.focused||l.adornedStart);var c=gs({props:n,muiFormControl:l,states:["size","variant","required"]}),h=(0,d.Z)({},n,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required}),p=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink,o={root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},a=(0,xr.Z)(o,al,t);return(0,d.Z)({},t,a)}(h);return(0,C.jsx)(ll,(0,d.Z)({"data-shrink":u,ownerState:h,ref:t,className:(0,hr.Z)(p.root,a)},s,{classes:p}))})),cl=n(9103);function dl(e){return(0,br.Z)("MuiFormControl",e)}(0,yr.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var fl=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],hl=(0,vr.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,d.Z)({},t.root,t["margin".concat((0,Sr.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,d.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),pl=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiFormControl"}),o=r.children,a=r.className,s=r.color,l=void 0===s?"primary":s,u=r.component,c=void 0===u?"div":u,h=r.disabled,p=void 0!==h&&h,g=r.error,m=void 0!==g&&g,x=r.focused,v=r.fullWidth,S=void 0!==v&&v,y=r.hiddenLabel,b=void 0!==y&&y,w=r.margin,D=void 0===w?"none":w,T=r.required,P=void 0!==T&&T,L=r.size,I=void 0===L?"medium":L,k=r.variant,A=void 0===k?"outlined":k,R=(0,j.Z)(r,fl),E=(0,d.Z)({},r,{color:l,component:c,disabled:p,error:m,fullWidth:S,hiddenLabel:b,margin:D,required:P,size:I,variant:A}),O=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,i={root:["root","none"!==n&&"margin".concat((0,Sr.Z)(n)),r&&"fullWidth"]};return(0,xr.Z)(i,dl,t)}(E),F=e.useState((function(){var t=!1;return o&&e.Children.forEach(o,(function(e){if((0,cl.Z)(e,["Input","Select"])){var n=(0,cl.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),_=(0,i.Z)(F,2),M=_[0],q=_[1],N=e.useState((function(){var t=!1;return o&&e.Children.forEach(o,(function(e){(0,cl.Z)(e,["Input","Select"])&&xs(e.props,!0)&&(t=!0)})),t})),U=(0,i.Z)(N,2),B=U[0],Z=U[1],Q=e.useState(!1),z=(0,i.Z)(Q,2),G=z[0],V=z[1];p&&G&&V(!1);var W,H=void 0===x||p?G:x,X=e.useMemo((function(){return{adornedStart:M,setAdornedStart:q,color:l,disabled:p,error:m,filled:B,focused:H,fullWidth:S,hiddenLabel:b,size:I,onBlur:function(){V(!1)},onEmpty:function(){Z(!1)},onFilled:function(){Z(!0)},onFocus:function(){V(!0)},registerEffect:W,required:P,variant:A}}),[M,l,p,m,B,H,S,b,W,P,I,A]);return(0,C.jsx)(Ja.Provider,{value:X,children:(0,C.jsx)(hl,(0,d.Z)({as:c,ownerState:E,className:(0,hr.Z)(O.root,a),ref:n},R,{children:o}))})}));function gl(e){return(0,br.Z)("MuiFormHelperText",e)}var ml,xl=(0,yr.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),vl=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Sl=(0,vr.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat((0,Sr.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,d.Z)({color:(n.vars||n).palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,G.Z)(t,"&.".concat(xl.disabled),{color:(n.vars||n).palette.text.disabled}),(0,G.Z)(t,"&.".concat(xl.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),yl=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,o=n.component,a=void 0===o?"p":o,s=(0,j.Z)(n,vl),l=gs({props:n,muiFormControl:es(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,d.Z)({},n,{component:a,contained:"filled"===l.variant||"outlined"===l.variant,variant:l.variant,size:l.size,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,o=e.error,a=e.filled,s=e.focused,l=e.required,u={root:["root",i&&"disabled",o&&"error",r&&"size".concat((0,Sr.Z)(r)),n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return(0,xr.Z)(u,gl,t)}(u);return(0,C.jsx)(Sl,(0,d.Z)({as:a,ownerState:u,className:(0,hr.Z)(c.root,i),ref:t},s,{children:" "===r?ml||(ml=(0,C.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),bl=n(8301);var Cl=e.createContext({});function wl(e){return(0,br.Z)("MuiList",e)}(0,yr.Z)("MuiList",["root","padding","dense","subheader"]);var Dl=["children","className","component","dense","disablePadding","subheader"],Tl=(0,vr.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,d.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Pl=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiList"}),i=r.children,o=r.className,a=r.component,s=void 0===a?"ul":a,l=r.dense,u=void 0!==l&&l,c=r.disablePadding,h=void 0!==c&&c,p=r.subheader,g=(0,j.Z)(r,Dl),m=e.useMemo((function(){return{dense:u}}),[u]),x=(0,d.Z)({},r,{component:s,dense:u,disablePadding:h}),v=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,xr.Z)(n,wl,t)}(x);return(0,C.jsx)(Cl.Provider,{value:m,children:(0,C.jsxs)(Tl,(0,d.Z)({as:s,className:(0,hr.Z)(v.root,o),ref:n,ownerState:x},g,{children:[p,i]}))})})),Ll=Oo,Il=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function kl(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Al(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Rl(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function El(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return!1;a=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Rl(s,o)&&!l)return s.focus(),!0;s=i(e,s,n)}return!1}var Ol=e.forwardRef((function(t,n){var r=t.actions,i=t.autoFocus,o=void 0!==i&&i,a=t.autoFocusItem,l=void 0!==a&&a,u=t.children,c=t.className,f=t.disabledItemsFocusable,h=void 0!==f&&f,p=t.disableListWrap,g=void 0!==p&&p,m=t.onKeyDown,x=t.variant,v=void 0===x?"selectedMenu":x,S=(0,j.Z)(t,Il),y=e.useRef(null),b=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,s.Z)((function(){o&&y.current.focus()}),[o]),e.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!y.current.style.width;if(e.clientHeight<y.current.clientHeight&&n){var r="".concat(Ll((0,bl.Z)(e)),"px");y.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,y.current.style.width="calc(100% + ".concat(r,")")}return y.current}}}),[]);var w=(0,ui.Z)(y,n),D=-1;e.Children.forEach(u,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===v&&t.props.selected||-1===D)&&(D=n))}));var T=e.Children.map(u,(function(t,n){if(n===D){var r={};return l&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===v&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return(0,C.jsx)(Pl,(0,d.Z)({role:"menu",ref:w,className:c,onKeyDown:function(e){var t=y.current,n=e.key,r=(0,bl.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),El(t,r,g,h,kl);else if("ArrowUp"===n)e.preventDefault(),El(t,r,g,h,Al);else if("Home"===n)e.preventDefault(),El(t,null,g,h,kl);else if("End"===n)e.preventDefault(),El(t,null,g,h,Al);else if(1===n.length){var i=b.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&Rl(r,i);i.previousKeyMatched&&(s||El(t,r,!1,h,kl,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:o?0:-1},S,{children:T}))})),Fl=Ol,_l=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Ml(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var ql={entering:{opacity:1,transform:Ml(1)},entered:{opacity:1,transform:"none"}},Nl="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ul=e.forwardRef((function(t,n){var r=t.addEndListener,i=t.appear,o=void 0===i||i,a=t.children,s=t.easing,l=t.in,u=t.onEnter,c=t.onEntered,f=t.onEntering,h=t.onExit,p=t.onExited,g=t.onExiting,m=t.style,x=t.timeout,v=void 0===x?"auto":x,S=t.TransitionComponent,y=void 0===S?ua:S,b=(0,j.Z)(t,_l),w=e.useRef(),D=e.useRef(),T=qr(),P=e.useRef(null),L=(0,ui.Z)(P,a.ref,n),I=function(e){return function(t){if(e){var n=P.current;void 0===t?e(n):e(n,t)}}},k=I(f),A=I((function(e,t){ca(e);var n,r=da({style:m,timeout:v,easing:s},{mode:"enter"}),i=r.duration,o=r.delay,a=r.easing;"auto"===v?(n=T.transitions.getAutoHeightDuration(e.clientHeight),D.current=n):n=i,e.style.transition=[T.transitions.create("opacity",{duration:n,delay:o}),T.transitions.create("transform",{duration:Nl?n:.666*n,delay:o,easing:a})].join(","),u&&u(e,t)})),R=I(c),E=I(g),O=I((function(e){var t,n=da({style:m,timeout:v,easing:s},{mode:"exit"}),r=n.duration,i=n.delay,o=n.easing;"auto"===v?(t=T.transitions.getAutoHeightDuration(e.clientHeight),D.current=t):t=r,e.style.transition=[T.transitions.create("opacity",{duration:t,delay:i}),T.transitions.create("transform",{duration:Nl?t:.666*t,delay:Nl?i:i||.333*t,easing:o})].join(","),e.style.opacity=0,e.style.transform=Ml(.75),h&&h(e)})),F=I(p);return e.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,C.jsx)(y,(0,d.Z)({appear:o,in:l,nodeRef:P,onEnter:A,onEntered:R,onEntering:k,onExit:O,onExited:F,onExiting:E,addEndListener:function(e){"auto"===v&&(w.current=setTimeout(e,D.current||0)),r&&r(P.current,e)},timeout:"auto"===v?null:v},b,{children:function(t,n){return e.cloneElement(a,(0,d.Z)({style:(0,d.Z)({opacity:0,transform:Ml(.75),visibility:"exited"!==t||l?void 0:"hidden"},ql[t],m,a.props.style),ref:L},n))}}))}));Ul.muiSupportAuto=!0;var Bl=Ul;function Zl(e){return(0,br.Z)("MuiPopover",e)}(0,yr.Z)("MuiPopover",["root","paper"]);var Ql=["onEntering"],zl=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Gl(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Vl(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Wl(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function jl(e){return"function"===typeof e?e():e}var Hl=(0,vr.ZP)(wa,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Xl=(0,vr.ZP)(Ia,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Yl=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiPopover"}),o=r.action,a=r.anchorEl,s=r.anchorOrigin,l=void 0===s?{vertical:"top",horizontal:"left"}:s,u=r.anchorPosition,c=r.anchorReference,h=void 0===c?"anchorEl":c,p=r.children,g=r.className,m=r.container,x=r.elevation,v=void 0===x?8:x,S=r.marginThreshold,y=void 0===S?16:S,b=r.open,w=r.PaperProps,D=void 0===w?{}:w,T=r.transformOrigin,P=void 0===T?{vertical:"top",horizontal:"left"}:T,L=r.TransitionComponent,I=void 0===L?Bl:L,k=r.transitionDuration,A=void 0===k?"auto":k,R=r.TransitionProps,E=(R=void 0===R?{}:R).onEntering,O=(0,j.Z)(r.TransitionProps,Ql),F=(0,j.Z)(r,zl),_=e.useRef(),M=(0,ui.Z)(_,D.ref),q=(0,d.Z)({},r,{anchorOrigin:l,anchorReference:h,elevation:v,marginThreshold:y,PaperProps:D,transformOrigin:P,TransitionComponent:I,transitionDuration:A,TransitionProps:O}),N=function(e){var t=e.classes;return(0,xr.Z)({root:["root"],paper:["paper"]},Zl,t)}(q),U=e.useCallback((function(){if("anchorPosition"===h)return u;var e=jl(a),t=(e&&1===e.nodeType?e:(0,bl.Z)(_.current).body).getBoundingClientRect();return{top:t.top+Gl(t,l.vertical),left:t.left+Vl(t,l.horizontal)}}),[a,l.horizontal,l.vertical,u,h]),B=e.useCallback((function(e){return{vertical:Gl(e,P.vertical),horizontal:Vl(e,P.horizontal)}}),[P.horizontal,P.vertical]),Z=e.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=B(t);if("none"===h)return{top:null,left:null,transformOrigin:Wl(n)};var r=U(),i=r.top-n.vertical,o=r.left-n.horizontal,s=i+t.height,l=o+t.width,u=(0,Ga.Z)(jl(a)),c=u.innerHeight-y,d=u.innerWidth-y;if(i<y){var f=i-y;i-=f,n.vertical+=f}else if(s>c){var p=s-c;i-=p,n.vertical+=p}if(o<y){var g=o-y;o-=g,n.horizontal+=g}else if(l>d){var m=l-d;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:Wl(n)}}),[a,h,U,B,y]),Q=e.useState(b),z=(0,i.Z)(Q,2),G=z[0],V=z[1],W=e.useCallback((function(){var e=_.current;if(e){var t=Z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,V(!0)}}),[Z]);e.useEffect((function(){b&&W()})),e.useImperativeHandle(o,(function(){return b?{updatePosition:function(){W()}}:null}),[b,W]),e.useEffect((function(){if(b){var e=(0,za.Z)((function(){W()})),t=(0,Ga.Z)(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,b,W]);var H=A;"auto"!==A||I.muiSupportAuto||(H=void 0);var X=m||(a?(0,bl.Z)(jl(a)).body:void 0);return(0,C.jsx)(Hl,(0,d.Z)({BackdropProps:{invisible:!0},className:(0,hr.Z)(N.root,g),container:X,open:b,ref:n,ownerState:q},F,{children:(0,C.jsx)(I,(0,d.Z)({appear:!0,in:b,onEntering:function(e,t){E&&E(e,t),W()},onExited:function(){V(!1)},timeout:H},O,{children:(0,C.jsx)(Xl,(0,d.Z)({elevation:v},D,{ref:M,className:(0,hr.Z)(N.paper,D.className)},G?void 0:{style:(0,d.Z)({},D.style,{opacity:0})},{ownerState:q,children:p}))}))}))})),Kl=Yl;function $l(e){return(0,br.Z)("MuiMenu",e)}(0,yr.Z)("MuiMenu",["root","paper","list"]);var Jl=["onEntering"],eu=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],tu={vertical:"top",horizontal:"right"},nu={vertical:"top",horizontal:"left"},ru=(0,vr.ZP)(Kl,{shouldForwardProp:function(e){return(0,vr.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),iu=(0,vr.ZP)(Ia,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ou=(0,vr.ZP)(Fl,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),au=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiMenu"}),i=r.autoFocus,o=void 0===i||i,a=r.children,s=r.disableAutoFocusItem,l=void 0!==s&&s,u=r.MenuListProps,c=void 0===u?{}:u,h=r.onClose,p=r.open,g=r.PaperProps,m=void 0===g?{}:g,x=r.PopoverClasses,v=r.transitionDuration,S=void 0===v?"auto":v,y=r.TransitionProps,b=(y=void 0===y?{}:y).onEntering,w=r.variant,D=void 0===w?"selectedMenu":w,T=(0,j.Z)(r.TransitionProps,Jl),P=(0,j.Z)(r,eu),L=qr(),I="rtl"===L.direction,k=(0,d.Z)({},r,{autoFocus:o,disableAutoFocusItem:l,MenuListProps:c,onEntering:b,PaperProps:m,transitionDuration:S,TransitionProps:T,variant:D}),A=function(e){var t=e.classes;return(0,xr.Z)({root:["root"],paper:["paper"],list:["list"]},$l,t)}(k),R=o&&!l&&p,E=e.useRef(null),O=-1;return e.Children.map(a,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===D&&t.props.selected||-1===O)&&(O=n))})),(0,C.jsx)(ru,(0,d.Z)({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?tu:nu,PaperProps:(0,d.Z)({component:iu},m,{classes:(0,d.Z)({},m.classes,{root:A.paper})}),className:A.root,open:p,ref:n,transitionDuration:S,TransitionProps:(0,d.Z)({onEntering:function(e,t){E.current&&E.current.adjustStyleForScrollbar(e,L),b&&b(e,t)}},T),ownerState:k},P,{classes:x,children:(0,C.jsx)(ou,(0,d.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:E,autoFocus:o&&(-1===O||l),autoFocusItem:R,variant:D},c,{className:(0,hr.Z)(A.list,c.className),children:a}))}))})),su=au;function lu(e){return(0,br.Z)("MuiNativeSelect",e)}var uu=(0,yr.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),cu=["className","disabled","IconComponent","inputRef","variant"],du=function(e){var t,n=e.ownerState,r=e.theme;return(0,d.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,d.Z)({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},(0,G.Z)(t,"&.".concat(uu.disabled),{cursor:"default"}),(0,G.Z)(t,"&[multiple]",{height:"auto"}),(0,G.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),(0,G.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},fu=(0,vr.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:vr.FO,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],(0,G.Z)({},"&.".concat(uu.multiple),t.multiple)]}})(du),hu=function(e){var t=e.ownerState,n=e.theme;return(0,d.Z)((0,G.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(uu.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},pu=(0,vr.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Sr.Z)(n.variant))],n.open&&t.iconOpen]}})(hu),gu=e.forwardRef((function(t,n){var r=t.className,i=t.disabled,o=t.IconComponent,a=t.inputRef,s=t.variant,l=void 0===s?"standard":s,u=(0,j.Z)(t,cu),c=(0,d.Z)({},t,{disabled:i,variant:l}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open,a={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,Sr.Z)(n)),o&&"iconOpen",r&&"disabled"]};return(0,xr.Z)(a,lu,t)}(c);return(0,C.jsxs)(e.Fragment,{children:[(0,C.jsx)(fu,(0,d.Z)({ownerState:c,className:(0,hr.Z)(f.select,r),disabled:i,ref:a||n},u)),t.multiple?null:(0,C.jsx)(pu,{as:o,ownerState:c,className:f.icon})]})})),mu=n(8744);function xu(e){return(0,br.Z)("MuiSelect",e)}var vu,Su=(0,yr.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),yu=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],bu=(0,vr.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,G.Z)({},"&.".concat(Su.select),t.select),(0,G.Z)({},"&.".concat(Su.select),t[n.variant]),(0,G.Z)({},"&.".concat(Su.multiple),t.multiple)]}})(du,(0,G.Z)({},"&.".concat(Su.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),Cu=(0,vr.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Sr.Z)(n.variant))],n.open&&t.iconOpen]}})(hu),wu=(0,vr.ZP)("input",{shouldForwardProp:function(e){return(0,vr.Dz)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Du(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Tu(e){return null==e||"string"===typeof e&&!e.trim()}var Pu,Lu,Iu=e.forwardRef((function(t,n){var r=t["aria-describedby"],o=t["aria-label"],a=t.autoFocus,s=t.autoWidth,l=t.children,u=t.className,c=t.defaultOpen,f=t.defaultValue,h=t.disabled,p=t.displayEmpty,g=t.IconComponent,m=t.inputRef,x=t.labelId,v=t.MenuProps,S=void 0===v?{}:v,y=t.multiple,b=t.name,w=t.onBlur,D=t.onChange,T=t.onClose,P=t.onFocus,L=t.onOpen,I=t.open,k=t.readOnly,A=t.renderValue,R=t.SelectDisplayProps,E=void 0===R?{}:R,O=t.tabIndex,F=t.value,_=t.variant,M=void 0===_?"standard":_,q=(0,j.Z)(t,yu),N=(0,mu.Z)({controlled:F,default:f,name:"Select"}),U=(0,i.Z)(N,2),B=U[0],Z=U[1],Q=(0,mu.Z)({controlled:I,default:c,name:"Select"}),z=(0,i.Z)(Q,2),G=z[0],V=z[1],W=e.useRef(null),H=e.useRef(null),X=e.useState(null),Y=(0,i.Z)(X,2),K=Y[0],$=Y[1],J=e.useRef(null!=I).current,ee=e.useState(),te=(0,i.Z)(ee,2),ne=te[0],re=te[1],ie=(0,ui.Z)(n,m),oe=e.useCallback((function(e){H.current=e,e&&$(e)}),[]),ae=null==K?void 0:K.parentNode;e.useImperativeHandle(ie,(function(){return{focus:function(){H.current.focus()},node:W.current,value:B}}),[B]),e.useEffect((function(){c&&G&&K&&!J&&(re(s?null:ae.clientWidth),H.current.focus())}),[K,s]),e.useEffect((function(){a&&H.current.focus()}),[a]),e.useEffect((function(){if(x){var e=(0,bl.Z)(H.current).getElementById(x);if(e){var t=function(){getSelection().isCollapsed&&H.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[x]);var se,le,ue=function(e,t){e?L&&L(t):T&&T(t),J||(re(s?null:ae.clientWidth),V(e))},ce=e.Children.toArray(l),de=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(B)?B.slice():[];var r=B.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),B!==n&&(Z(n),D)){var i=t.nativeEvent||t,o=new i.constructor(i.type,i);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:b}}),D(o,e)}y||ue(!1,t)}}},fe=null!==K&&G;delete q["aria-invalid"];var he=[],pe=!1;(xs({value:B})||p)&&(A?se=A(B):pe=!0);var ge=ce.map((function(t,n,r){var i,o,a,s,l;if(!e.isValidElement(t))return null;if(y){if(!Array.isArray(B))throw new Error((0,ss.Z)(2));(l=B.some((function(e){return Du(e,t.props.value)})))&&pe&&he.push(t.props.children)}else(l=Du(B,t.props.value))&&pe&&(le=t.props.children);if(l&&!0,void 0===t.props.value)return e.cloneElement(t,{"aria-readonly":!0,role:"option"});return e.cloneElement(t,{"aria-selected":l?"true":"false",onClick:de(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:void 0===(null==(i=r[0])||null==(o=i.props)?void 0:o.value)||!0===(null==(a=r[0])||null==(s=a.props)?void 0:s.disabled)?function(){if(B)return l;var e=r.find((function(e){var t;return void 0!==(null==e||null==(t=e.props)?void 0:t.value)&&!0!==e.props.disabled}));return t===e||l}():l,value:void 0,"data-value":t.props.value})}));pe&&(se=y?0===he.length?null:he.reduce((function(e,t,n){return e.push(t),n<he.length-1&&e.push(", "),e}),[]):le);var me,xe=ne;!s&&J&&K&&(xe=ae.clientWidth),me="undefined"!==typeof O?O:h?null:0;var ve=E.id||(b?"mui-component-select-".concat(b):void 0),Se=(0,d.Z)({},t,{variant:M,value:B,open:fe}),ye=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open,a={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,Sr.Z)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,xr.Z)(a,xu,t)}(Se);return(0,C.jsxs)(e.Fragment,{children:[(0,C.jsx)(bu,(0,d.Z)({ref:oe,tabIndex:me,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":fe?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[x,ve].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!k){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ue(!0,e))}},onMouseDown:h||k?null:function(e){0===e.button&&(e.preventDefault(),H.current.focus(),ue(!0,e))},onBlur:function(e){!fe&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:b}}),w(e))},onFocus:P},E,{ownerState:Se,className:(0,hr.Z)(E.className,ye.select,u),id:ve,children:Tu(se)?vu||(vu=(0,C.jsx)("span",{className:"notranslate",children:"\u200b"})):se})),(0,C.jsx)(wu,(0,d.Z)({value:Array.isArray(B)?B.join(","):B,name:b,ref:W,"aria-hidden":!0,onChange:function(e){var t=ce.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ce[t];Z(n.props.value),D&&D(e,n)}},tabIndex:-1,disabled:h,className:ye.nativeInput,autoFocus:a,ownerState:Se},q)),(0,C.jsx)(Cu,{as:g,className:ye.icon,ownerState:Se}),(0,C.jsx)(su,(0,d.Z)({id:"menu-".concat(b||""),anchorEl:ae,open:fe,onClose:function(e){ue(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},S,{MenuListProps:(0,d.Z)({"aria-labelledby":x,role:"listbox",disableListWrap:!0},S.MenuListProps),PaperProps:(0,d.Z)({},S.PaperProps,{style:(0,d.Z)({minWidth:xe},null!=S.PaperProps?S.PaperProps.style:null)}),children:ge}))]})})),ku=Iu,Au=n(9201),Ru=(0,Au.Z)((0,C.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Eu=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ou={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return(0,vr.FO)(e)&&"variant"!==e},slot:"Root"},Fu=(0,vr.ZP)(Fs,Ou)(""),_u=(0,vr.ZP)(Js,Ou)(""),Mu=(0,vr.ZP)(Qs,Ou)(""),qu=e.forwardRef((function(t,n){var r=(0,f.Z)({name:"MuiSelect",props:t}),i=r.autoWidth,o=void 0!==i&&i,a=r.children,s=r.classes,l=void 0===s?{}:s,u=r.className,c=r.defaultOpen,h=void 0!==c&&c,p=r.displayEmpty,g=void 0!==p&&p,m=r.IconComponent,x=void 0===m?Ru:m,v=r.id,S=r.input,y=r.inputProps,b=r.label,w=r.labelId,D=r.MenuProps,T=r.multiple,P=void 0!==T&&T,L=r.native,I=void 0!==L&&L,k=r.onClose,A=r.onOpen,R=r.open,E=r.renderValue,O=r.SelectDisplayProps,F=r.variant,_=void 0===F?"outlined":F,M=(0,j.Z)(r,Eu),q=I?gu:ku,N=gs({props:r,muiFormControl:es(),states:["variant"]}).variant||_,U=S||{standard:Pu||(Pu=(0,C.jsx)(Fu,{})),outlined:(0,C.jsx)(_u,{label:b}),filled:Lu||(Lu=(0,C.jsx)(Mu,{}))}[N],B=function(e){return e.classes}((0,d.Z)({},r,{variant:N,classes:l})),Z=(0,ui.Z)(n,U.ref);return(0,C.jsx)(e.Fragment,{children:e.cloneElement(U,(0,d.Z)({inputComponent:q,inputProps:(0,d.Z)({children:a,IconComponent:x,variant:N,type:void 0,multiple:P},I?{id:v}:{autoWidth:o,defaultOpen:h,displayEmpty:g,labelId:w,MenuProps:D,onClose:k,onOpen:A,open:R,renderValue:E,SelectDisplayProps:(0,d.Z)({id:v},O)},y,{classes:y?(0,Yn.Z)(B,y.classes):B},S?S.props.inputProps:{})},P&&I&&"outlined"===N?{notched:!0}:{},{ref:Z,className:(0,hr.Z)(U.props.className,u)},!S&&{variant:N},M))})}));qu.muiName="Select";var Nu=qu;function Uu(e){return(0,br.Z)("MuiTextField",e)}(0,yr.Z)("MuiTextField",["root"]);var Bu=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Zu={standard:Fs,filled:Qs,outlined:Js},Qu=(0,vr.ZP)(pl,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),zu=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,o=void 0!==i&&i,a=n.children,s=n.className,l=n.color,u=void 0===l?"primary":l,c=n.defaultValue,h=n.disabled,p=void 0!==h&&h,g=n.error,m=void 0!==g&&g,x=n.FormHelperTextProps,v=n.fullWidth,S=void 0!==v&&v,y=n.helperText,b=n.id,w=n.InputLabelProps,D=n.inputProps,T=n.InputProps,P=n.inputRef,L=n.label,I=n.maxRows,k=n.minRows,A=n.multiline,R=void 0!==A&&A,E=n.name,O=n.onBlur,F=n.onChange,_=n.onFocus,M=n.placeholder,q=n.required,N=void 0!==q&&q,U=n.rows,B=n.select,Z=void 0!==B&&B,Q=n.SelectProps,z=n.type,G=n.value,V=n.variant,W=void 0===V?"outlined":V,H=(0,j.Z)(n,Bu),X=(0,d.Z)({},n,{autoFocus:o,color:u,disabled:p,error:m,fullWidth:S,multiline:R,required:N,select:Z,variant:W}),Y=function(e){var t=e.classes;return(0,xr.Z)({root:["root"]},Uu,t)}(X);var K={};"outlined"===W&&(w&&"undefined"!==typeof w.shrink&&(K.notched=w.shrink),K.label=L),Z&&(Q&&Q.native||(K.id=void 0),K["aria-describedby"]=void 0);var $=(0,Co.Z)(b),J=y&&$?"".concat($,"-helper-text"):void 0,ee=L&&$?"".concat($,"-label"):void 0,te=Zu[W],ne=(0,C.jsx)(te,(0,d.Z)({"aria-describedby":J,autoComplete:r,autoFocus:o,defaultValue:c,fullWidth:S,multiline:R,name:E,rows:U,maxRows:I,minRows:k,type:z,value:G,id:$,inputRef:P,onBlur:O,onChange:F,onFocus:_,placeholder:M,inputProps:D},K,T));return(0,C.jsxs)(Qu,(0,d.Z)({className:(0,hr.Z)(Y.root,s),disabled:p,error:m,fullWidth:S,ref:t,required:N,color:u,variant:W,ownerState:X},H,{children:[null!=L&&""!==L&&(0,C.jsx)(ul,(0,d.Z)({htmlFor:$,id:ee},w,{children:L})),Z?(0,C.jsx)(Nu,(0,d.Z)({"aria-describedby":J,id:$,labelId:ee,value:G,input:ne},Q,{children:a})):ne,y&&(0,C.jsx)(yl,(0,d.Z)({id:J},x,{children:y}))]}))}));var Gu=e.createContext();function Vu(e){return(0,br.Z)("MuiTable",e)}(0,yr.Z)("MuiTable",["root","stickyHeader"]);var Wu=["className","component","padding","size","stickyHeader"],ju=(0,vr.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,d.Z)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),Hu="table",Xu=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiTable"}),i=r.className,o=r.component,a=void 0===o?Hu:o,s=r.padding,l=void 0===s?"normal":s,u=r.size,c=void 0===u?"medium":u,h=r.stickyHeader,p=void 0!==h&&h,g=(0,j.Z)(r,Wu),m=(0,d.Z)({},r,{component:a,padding:l,size:c,stickyHeader:p}),x=function(e){var t=e.classes,n={root:["root",e.stickyHeader&&"stickyHeader"]};return(0,xr.Z)(n,Vu,t)}(m),v=e.useMemo((function(){return{padding:l,size:c,stickyHeader:p}}),[l,c,p]);return(0,C.jsx)(Gu.Provider,{value:v,children:(0,C.jsx)(ju,(0,d.Z)({as:a,role:a===Hu?null:"table",ref:n,className:(0,hr.Z)(x.root,i),ownerState:m},g))})}));var Yu=e.createContext();function Ku(e){return(0,br.Z)("MuiTableBody",e)}(0,yr.Z)("MuiTableBody",["root"]);var $u=["className","component"],Ju=(0,vr.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-row-group"}),ec={variant:"body"},tc="tbody",nc=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiTableBody"}),r=n.className,i=n.component,o=void 0===i?tc:i,a=(0,j.Z)(n,$u),s=(0,d.Z)({},n,{component:o}),l=function(e){var t=e.classes;return(0,xr.Z)({root:["root"]},Ku,t)}(s);return(0,C.jsx)(Yu.Provider,{value:ec,children:(0,C.jsx)(Ju,(0,d.Z)({className:(0,hr.Z)(l.root,r),as:o,ref:t,role:o===tc?null:"rowgroup",ownerState:s},a))})}));function rc(e){return(0,br.Z)("MuiTableCell",e)}var ic=(0,yr.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),oc=["align","className","component","padding","scope","size","sortDirection","variant"],ac=(0,vr.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat((0,Sr.Z)(n.size))],"normal"!==n.padding&&t["padding".concat((0,Sr.Z)(n.padding))],"inherit"!==n.align&&t["align".concat((0,Sr.Z)(n.align))],n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,Mr.$n)((0,Mr.Fq)(t.palette.divider,1),.88):(0,Mr._j)((0,Mr.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&(0,G.Z)({padding:"6px 16px"},"&.".concat(ic.paddingCheckbox),{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}),"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),sc=e.forwardRef((function(t,n){var r,i=(0,f.Z)({props:t,name:"MuiTableCell"}),o=i.align,a=void 0===o?"inherit":o,s=i.className,l=i.component,u=i.padding,c=i.scope,h=i.size,p=i.sortDirection,g=i.variant,m=(0,j.Z)(i,oc),x=e.useContext(Gu),v=e.useContext(Yu),S=v&&"head"===v.variant,y=c;"td"===(r=l||(S?"th":"td"))?y=void 0:!y&&S&&(y="col");var b=g||v&&v.variant,w=(0,d.Z)({},i,{align:a,component:r,padding:u||(x&&x.padding?x.padding:"normal"),size:h||(x&&x.size?x.size:"medium"),sortDirection:p,stickyHeader:"head"===b&&x&&x.stickyHeader,variant:b}),D=function(e){var t=e.classes,n=e.variant,r=e.align,i=e.padding,o=e.size,a={root:["root",n,e.stickyHeader&&"stickyHeader","inherit"!==r&&"align".concat((0,Sr.Z)(r)),"normal"!==i&&"padding".concat((0,Sr.Z)(i)),"size".concat((0,Sr.Z)(o))]};return(0,xr.Z)(a,rc,t)}(w),T=null;return p&&(T="asc"===p?"ascending":"descending"),(0,C.jsx)(ac,(0,d.Z)({as:r,ref:n,className:(0,hr.Z)(D.root,s),"aria-sort":T,scope:y,ownerState:w},m))})),lc=sc;function uc(e){return(0,br.Z)("MuiTableHead",e)}(0,yr.Z)("MuiTableHead",["root"]);var cc=["className","component"],dc=(0,vr.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-header-group"}),fc={variant:"head"},hc="thead",pc=e.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiTableHead"}),r=n.className,i=n.component,o=void 0===i?hc:i,a=(0,j.Z)(n,cc),s=(0,d.Z)({},n,{component:o}),l=function(e){var t=e.classes;return(0,xr.Z)({root:["root"]},uc,t)}(s);return(0,C.jsx)(Yu.Provider,{value:fc,children:(0,C.jsx)(dc,(0,d.Z)({as:o,className:(0,hr.Z)(l.root,r),ref:t,role:o===hc?null:"rowgroup",ownerState:s},a))})}));function gc(e){return(0,br.Z)("MuiTableRow",e)}var mc=(0,yr.Z)("MuiTableRow",["root","selected","hover","head","footer"]),xc=["className","component","hover","selected"],vc=(0,vr.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((function(e){var t,n=e.theme;return t={color:"inherit",display:"table-row",verticalAlign:"middle",outline:0},(0,G.Z)(t,"&.".concat(mc.hover,":hover"),{backgroundColor:(n.vars||n).palette.action.hover}),(0,G.Z)(t,"&.".concat(mc.selected),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Mr.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,Mr.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}),t})),Sc=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiTableRow"}),i=r.className,o=r.component,a=void 0===o?"tr":o,s=r.hover,l=void 0!==s&&s,u=r.selected,c=void 0!==u&&u,h=(0,j.Z)(r,xc),p=e.useContext(Yu),g=(0,d.Z)({},r,{component:a,hover:l,selected:c,head:p&&"head"===p.variant,footer:p&&"footer"===p.variant}),m=function(e){var t=e.classes,n={root:["root",e.selected&&"selected",e.hover&&"hover",e.head&&"head",e.footer&&"footer"]};return(0,xr.Z)(n,gc,t)}(g);return(0,C.jsx)(vc,(0,d.Z)({as:a,ref:n,className:(0,hr.Z)(m.root,i),role:"tr"===a?null:"row",ownerState:g},h))})),yc=Sc;var bc=(0,yr.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var Cc=(0,yr.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var wc=(0,yr.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Dc(e){return(0,br.Z)("MuiMenuItem",e)}var Tc,Pc,Lc,Ic,kc,Ac,Rc,Ec,Oc=(0,yr.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Fc=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],_c=(0,vr.ZP)(Yi,{shouldForwardProp:function(e){return(0,vr.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,d.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,G.Z)(t,"&.".concat(Oc.selected),(0,G.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Mr.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Oc.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,Mr.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,G.Z)(t,"&.".concat(Oc.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,Mr.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Mr.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,G.Z)(t,"&.".concat(Oc.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,G.Z)(t,"&.".concat(Oc.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),(0,G.Z)(t,"& + .".concat(bc.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,G.Z)(t,"& + .".concat(bc.inset),{marginLeft:52}),(0,G.Z)(t,"& .".concat(wc.root),{marginTop:0,marginBottom:0}),(0,G.Z)(t,"& .".concat(wc.inset),{paddingLeft:36}),(0,G.Z)(t,"& .".concat(Cc.root),{minWidth:36}),t),!r.dense&&(0,G.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,d.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,G.Z)({},"& .".concat(Cc.root," svg"),{fontSize:"1.25rem"})))})),Mc=e.forwardRef((function(t,n){var r=(0,f.Z)({props:t,name:"MuiMenuItem"}),i=r.autoFocus,o=void 0!==i&&i,a=r.component,l=void 0===a?"li":a,u=r.dense,c=void 0!==u&&u,h=r.divider,p=void 0!==h&&h,g=r.disableGutters,m=void 0!==g&&g,x=r.focusVisibleClassName,v=r.role,S=void 0===v?"menuitem":v,y=r.tabIndex,b=r.className,w=(0,j.Z)(r,Fc),D=e.useContext(Cl),T=e.useMemo((function(){return{dense:c||D.dense||!1,disableGutters:m}}),[D.dense,c,m]),P=e.useRef(null);(0,s.Z)((function(){o&&P.current&&P.current.focus()}),[o]);var L,I=(0,d.Z)({},r,{dense:T.dense,divider:p,disableGutters:m}),k=function(e){var t=e.disabled,n=e.dense,r=e.divider,i=e.disableGutters,o=e.selected,a=e.classes,s={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},l=(0,xr.Z)(s,Dc,a);return(0,d.Z)({},a,l)}(r),A=(0,ui.Z)(P,n);return r.disabled||(L=void 0!==y?y:-1),(0,C.jsx)(Cl.Provider,{value:T,children:(0,C.jsx)(_c,(0,d.Z)({ref:A,role:S,tabIndex:L,component:l,focusVisibleClassName:(0,hr.Z)(k.focusVisible,x),className:(0,hr.Z)(k.root,b)},w,{ownerState:I,classes:k}))})})),qc=(0,Au.Z)((0,C.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Nc=(0,Au.Z)((0,C.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Uc=(0,Au.Z)((0,C.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Bc=(0,Au.Z)((0,C.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Zc=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],Qc=e.forwardRef((function(e,t){var n=e.backIconButtonProps,r=e.count,i=e.getItemAriaLabel,o=e.nextIconButtonProps,a=e.onPageChange,s=e.page,l=e.rowsPerPage,u=e.showFirstButton,c=e.showLastButton,f=(0,j.Z)(e,Zc),h=qr();return(0,C.jsxs)("div",(0,d.Z)({ref:t},f,{children:[u&&(0,C.jsx)(to,{onClick:function(e){a(e,0)},disabled:0===s,"aria-label":i("first",s),title:i("first",s),children:"rtl"===h.direction?Tc||(Tc=(0,C.jsx)(Uc,{})):Pc||(Pc=(0,C.jsx)(Bc,{}))}),(0,C.jsx)(to,(0,d.Z)({onClick:function(e){a(e,s-1)},disabled:0===s,color:"inherit","aria-label":i("previous",s),title:i("previous",s)},n,{children:"rtl"===h.direction?Lc||(Lc=(0,C.jsx)(Nc,{})):Ic||(Ic=(0,C.jsx)(qc,{}))})),(0,C.jsx)(to,(0,d.Z)({onClick:function(e){a(e,s+1)},disabled:-1!==r&&s>=Math.ceil(r/l)-1,color:"inherit","aria-label":i("next",s),title:i("next",s)},o,{children:"rtl"===h.direction?kc||(kc=(0,C.jsx)(qc,{})):Ac||(Ac=(0,C.jsx)(Nc,{}))})),c&&(0,C.jsx)(to,{onClick:function(e){a(e,Math.max(0,Math.ceil(r/l)-1))},disabled:s>=Math.ceil(r/l)-1,"aria-label":i("last",s),title:i("last",s),children:"rtl"===h.direction?Rc||(Rc=(0,C.jsx)(Bc,{})):Ec||(Ec=(0,C.jsx)(Uc,{}))})]}))})),zc=n(7384);function Gc(e){return(0,br.Z)("MuiTablePagination",e)}var Vc,Wc=(0,yr.Z)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),jc=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],Hc=(0,vr.ZP)(lc,{name:"MuiTablePagination",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),Xc=(0,vr.ZP)($a,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:function(e,t){return(0,d.Z)((0,G.Z)({},"& .".concat(Wc.actions),t.actions),t.toolbar)}})((function(e){var t,n=e.theme;return t={minHeight:52,paddingRight:2},(0,G.Z)(t,"".concat(n.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:52}),(0,G.Z)(t,n.breakpoints.up("sm"),{minHeight:52,paddingRight:2}),(0,G.Z)(t,"& .".concat(Wc.actions),{flexShrink:0,marginLeft:20}),t})),Yc=(0,vr.ZP)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:function(e,t){return t.spacer}})({flex:"1 1 100%"}),Kc=(0,vr.ZP)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:function(e,t){return t.selectLabel}})((function(e){var t=e.theme;return(0,d.Z)({},t.typography.body2,{flexShrink:0})})),$c=(0,vr.ZP)(Nu,{name:"MuiTablePagination",slot:"Select",overridesResolver:function(e,t){var n;return(0,d.Z)((n={},(0,G.Z)(n,"& .".concat(Wc.selectIcon),t.selectIcon),(0,G.Z)(n,"& .".concat(Wc.select),t.select),n),t.input,t.selectRoot)}})((0,G.Z)({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8},"& .".concat(Wc.select),{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"})),Jc=(0,vr.ZP)(Mc,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:function(e,t){return t.menuItem}})({}),ed=(0,vr.ZP)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:function(e,t){return t.displayedRows}})((function(e){var t=e.theme;return(0,d.Z)({},t.typography.body2,{flexShrink:0})}));function td(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))}function nd(e){return"Go to ".concat(e," page")}var rd=e.forwardRef((function(t,n){var r,i=(0,f.Z)({props:t,name:"MuiTablePagination"}),o=i.ActionsComponent,a=void 0===o?Qc:o,s=i.backIconButtonProps,l=i.className,u=i.colSpan,c=i.component,h=void 0===c?lc:c,p=i.count,g=i.getItemAriaLabel,m=void 0===g?nd:g,x=i.labelDisplayedRows,v=void 0===x?td:x,S=i.labelRowsPerPage,y=void 0===S?"Rows per page:":S,b=i.nextIconButtonProps,w=i.onPageChange,D=i.onRowsPerPageChange,T=i.page,P=i.rowsPerPage,L=i.rowsPerPageOptions,I=void 0===L?[10,25,50,100]:L,k=i.SelectProps,A=void 0===k?{}:k,R=i.showFirstButton,E=void 0!==R&&R,O=i.showLastButton,F=void 0!==O&&O,_=(0,j.Z)(i,jc),M=i,q=function(e){var t=e.classes;return(0,xr.Z)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Gc,t)}(M),N=A.native?"option":Jc;h!==lc&&"td"!==h||(r=u||1e3);var U=(0,zc.Z)(A.id),B=(0,zc.Z)(A.labelId);return(0,C.jsx)(Hc,(0,d.Z)({colSpan:r,ref:n,as:h,ownerState:M,className:(0,hr.Z)(q.root,l)},_,{children:(0,C.jsxs)(Xc,{className:q.toolbar,children:[(0,C.jsx)(Yc,{className:q.spacer}),I.length>1&&(0,C.jsx)(Kc,{className:q.selectLabel,id:B,children:y}),I.length>1&&(0,C.jsx)($c,(0,d.Z)({variant:"standard"},!A.variant&&{input:Vc||(Vc=(0,C.jsx)(Ls,{}))},{value:P,onChange:D,id:U,labelId:B},A,{classes:(0,d.Z)({},A.classes,{root:(0,hr.Z)(q.input,q.selectRoot,(A.classes||{}).root),select:(0,hr.Z)(q.select,(A.classes||{}).select),icon:(0,hr.Z)(q.selectIcon,(A.classes||{}).icon)}),children:I.map((function(t){return(0,e.createElement)(N,(0,d.Z)({},!Vo(N)&&{ownerState:M},{className:q.menuItem,key:t.label?t.label:t,value:t.value?t.value:t}),t.label?t.label:t)}))})),(0,C.jsx)(ed,{className:q.displayedRows,children:v({from:0===p?0:T*P+1,to:-1===p?(T+1)*P:-1===P?p:Math.min(p,(T+1)*P),count:-1===p?-1:p,page:T})}),(0,C.jsx)(a,{className:q.actions,backIconButtonProps:s,count:p,nextIconButtonProps:b,onPageChange:w,page:T,rowsPerPage:P,showFirstButton:E,showLastButton:F,getItemAriaLabel:m})]})}))})),id=function(e){(0,Q.Z)(n,e);var t=(0,z.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,e)).handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){r.setState({page:0,rowsPerPage:e.target.value})},r.state={data:r.props.data,displayData:r.props.data,searchfor:"",page:0,rowsPerPage:10},r.filterList=r.filterList.bind((0,$.Z)(r)),r}return(0,Z.Z)(n,[{key:"filterList",value:function(e){var t=e.target.value,n=t.toLowerCase(),r=this.state.data.filter((function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if("string"!==typeof r&&(r=r.toString()),-1!==r.toLowerCase().indexOf(n))return!0}return!1}));this.setState({searchfor:t,displayData:r})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.displayData,r=t.searchfor,i=t.rowsPerPage,o=t.page;return(0,C.jsxs)("div",{className:e.container,children:[(0,C.jsx)(zu,{id:"search",type:"search",value:r,className:e.searchField,onChange:this.filterList,margin:"normal",size:"small",InputProps:{startAdornment:(0,C.jsx)(as,{position:"start",children:(0,C.jsx)(So.Z,{})})}}),(0,C.jsxs)(Xu,{className:e.table,children:[(0,C.jsx)(pc,{children:(0,C.jsxs)(yc,{children:[(0,C.jsx)(lc,{children:"Tag"}),(0,C.jsx)(lc,{children:"Value"})]})}),(0,C.jsx)(nc,{children:n.slice(o*i,o*i+i).map((function(t,n){return(0,C.jsxs)(yc,{className:e.row,children:[(0,C.jsx)(lc,{children:t.name}),(0,C.jsx)(lc,{children:t.value.toString()})]},n)}))})]}),(0,C.jsx)(rd,{component:"div",count:n.length,rowsPerPage:i,page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage})]})}}]),n}(e.Component),od=fr((function(e){return{flex:{flex:1},spacer:{flex:"1 1 100%"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},searchField:{backgroundColor:"white",marginLeft:20},container:{paddingLeft:10,paddingTop:20}}}))(id),ad=n(8108),sd=n.n(ad);sd().image.decoderScripts={jpeg2000:"".concat("/dwv-react/demo/trunk","/assets/dwv/decoders/pdfjs/decode-jpeg2000.js"),"jpeg-lossless":"".concat("/dwv-react/demo/trunk","/assets/dwv/decoders/rii-mango/decode-jpegloss.js"),"jpeg-baseline":"".concat("/dwv-react/demo/trunk","/assets/dwv/decoders/pdfjs/decode-jpegbaseline.js"),rle:"".concat("/dwv-react/demo/trunk","/assets/dwv/decoders/dwv/decode-rle.js")};var ld=e.forwardRef((function(e,t){return(0,C.jsx)(Ha,W(W({direction:"up"},e),{},{ref:t}))})),ud=function(t){(0,Q.Z)(r,t);var n=(0,z.Z)(r);function r(t){var i;return(0,B.Z)(this,r),(i=n.call(this,t)).onChangeTool=function(e){i.state.dwvApp&&(i.setState({selectedTool:e}),i.state.dwvApp.setTool(e),"Draw"===e&&i.onChangeShape(i.state.tools.Draw.options[0]))},i.onChangeShape=function(e){i.state.dwvApp&&i.state.dwvApp.setToolFeatures({shapeName:e})},i.onReset=function(){i.state.dwvApp&&i.state.dwvApp.resetDisplay()},i.handleTagsDialogOpen=function(){i.setState({showDicomTags:!0})},i.handleTagsDialogClose=function(){i.setState({showDicomTags:!1})},i.setupDropbox=function(e){i.showDropbox(e,!0)},i.defaultHandleDragEvent=function(e){e.stopPropagation(),e.preventDefault()},i.onBoxDragOver=function(e){i.defaultHandleDragEvent(e);var t=document.getElementById(i.state.dropboxDivId);t&&-1===t.className.indexOf(i.state.hoverClassName)&&(t.className+=" "+i.state.hoverClassName)},i.onBoxDragLeave=function(e){i.defaultHandleDragEvent(e);var t=document.getElementById(i.state.dropboxDivId);t&&-1!==t.className.indexOf(i.state.hoverClassName)&&(t.className=t.className.replace(" "+i.state.hoverClassName,""))},i.onDrop=function(e){i.defaultHandleDragEvent(e),i.state.dwvApp.loadFiles(e.dataTransfer.files)},i.showDropbox=function(e,t){var n=document.getElementById(i.state.dropboxDivId);if(n){var r=document.getElementById("layerGroup0");if(t){if(n.className=i.state.dropboxClassName+" "+i.state.borderClassName,""===n.innerHTML){var o=document.createElement("p");o.appendChild(document.createTextNode("Drag and drop data here")),n.appendChild(o)}n.setAttribute("style","display:initial"),r&&(r.removeEventListener("dragover",i.defaultHandleDragEvent),r.removeEventListener("dragleave",i.defaultHandleDragEvent),r.removeEventListener("drop",i.onDrop)),n.addEventListener("dragover",i.onBoxDragOver),n.addEventListener("dragleave",i.onBoxDragLeave),n.addEventListener("drop",i.onDrop)}else n.className=i.state.dropboxClassName,n.innerHTML="",n.setAttribute("style","display:none"),n.removeEventListener("dragover",i.onBoxDragOver),n.removeEventListener("dragleave",i.onBoxDragLeave),n.removeEventListener("drop",i.onDrop),r&&(r.addEventListener("dragover",i.defaultHandleDragEvent),r.addEventListener("dragleave",i.defaultHandleDragEvent),r.addEventListener("drop",i.onDrop))}},i.state={versions:{dwv:sd().getVersion(),react:e.version},tools:{Scroll:{},ZoomAndPan:{},WindowLevel:{},Draw:{options:["Ruler"]}},toolNames:[],selectedTool:"Select Tool",loadProgress:0,dataLoaded:!1,dwvApp:null,metaData:[],showDicomTags:!1,toolMenuAnchorEl:null,dropboxDivId:"dropBox",dropboxClassName:"dropBox",borderClassName:"dropBoxBorder",hoverClassName:"hover"},i}return(0,Z.Z)(r,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,r=n.versions,i=(n.tools,n.toolNames,n.loadProgress),o=n.dataLoaded,a=n.metaData;n.toolMenuAnchorEl;return(0,C.jsxs)("div",{id:"dwv",children:[(0,C.jsx)(si,{variant:"determinate",value:i}),(0,C.jsxs)(Fr,{direction:"row",spacing:1,padding:1,justifyContent:"center",children:[(0,C.jsxs)(po,{size:"small",color:"primary",value:this.state.selectedTool,exclusive:!0,onChange:function(t,n){n&&e.onChangeTool(n)},children:[(0,C.jsx)(ao,{value:"Scroll",disabled:!o,children:(0,C.jsx)(xo.Z,{})}),(0,C.jsx)(ao,{value:"ZoomAndPan",disabled:!o,children:(0,C.jsx)(So.Z,{})}),(0,C.jsx)(ao,{value:"WindowLevel",disabled:!o,children:(0,C.jsx)(vo.Z,{})}),(0,C.jsx)(ao,{value:"Draw",disabled:!o,children:(0,C.jsx)(bo.Z,{})})]}),(0,C.jsx)(ao,{size:"small",value:"reset",disabled:!o,onChange:this.onReset,children:(0,C.jsx)(mo.Z,{})}),(0,C.jsx)(ao,{size:"small",value:"tags",disabled:!o,onClick:this.handleTagsDialogOpen,children:(0,C.jsx)(yo.Z,{})}),(0,C.jsxs)(qa,{open:this.state.showDicomTags,onClose:this.handleTagsDialogClose,TransitionComponent:ld,classes:{paper:t.tagsDialog},children:[(0,C.jsx)(Qa,{className:t.appBar,children:(0,C.jsxs)($a,{children:[(0,C.jsx)(to,{color:"inherit",onClick:this.handleTagsDialogClose,"aria-label":"Close",children:(0,C.jsx)(go.Z,{})}),(0,C.jsx)(Lr,{variant:"h6",color:"inherit",className:t.flex,children:"DICOM Tags"})]})}),(0,C.jsx)(od,{data:a})]})]}),(0,C.jsx)("div",{id:"layerGroup0",className:"layerGroup",children:(0,C.jsx)("div",{id:"dropBox"})}),(0,C.jsx)("div",{children:(0,C.jsx)("p",{className:"legend",children:(0,C.jsxs)(Lr,{variant:"caption",children:["Powered by ",(0,C.jsx)(xi,{href:"https://github.com/ivmartel/dwv",title:"dwv on github",color:"inherit",children:"dwv"})," ",r.dwv," and ",(0,C.jsx)(xi,{href:"https://github.com/facebook/react",title:"react on github",color:"inherit",children:"React"})," ",r.react]})})})]})}},{key:"componentDidMount",value:function(){var e=this,t=new(sd().App);t.init({dataViewConfigs:{"*":[{divId:"layerGroup0"}]},tools:this.state.tools});var n=null,r=null,i=null,o=null;t.addEventListener("loadstart",(function(){n=0,r=0,i=0,o=!0,e.showDropbox(t,!1)})),t.addEventListener("loadprogress",(function(t){e.setState({loadProgress:t.loaded})})),t.addEventListener("renderend",(function(){if(o){o=!1;var n=[];for(var r in e.state.tools)("Scroll"===r&&t.canScroll()||"WindowLevel"===r&&t.canWindowLevel()||"Scroll"!==r&&"WindowLevel"!==r)&&n.push(r);e.setState({toolNames:n}),e.onChangeTool(n[0])}})),t.addEventListener("load",(function(){e.setState({metaData:sd().utils.objectToArray(t.getMetaData(0))}),e.setState({dataLoaded:!0})})),t.addEventListener("loadend",(function(){r&&(e.setState({loadProgress:0}),alert("Received errors during load. Check log for details."),n||e.showDropbox(t,!0)),i&&(e.setState({loadProgress:0}),alert("Load was aborted."),e.showDropbox(t,!0))})),t.addEventListener("loaditem",(function(){++n})),t.addEventListener("loaderror",(function(e){console.error(e.error),++r})),t.addEventListener("loadabort",(function(){++i})),t.addEventListener("keydown",(function(e){t.defaultOnKeydown(e)})),window.addEventListener("resize",t.onResize),this.setState({dwvApp:t}),this.setupDropbox(t),sd().utils.loadFromUri(window.location.href,t)}}]),r}(e.Component),cd=fr((function(e){return{appBar:{position:"relative"},title:{flex:"0 0 auto"},tagsDialog:{minHeight:"90vh",maxHeight:"90vh",minWidth:"90vw",maxWidth:"90vw"},iconSmall:{fontSize:20}}}))(ud);function dd(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,i=(0,a.Z)({name:"MuiUseMediaQuery",props:t,theme:n}),s=i.defaultMatches,d=void 0!==s&&s,f=i.matchMedia,h=void 0===f?r?window.matchMedia:null:f,p=i.ssrMatchMedia,g=void 0===p?null:p,m=i.noSsr,x=void 0!==m&&m,v="function"===typeof e?e(n):e;return v=v.replace(/^@media( ?)/m,""),(void 0!==u?c:l)(v,d,h,g,x)}("(prefers-color-scheme: dark)"),t=(0,k.Z)({typography:{useNextVariants:!0},palette:{primary:{main:N[500]},secondary:{main:U[500]},mode:e?"dark":"light"}});return(0,C.jsxs)(q,{theme:t,children:[(0,C.jsx)(I,{}),(0,C.jsx)("div",{className:"App",children:(0,C.jsx)(cd,{})})]})}var fd=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function hd(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var pd=document.getElementById("root");(0,r.s)(pd).render((0,C.jsx)(dd,{})),function(e){if("serviceWorker"in navigator){if(new URL("/dwv-react/demo/trunk",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/dwv-react/demo/trunk","/service-worker.js");fd?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):hd(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):hd(t,e)}))}}()}()}();
//# sourceMappingURL=main.8b7dbb75.js.map