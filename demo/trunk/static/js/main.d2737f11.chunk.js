(this["webpackJsonpdwv-react"]=this["webpackJsonpdwv-react"]||[]).push([[0],{169:function(e,a,t){e.exports=t(395)},174:function(e,a,t){},175:function(e,a,t){},332:function(e,a,t){},352:function(e,a){},354:function(e,a){},395:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t.n(n),r=t(16),s=t.n(r),l=(t(174),t(35)),i=t(36),c=t(38),d=t(37),u=t(39),p=t(168),m=t.n(p),h=t(20),g=t(88),v=t.n(g),f=t(89),w=t.n(f),E=(t(175),t(27)),b=t.n(E),C=t(66),y=t.n(C),D=t(161),N=t.n(D),P=t(163),j=t.n(P),k=t(90),O=t.n(k),S=t(167),L=t.n(S),x=t(162),T=t.n(x),A=t(92),M=t.n(A),B=t(166),R=t.n(B),I=t(164),W=t.n(I),z=t(165),F=t.n(z),H=t(160),V=t.n(H),J=t(91),U=t.n(J),Z=t(65),K=t(154),Q=t.n(K),$=t(152),q=t.n($),G=t(155),X=t.n(G),Y=t(156),_=t.n(Y),ee=t(158),ae=t.n(ee),te=t(40),ne=t.n(te),oe=t(157),re=t.n(oe),se=t(93),le=t.n(se),ie=t(159),ce=t.n(ie),de=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this,e))).handleChangePage=function(e,a){t.setState({page:a})},t.handleChangeRowsPerPage=function(e){t.setState({rowsPerPage:e.target.value})},t.state={data:t.props.data,displayData:t.props.data,searchfor:"",page:0,rowsPerPage:10},t.filterList=t.filterList.bind(Object(Z.a)(t)),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data,displayData:e.data})}},{key:"filterList",value:function(e){var a=e.target.value,t=a.toLowerCase(),n=this.state.data.filter((function(e){for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];if("string"!==typeof n&&(n=n.toString()),-1!==n.toLowerCase().indexOf(t))return!0}return!1}));this.setState({searchfor:a,displayData:n})}},{key:"render",value:function(){var e=this.props.classes,a=this.state,t=a.displayData,n=a.searchfor,r=a.rowsPerPage,s=a.page;return o.a.createElement("div",{className:e.container},o.a.createElement(q.a,{id:"search",type:"search",value:n,className:e.searchField,onChange:this.filterList,margin:"normal",InputProps:{startAdornment:o.a.createElement(Q.a,{position:"start"},o.a.createElement(X.a,null))}}),o.a.createElement(_.a,{className:e.table},o.a.createElement(re.a,null,o.a.createElement(le.a,null,o.a.createElement(ne.a,null,"Tag"),o.a.createElement(ne.a,null,"Value"))),o.a.createElement(ae.a,null,t.slice(s*r,s*r+r).map((function(a){return o.a.createElement(le.a,{className:e.row,key:a.group+a.element},o.a.createElement(ne.a,null,a.name),o.a.createElement(ne.a,null,a.value.toString()))})))),o.a.createElement(ce.a,{component:"div",count:t.length,rowsPerPage:r,page:s,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),a}(o.a.Component),ue=Object(h.withStyles)((function(e){return{flex:{flex:1},spacer:{flex:"1 1 100%"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},searchField:{backgroundColor:"white",marginLeft:20}}}))(de),pe=(t(332),t(24)),me=t.n(pe);me.a.gui.getElement=me.a.gui.base.getElement,me.a.image.decoderScripts={jpeg2000:"assets/dwv/decoders/pdfjs/decode-jpeg2000.js","jpeg-lossless":"assets/dwv/decoders/rii-mango/decode-jpegloss.js","jpeg-baseline":"assets/dwv/decoders/pdfjs/decode-jpegbaseline.js",rle:"assets/dwv/decoders/dwv/decode-rle.js"};function he(e){return o.a.createElement(V.a,Object.assign({direction:"up"},e))}var ge=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this,e))).onChangeTool=function(e){t.state.dwvApp&&(t.setState({selectedTool:e}),t.state.dwvApp.setTool(e),"Draw"===e&&t.onChangeShape(t.state.tools.Draw.options[0]))},t.onChangeShape=function(e){t.state.dwvApp&&t.state.dwvApp.setDrawShape(e)},t.onReset=function(e){t.state.dwvApp&&t.state.dwvApp.resetDisplay()},t.handleTagsDialogOpen=function(){t.setState({showDicomTags:!0})},t.handleTagsDialogClose=function(){t.setState({showDicomTags:!1})},t.handleMenuButtonClick=function(e){t.setState({toolMenuAnchorEl:e.currentTarget})},t.handleMenuClose=function(e){t.setState({toolMenuAnchorEl:null})},t.handleMenuItemClick=function(e){t.setState({toolMenuAnchorEl:null}),t.onChangeTool(e)},t.setupDropbox=function(e){var a=e.getElement("layerContainer");a&&(a.addEventListener("dragover",t.onDragOver),a.addEventListener("dragleave",t.onDragLeave),a.addEventListener("drop",t.onDrop));var n=e.getElement(t.state.dropboxClassName);if(n){var o=2*e.getLayerContainerSize().height/3;n.setAttribute("style","width:"+o+"px;height:"+o+"px")}},t.onDragOver=function(e){e.stopPropagation(),e.preventDefault();var a=t.state.dwvApp.getElement(t.state.borderClassName);a&&-1===a.className.indexOf(t.state.hoverClassName)&&(a.className+=" "+t.state.hoverClassName)},t.onDragLeave=function(e){e.stopPropagation(),e.preventDefault();var a=t.state.dwvApp.getElement(t.borderClassName+" hover");a&&-1!==a.className.indexOf(t.state.hoverClassName)&&(a.className=a.className.replace(" "+t.state.hoverClassName,""))},t.hideDropbox=function(){var e=t.state.dwvApp.getElement(t.state.dropboxClassName);e&&e.parentNode.removeChild(e)},t.onDrop=function(e){e.stopPropagation(),e.preventDefault(),t.state.dwvApp.loadFiles(e.dataTransfer.files),t.hideDropbox()},t.state={versions:{dwv:me.a.getVersion(),react:o.a.version},tools:{Scroll:{},ZoomAndPan:{},WindowLevel:{},Draw:{options:["Ruler"],type:"factory",events:["draw-create","draw-change","draw-move","draw-delete"]}},selectedTool:"Select Tool",loadProgress:0,dataLoaded:!1,dwvApp:null,metaData:[],showDicomTags:!1,toolMenuAnchorEl:null,dropboxClassName:"dropBox",borderClassName:"dropBoxBorder",hoverClassName:"hover"},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state,n=t.versions,r=t.tools,s=t.loadProgress,l=t.dataLoaded,i=t.metaData,c=t.toolMenuAnchorEl,d=Object.keys(r).map((function(a){return o.a.createElement(O.a,{onClick:e.handleMenuItemClick.bind(e,a),key:a,value:a},a)}));return o.a.createElement("div",{id:"dwv"},o.a.createElement(N.a,{variant:"determinate",value:s}),o.a.createElement("div",{className:"button-row"},o.a.createElement(y.a,{variant:"contained",color:"primary","aria-owns":c?"simple-menu":null,"aria-haspopup":"true",onClick:this.handleMenuButtonClick,disabled:!l,className:a.button,size:"medium"},this.state.selectedTool,o.a.createElement(T.a,{className:a.iconSmall})),o.a.createElement(j.a,{id:"simple-menu",anchorEl:c,open:Boolean(c),onClose:this.handleMenuClose},d),o.a.createElement(y.a,{variant:"contained",color:"primary",disabled:!l,onClick:this.onReset},"Reset"),o.a.createElement(y.a,{variant:"contained",color:"primary",onClick:this.handleTagsDialogOpen,disabled:!l,className:a.button,size:"medium"},"Tags"),o.a.createElement(W.a,{open:this.state.showDicomTags,onClose:this.handleTagsDialogClose,TransitionComponent:he,classes:{paper:a.tagsDialog}},o.a.createElement(F.a,{className:a.appBar},o.a.createElement(U.a,null,o.a.createElement(M.a,{color:"inherit",onClick:this.handleTagsDialogClose,"aria-label":"Close"},o.a.createElement(R.a,null)),o.a.createElement(b.a,{variant:"h6",color:"inherit",className:a.flex},"DICOM Tags"))),o.a.createElement(ue,{data:i}))),o.a.createElement("div",{className:"layerContainer"},o.a.createElement("div",{className:"dropBox dropBoxBorder"},o.a.createElement(b.a,null,"Drag and drop data here.")),o.a.createElement("canvas",{className:"imageLayer"},"Only for HTML5 compatible browsers..."),o.a.createElement("div",{className:"drawDiv"})),o.a.createElement("div",null,o.a.createElement("p",{className:"legend"},o.a.createElement(b.a,{variant:"caption"},"Powered by ",o.a.createElement(L.a,{href:"https://github.com/ivmartel/dwv",title:"dwv on github"},"dwv")," ",n.dwv," and React ",n.react))))}},{key:"componentDidMount",value:function(){var e=this,a=new me.a.App;a.init({containerDivId:"dwv",tools:this.state.tools});var t=null,n=null;a.addEventListener("load-start",(function(){t=0,n=0})),a.addEventListener("load-progress",(function(a){e.setState({loadProgress:a.loaded})})),a.addEventListener("load",(function(){e.setState({metaData:me.a.utils.objectToArray(a.getMetaData())});var t="Scroll";a.isMonoSliceData()&&1===a.getImage().getNumberOfFrames()&&(t="ZoomAndPan"),e.onChangeTool(t),e.hideDropbox(),e.setState({dataLoaded:!0})})),a.addEventListener("load-end",(function(){t&&(e.setState({loadProgress:0}),alert("Received errors during load. Check log for details.")),n&&(e.setState({loadProgress:0}),alert("Load was aborted."))})),a.addEventListener("error",(function(e){console.error(e.error),++t})),a.addEventListener("abort",(function(){++n})),a.addEventListener("keydown",(function(e){a.defaultOnKeydown(e)})),window.addEventListener("resize",a.onResize),this.setState({dwvApp:a}),this.setupDropbox(a),me.a.utils.loadFromUri(window.location.href,a)}}]),a}(o.a.Component),ve=Object(h.withStyles)((function(e){return{button:{margin:e.spacing.unit},appBar:{position:"relative"},title:{flex:"0 0 auto"},tagsDialog:{minHeight:"90vh",maxHeight:"90vh",minWidth:"90vw",maxWidth:"90vw"},iconSmall:{fontSize:20}}}))(ge),fe=Object(h.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:v.a,secondary:w.a,type:"light"}}),we=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(h.MuiThemeProvider,{theme:fe},o.a.createElement(m.a,null),o.a.createElement("div",{className:"App"},o.a.createElement(ve,null)))}}]),a}(n.Component),Ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function be(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(o.a.createElement(we,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/dwv-react/demo/trunk",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/dwv-react/demo/trunk","/service-worker.js");Ee?(!function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):be(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):be(e)}))}}()}},[[169,1,2]]]);
//# sourceMappingURL=main.d2737f11.chunk.js.map